
<script>
var cur_i = -1; var cur_ii = -1; var eat_king = -1;
var arm = 0;
var cell = new Array(8);//array - массив
var cell_av = new Array(8);


for(var i=0;i<8;i++)
	{
	cell[i]=new Array(8);
	cell_av[i] = new Array(8);
	for(var ii=0;ii<8;ii++){cell[i][ii]=0;cell_av[i][ii]=0;}
	}
	
cell[0][0]=1;cell[0][7]=1;//белая ладья
cell[0][1]=2;cell[0][6]=2;//белый конь
cell[0][2]=3;cell[0][5]=3;//белый слон
cell[0][3]=4;//белый ферзь
cell[0][4]=5;//белый король
for(var ii=0;ii<8;ii++)cell[1][ii]=11;//белые пешки

cell[7][0]=101;cell[7][7]=101;//черная ладья
cell[7][1]=102;cell[7][6]=102;//черный конь
cell[7][2]=103;cell[7][5]=103;//черный слон
cell[7][3]=104;//черный ферзь
cell[7][4]=105;//черный король
for(var ii=0;ii<8;ii++)cell[6][ii]=111;//чёрные пешки

</script>
<h1 id="ch_res" style="position:absolute;color:#EDDDD4; top:50%;right:25%;"></h1>
<p>
<p style="position:absolute; color:#704C5E; top:12%; left: 50%"> 
Ваш цвет фигур
<select id="ch_col">
    <option value=100>Белые</option>
    <option value=0>Чёрные</option>
   </select>
   <h1 id="ch_res" style=" position:absolute; top:50%;right:25%; color:#EDDDD4 ;"></h1>
   </p>
<a  style="  
    position: absolute; color:#704C5E ;
	top: 13.5%;left:39%"   >Играть с компьютером</a> 


<button id="cancel_m" style="position:absolute; color:#704C5E; top:16.5%; left:51% "

onclick="
		if(arm!=0)
			{
			 cell[cur_i][cur_ii]=arm;
			 arm=0;
			for(var i=0;i<8;i++)
			  for(var ii=0;ii<8;ii++)
				{cell_av[i][ii]=0;
				var i_r=i-0+1;var i_c=ii-0+1;
				if(cell[i][ii]==0)
					document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
					else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
				}
			cur_i=-1;cur_ii=-1;	
			}
		"

>Вернуть фигуру</button>

<button id=btn_next_move style="position:absolute; color:#704C5E; top:16.5%; left:43%"
onclick="var i_move=0;var eat_king = -1;var mm=new Array();
		for(var i=0;i<8;i++)
			for(var ii=0;ii<8;ii++)
				if((cell[i][ii]-0>document.getElementById('ch_col').value-0)
					&&(cell[i][ii]-0<document.getElementById('ch_col').value-0+100))
					{
					 var i_r=i+1;var ii_c=ii+1;
								 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+ii_c-1)+i_r).onclick();
					 for(var i1=0;i1<8;i1++)
						for(var ii1=0;ii1<8;ii1++)
							if(cell_av[i1][ii1]==1)
								{var i_r1=i1+1;var ii_c1=ii1+1;
								 
								mm[i_move]=new Array(4);
								 mm[i_move][0]=i;
								 mm[i_move][1]=ii;
								 mm[i_move][2]=i1;
								 mm[i_move][3]=ii1;
								 
								if(cell[i1][ii1]==105)
								 eat_king = i_move;
							    if(cell[i1][ii1]==5)
								 eat_king = i_move;
								if(cell[i1][ii1]==104)
								 eat_king = i_move;
								if(cell[i1][ii1]==4)
								 eat_king = i_move;
								if(cell[i1][ii1]==103)
								 eat_king = i_move;
								if(cell[i1][ii1]==3)
								 eat_king = i_move;
								if(cell[i1][ii1]==102)
								 eat_king = i_move;
								if(cell[i1][ii1]==2)
								 eat_king = i_move;
								if(cell[i1][ii1]==101)
								 eat_king = i_move;
								if(cell[i1][ii1]==1)
								 eat_king = i_move;
								if(cell[i1][ii1]==111)
								 eat_king = i_move;
								if(cell[i1][ii1]==11)
								 eat_king = i_move;
								
							 i_move++;
								}
					 document.getElementById('cancel_m').onclick();
			}
//ИИ
if (eat_king == -1)
	var i_m=Math.floor(Math.random()*i_move);
else

	var i_m = eat_king
//конец ИИ
var i_r=mm[i_m][0]+1;var i_c=mm[i_m][1]+1;
document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).onclick();
var i_r=mm[i_m][2]+1;var i_c=mm[i_m][3]+1;
document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).onclick();

"
>
Ход компьютера
</button>

<input id=c_from style="width:50;color:#704C5E"><input id=c_to style="color:#704C5E; width:50;">
<img src="FF.jpg" style="position:absolute;right: 0;width:100%;top: 0;height: 100%;z-index: -1;">

<h3  style="color:#704C5E;position:absolute;right: 6;bottom: 2;">Разработал<br><a href="../Miklyaev4/individ_ed.php?id=20&amp;fam=Темерёв&amp;name=Андрей&amp;s_name=Алексеевич&amp;group=IT_7_2020&amp;adr_s=Temeryov/шахматы.php&amp;btn_s=Добавить" style="color:#704C5E;">Темерёв Андрей</a></h3>

 <input  style="
    position: absolute;
	color:#704C5E;
	left: 47%;
	top: 13.5%"        
	type="checkbox" 
	id="ch_ai">

<h1 id=head_chess style="color:#704C5E;position: absolute;left: 46%;top: 5%;">Шахматы</h1>





<table style="position: absolute;left: 35%;top: 20%;"><tr><td id=td_`0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"></td><td id=td_a0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>a</h3></td><td id=td_b0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>b</h3></td><td id=td_c0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>c</h3></td><td id=td_d0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>d</h3></td><td id=td_e0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>e</h3></td><td id=td_f0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>f</h3></td><td id=td_g0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>g</h3></td><td id=td_h0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>h</h3></td><td id=td_i0 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"></td></tr><tr><td id=td_`1 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>1</h3></td><td id=td_a1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][0]!=0)
								 {cur_i=0;cur_ii=0;
								 arm=cell[0][0];
								 cell[0][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][0]==0) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][0]==0))	 
											  {
											  cell_av[2][0]=1;
											  document.getElementById('td_a3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][1]>100) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][-1]>100) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][0]>100))
											{cell_av[0+i_l][0]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][0]!=0))
											  break;
										  cell_av[0+i_l][0]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][0]>100))
											{cell_av[0-i_l][0]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][0]!=0))
											  break;
										  cell_av[0-i_l][0]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0][0+i_l]>100))
											{cell_av[0][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0][0+i_l]!=0))
											  break;
										  cell_av[0][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0][0-i_l]>100))
											{cell_av[0][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0][0-i_l]!=0))
											  break;
										  cell_av[0][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][0]>0)&&(cell[0+i_l][0]<100))
											{cell_av[0+i_l][0]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][0]!=0))
											  break;
										  cell_av[0+i_l][0]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][0]>0)&&(cell[0-i_l][0]<100))
											{cell_av[0-i_l][0]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][0]!=0))
											  break;
										  cell_av[0-i_l][0]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0][0+i_l]>0)&&(cell[0][0+i_l]<100))
											{cell_av[0][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0][0+i_l]!=0))
											  break;
										  cell_av[0][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0][0-i_l]>0)&&(cell[0][0-i_l]<100))
											{cell_av[0][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0][0-i_l]!=0))
											  break;
										  cell_av[0][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(0+i_l<8)&&(cell[0+i_l][0+i_l]>100))
											{cell_av[0+i_l][0+i_l]=1;
											 var i_r=1-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(0+i_l>7)||(cell[0+i_l][0+i_l]!=0))
											  break;
										  cell_av[0+i_l][0+i_l]=1;
										  var i_r=1-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(0-i_l>=0)&&(cell[0-i_l][0-i_l]>100))
											{cell_av[0-i_l][0-i_l]=1;
											 var i_r=1-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(0-i_l<0)||(cell[0-i_l][0-i_l]!=0))
											  break;
										  cell_av[0-i_l][0-i_l]=1;
										  var i_r=1-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(0+i_l<8)&&(cell[0-i_l][0+i_l]>100))
											{cell_av[0-i_l][0+i_l]=1;
											 var i_r=1-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(0+i_l>7)||(cell[0-i_l][0+i_l]!=0))
											  break;
										  cell_av[0-i_l][0+i_l]=1;
										  var i_r=1-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(0-i_l>=0)&&(cell[0+i_l][0-i_l]>100))
											{cell_av[0+i_l][0-i_l]=1;
											 var i_r=1-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(0-i_l<0)||(cell[0+i_l][0-i_l]!=0))
											  break;
										  cell_av[0+i_l][0-i_l]=1;
										  var i_r=1-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(0+i_l<8)&&(cell[0+i_l][0+i_l]>0)&&(cell[0+i_l][0+i_l]<100))
											{cell_av[0+i_l][0+i_l]=1;
											 var i_r=1-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(0+i_l>7)||(cell[0+i_l][0+i_l]!=0))
											  break;
										  cell_av[0+i_l][0+i_l]=1;
										  var i_r=1-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(0-i_l>=0)&&(cell[0-i_l][0-i_l]>0)&&(cell[0-i_l][0-i_l]<100))
											{cell_av[0-i_l][0-i_l]=1;
											 var i_r=1-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(0-i_l<0)||(cell[0-i_l][0-i_l]!=0))
											  break;
										  cell_av[0-i_l][0-i_l]=1;
										  var i_r=1-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(0+i_l<8)&&(cell[0-i_l][0+i_l]>0)&&(cell[0-i_l][0+i_l]<100))
											{cell_av[0-i_l][0+i_l]=1;
											 var i_r=1-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(0+i_l>7)||(cell[0-i_l][0+i_l]!=0))
											  break;
										  cell_av[0-i_l][0+i_l]=1;
										  var i_r=1-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(0-i_l>=0)&&(cell[0+i_l][0-i_l]>0)&&(cell[0+i_l][0-i_l]<100))
											{cell_av[0+i_l][0-i_l]=1;
											 var i_r=1-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(0-i_l<0)||(cell[0+i_l][0-i_l]!=0))
											  break;
										  cell_av[0+i_l][0-i_l]=1;
										  var i_r=1-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(1<8)&&(cell[2][1]==0))
										  {//2 точка
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(1<8)&&(cell[2][1]*(cell[2][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(2<8)&&(cell[1][2]==0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(2<8)&&(cell[1][2]*(cell[1][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(-2>=0)&&(cell[1][-2]==0)) 	 
										  {
										  cell_av[1][-2]=1;
										  document.getElementById('td__'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(-2>=0)&&(cell[1][-2]*(cell[1][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][-2]=1;
										  document.getElementById('td__'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(-1>=0)&&(cell[2][-1]==0)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(-1>=0)&&(cell[2][-1]*(cell[2][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(1<8)&&(cell[-2][1]==0))
										  {
										  cell_av[-2][1]=1;
										  document.getElementById('td_b'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(1<8)&&(cell[-2][1]*(cell[-2][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][1]=1;
										  document.getElementById('td_b'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2<8)&&(cell[-1][2]==0)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2<8)&&(cell[-1][2]*(cell[-1][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(-2>=0)&&(cell[-1][-2]==0)) 	 
										  {
										  cell_av[-1][-2]=1;
										  document.getElementById('td__'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(-2>=0)&&(cell[-1][-2]*(cell[-1][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][-2]=1;
										  document.getElementById('td__'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(-1>=0)&&(cell[-2][-1]==0)) 	 
										  {
										  cell_av[-2][-1]=1;
										  document.getElementById('td_`'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(-1>=0)&&(cell[-2][-1]*(cell[-2][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][-1]=1;
										  document.getElementById('td_`'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][0]==0) 	 
										  {
										  cell_av[-1][0]=1;
										  document.getElementById('td_a'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][0]==0))	 
												  {
												  cell_av[-2][0]=1;
												  document.getElementById('td_a'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][1]>0)&&(cell[-1][1]<100)) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][-1]>0)&&(cell[-1][-1]<100)) 	 
										  {
										  cell_av[-1][-1]=1;
										  document.getElementById('td_`'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp1.png" height=45></td><td id=td_b1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][1]!=0)
								 {cur_i=0;cur_ii=1;
								 arm=cell[0][1];
								 cell[0][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][1]==0) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][1]==0))	 
											  {
											  cell_av[2][1]=1;
											  document.getElementById('td_b3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][2]>100) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][0]>100) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][1]>100))
											{cell_av[0+i_l][1]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][1]!=0))
											  break;
										  cell_av[0+i_l][1]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][1]>100))
											{cell_av[0-i_l][1]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][1]!=0))
											  break;
										  cell_av[0-i_l][1]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[0][1+i_l]>100))
											{cell_av[0][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[0][1+i_l]!=0))
											  break;
										  cell_av[0][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[0][1-i_l]>100))
											{cell_av[0][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[0][1-i_l]!=0))
											  break;
										  cell_av[0][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][1]>0)&&(cell[0+i_l][1]<100))
											{cell_av[0+i_l][1]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][1]!=0))
											  break;
										  cell_av[0+i_l][1]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][1]>0)&&(cell[0-i_l][1]<100))
											{cell_av[0-i_l][1]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][1]!=0))
											  break;
										  cell_av[0-i_l][1]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[0][1+i_l]>0)&&(cell[0][1+i_l]<100))
											{cell_av[0][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[0][1+i_l]!=0))
											  break;
										  cell_av[0][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[0][1-i_l]>0)&&(cell[0][1-i_l]<100))
											{cell_av[0][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[0][1-i_l]!=0))
											  break;
										  cell_av[0][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(1+i_l<8)&&(cell[0+i_l][1+i_l]>100))
											{cell_av[0+i_l][1+i_l]=1;
											 var i_r=1-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(1+i_l>7)||(cell[0+i_l][1+i_l]!=0))
											  break;
										  cell_av[0+i_l][1+i_l]=1;
										  var i_r=1-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(1-i_l>=0)&&(cell[0-i_l][1-i_l]>100))
											{cell_av[0-i_l][1-i_l]=1;
											 var i_r=1-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(1-i_l<0)||(cell[0-i_l][1-i_l]!=0))
											  break;
										  cell_av[0-i_l][1-i_l]=1;
										  var i_r=1-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(1+i_l<8)&&(cell[0-i_l][1+i_l]>100))
											{cell_av[0-i_l][1+i_l]=1;
											 var i_r=1-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(1+i_l>7)||(cell[0-i_l][1+i_l]!=0))
											  break;
										  cell_av[0-i_l][1+i_l]=1;
										  var i_r=1-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(1-i_l>=0)&&(cell[0+i_l][1-i_l]>100))
											{cell_av[0+i_l][1-i_l]=1;
											 var i_r=1-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(1-i_l<0)||(cell[0+i_l][1-i_l]!=0))
											  break;
										  cell_av[0+i_l][1-i_l]=1;
										  var i_r=1-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(1+i_l<8)&&(cell[0+i_l][1+i_l]>0)&&(cell[0+i_l][1+i_l]<100))
											{cell_av[0+i_l][1+i_l]=1;
											 var i_r=1-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(1+i_l>7)||(cell[0+i_l][1+i_l]!=0))
											  break;
										  cell_av[0+i_l][1+i_l]=1;
										  var i_r=1-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(1-i_l>=0)&&(cell[0-i_l][1-i_l]>0)&&(cell[0-i_l][1-i_l]<100))
											{cell_av[0-i_l][1-i_l]=1;
											 var i_r=1-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(1-i_l<0)||(cell[0-i_l][1-i_l]!=0))
											  break;
										  cell_av[0-i_l][1-i_l]=1;
										  var i_r=1-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(1+i_l<8)&&(cell[0-i_l][1+i_l]>0)&&(cell[0-i_l][1+i_l]<100))
											{cell_av[0-i_l][1+i_l]=1;
											 var i_r=1-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(1+i_l>7)||(cell[0-i_l][1+i_l]!=0))
											  break;
										  cell_av[0-i_l][1+i_l]=1;
										  var i_r=1-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(1-i_l>=0)&&(cell[0+i_l][1-i_l]>0)&&(cell[0+i_l][1-i_l]<100))
											{cell_av[0+i_l][1-i_l]=1;
											 var i_r=1-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(1-i_l<0)||(cell[0+i_l][1-i_l]!=0))
											  break;
										  cell_av[0+i_l][1-i_l]=1;
										  var i_r=1-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(2<8)&&(cell[2][2]==0))
										  {//2 точка
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2<8)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(3<8)&&(cell[1][3]==0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(3<8)&&(cell[1][3]*(cell[1][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(-1>=0)&&(cell[1][-1]==0)) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(-1>=0)&&(cell[1][-1]*(cell[1][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(0>=0)&&(cell[2][0]==0)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(0>=0)&&(cell[2][0]*(cell[2][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(2<8)&&(cell[-2][2]==0))
										  {
										  cell_av[-2][2]=1;
										  document.getElementById('td_c'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(2<8)&&(cell[-2][2]*(cell[-2][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][2]=1;
										  document.getElementById('td_c'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3<8)&&(cell[-1][3]==0)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3<8)&&(cell[-1][3]*(cell[-1][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(-1>=0)&&(cell[-1][-1]==0)) 	 
										  {
										  cell_av[-1][-1]=1;
										  document.getElementById('td_`'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(-1>=0)&&(cell[-1][-1]*(cell[-1][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][-1]=1;
										  document.getElementById('td_`'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(0>=0)&&(cell[-2][0]==0)) 	 
										  {
										  cell_av[-2][0]=1;
										  document.getElementById('td_a'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(0>=0)&&(cell[-2][0]*(cell[-2][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][0]=1;
										  document.getElementById('td_a'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][1]==0) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][1]==0))	 
												  {
												  cell_av[-2][1]=1;
												  document.getElementById('td_b'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][2]>0)&&(cell[-1][2]<100)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][0]>0)&&(cell[-1][0]<100)) 	 
										  {
										  cell_av[-1][0]=1;
										  document.getElementById('td_a'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp2.png" height=45></td><td id=td_c1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][2]!=0)
								 {cur_i=0;cur_ii=2;
								 arm=cell[0][2];
								 cell[0][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][2]==0) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][2]==0))	 
											  {
											  cell_av[2][2]=1;
											  document.getElementById('td_c3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][3]>100) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][1]>100) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][2]>100))
											{cell_av[0+i_l][2]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][2]!=0))
											  break;
										  cell_av[0+i_l][2]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][2]>100))
											{cell_av[0-i_l][2]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][2]!=0))
											  break;
										  cell_av[0-i_l][2]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[0][2+i_l]>100))
											{cell_av[0][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[0][2+i_l]!=0))
											  break;
										  cell_av[0][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[0][2-i_l]>100))
											{cell_av[0][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[0][2-i_l]!=0))
											  break;
										  cell_av[0][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][2]>0)&&(cell[0+i_l][2]<100))
											{cell_av[0+i_l][2]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][2]!=0))
											  break;
										  cell_av[0+i_l][2]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][2]>0)&&(cell[0-i_l][2]<100))
											{cell_av[0-i_l][2]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][2]!=0))
											  break;
										  cell_av[0-i_l][2]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[0][2+i_l]>0)&&(cell[0][2+i_l]<100))
											{cell_av[0][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[0][2+i_l]!=0))
											  break;
										  cell_av[0][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[0][2-i_l]>0)&&(cell[0][2-i_l]<100))
											{cell_av[0][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[0][2-i_l]!=0))
											  break;
										  cell_av[0][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(2+i_l<8)&&(cell[0+i_l][2+i_l]>100))
											{cell_av[0+i_l][2+i_l]=1;
											 var i_r=1-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(2+i_l>7)||(cell[0+i_l][2+i_l]!=0))
											  break;
										  cell_av[0+i_l][2+i_l]=1;
										  var i_r=1-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(2-i_l>=0)&&(cell[0-i_l][2-i_l]>100))
											{cell_av[0-i_l][2-i_l]=1;
											 var i_r=1-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(2-i_l<0)||(cell[0-i_l][2-i_l]!=0))
											  break;
										  cell_av[0-i_l][2-i_l]=1;
										  var i_r=1-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(2+i_l<8)&&(cell[0-i_l][2+i_l]>100))
											{cell_av[0-i_l][2+i_l]=1;
											 var i_r=1-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(2+i_l>7)||(cell[0-i_l][2+i_l]!=0))
											  break;
										  cell_av[0-i_l][2+i_l]=1;
										  var i_r=1-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(2-i_l>=0)&&(cell[0+i_l][2-i_l]>100))
											{cell_av[0+i_l][2-i_l]=1;
											 var i_r=1-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(2-i_l<0)||(cell[0+i_l][2-i_l]!=0))
											  break;
										  cell_av[0+i_l][2-i_l]=1;
										  var i_r=1-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(2+i_l<8)&&(cell[0+i_l][2+i_l]>0)&&(cell[0+i_l][2+i_l]<100))
											{cell_av[0+i_l][2+i_l]=1;
											 var i_r=1-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(2+i_l>7)||(cell[0+i_l][2+i_l]!=0))
											  break;
										  cell_av[0+i_l][2+i_l]=1;
										  var i_r=1-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(2-i_l>=0)&&(cell[0-i_l][2-i_l]>0)&&(cell[0-i_l][2-i_l]<100))
											{cell_av[0-i_l][2-i_l]=1;
											 var i_r=1-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(2-i_l<0)||(cell[0-i_l][2-i_l]!=0))
											  break;
										  cell_av[0-i_l][2-i_l]=1;
										  var i_r=1-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(2+i_l<8)&&(cell[0-i_l][2+i_l]>0)&&(cell[0-i_l][2+i_l]<100))
											{cell_av[0-i_l][2+i_l]=1;
											 var i_r=1-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(2+i_l>7)||(cell[0-i_l][2+i_l]!=0))
											  break;
										  cell_av[0-i_l][2+i_l]=1;
										  var i_r=1-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(2-i_l>=0)&&(cell[0+i_l][2-i_l]>0)&&(cell[0+i_l][2-i_l]<100))
											{cell_av[0+i_l][2-i_l]=1;
											 var i_r=1-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(2-i_l<0)||(cell[0+i_l][2-i_l]!=0))
											  break;
										  cell_av[0+i_l][2-i_l]=1;
										  var i_r=1-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(3<8)&&(cell[2][3]==0))
										  {//2 точка
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3<8)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(4<8)&&(cell[1][4]==0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(4<8)&&(cell[1][4]*(cell[1][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(0>=0)&&(cell[1][0]==0)) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(0>=0)&&(cell[1][0]*(cell[1][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(1>=0)&&(cell[2][1]==0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(1>=0)&&(cell[2][1]*(cell[2][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(3<8)&&(cell[-2][3]==0))
										  {
										  cell_av[-2][3]=1;
										  document.getElementById('td_d'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(3<8)&&(cell[-2][3]*(cell[-2][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][3]=1;
										  document.getElementById('td_d'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4<8)&&(cell[-1][4]==0)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4<8)&&(cell[-1][4]*(cell[-1][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(0>=0)&&(cell[-1][0]==0)) 	 
										  {
										  cell_av[-1][0]=1;
										  document.getElementById('td_a'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(0>=0)&&(cell[-1][0]*(cell[-1][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][0]=1;
										  document.getElementById('td_a'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(1>=0)&&(cell[-2][1]==0)) 	 
										  {
										  cell_av[-2][1]=1;
										  document.getElementById('td_b'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(1>=0)&&(cell[-2][1]*(cell[-2][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][1]=1;
										  document.getElementById('td_b'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][2]==0) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][2]==0))	 
												  {
												  cell_av[-2][2]=1;
												  document.getElementById('td_c'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][3]>0)&&(cell[-1][3]<100)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][1]>0)&&(cell[-1][1]<100)) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp3.png" height=45></td><td id=td_d1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][3]!=0)
								 {cur_i=0;cur_ii=3;
								 arm=cell[0][3];
								 cell[0][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][3]==0) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][3]==0))	 
											  {
											  cell_av[2][3]=1;
											  document.getElementById('td_d3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][4]>100) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][2]>100) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][3]>100))
											{cell_av[0+i_l][3]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][3]!=0))
											  break;
										  cell_av[0+i_l][3]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][3]>100))
											{cell_av[0-i_l][3]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][3]!=0))
											  break;
										  cell_av[0-i_l][3]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[0][3+i_l]>100))
											{cell_av[0][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[0][3+i_l]!=0))
											  break;
										  cell_av[0][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[0][3-i_l]>100))
											{cell_av[0][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[0][3-i_l]!=0))
											  break;
										  cell_av[0][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][3]>0)&&(cell[0+i_l][3]<100))
											{cell_av[0+i_l][3]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][3]!=0))
											  break;
										  cell_av[0+i_l][3]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][3]>0)&&(cell[0-i_l][3]<100))
											{cell_av[0-i_l][3]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][3]!=0))
											  break;
										  cell_av[0-i_l][3]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[0][3+i_l]>0)&&(cell[0][3+i_l]<100))
											{cell_av[0][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[0][3+i_l]!=0))
											  break;
										  cell_av[0][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[0][3-i_l]>0)&&(cell[0][3-i_l]<100))
											{cell_av[0][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[0][3-i_l]!=0))
											  break;
										  cell_av[0][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(3+i_l<8)&&(cell[0+i_l][3+i_l]>100))
											{cell_av[0+i_l][3+i_l]=1;
											 var i_r=1-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(3+i_l>7)||(cell[0+i_l][3+i_l]!=0))
											  break;
										  cell_av[0+i_l][3+i_l]=1;
										  var i_r=1-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(3-i_l>=0)&&(cell[0-i_l][3-i_l]>100))
											{cell_av[0-i_l][3-i_l]=1;
											 var i_r=1-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(3-i_l<0)||(cell[0-i_l][3-i_l]!=0))
											  break;
										  cell_av[0-i_l][3-i_l]=1;
										  var i_r=1-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(3+i_l<8)&&(cell[0-i_l][3+i_l]>100))
											{cell_av[0-i_l][3+i_l]=1;
											 var i_r=1-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(3+i_l>7)||(cell[0-i_l][3+i_l]!=0))
											  break;
										  cell_av[0-i_l][3+i_l]=1;
										  var i_r=1-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(3-i_l>=0)&&(cell[0+i_l][3-i_l]>100))
											{cell_av[0+i_l][3-i_l]=1;
											 var i_r=1-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(3-i_l<0)||(cell[0+i_l][3-i_l]!=0))
											  break;
										  cell_av[0+i_l][3-i_l]=1;
										  var i_r=1-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(3+i_l<8)&&(cell[0+i_l][3+i_l]>0)&&(cell[0+i_l][3+i_l]<100))
											{cell_av[0+i_l][3+i_l]=1;
											 var i_r=1-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(3+i_l>7)||(cell[0+i_l][3+i_l]!=0))
											  break;
										  cell_av[0+i_l][3+i_l]=1;
										  var i_r=1-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(3-i_l>=0)&&(cell[0-i_l][3-i_l]>0)&&(cell[0-i_l][3-i_l]<100))
											{cell_av[0-i_l][3-i_l]=1;
											 var i_r=1-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(3-i_l<0)||(cell[0-i_l][3-i_l]!=0))
											  break;
										  cell_av[0-i_l][3-i_l]=1;
										  var i_r=1-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(3+i_l<8)&&(cell[0-i_l][3+i_l]>0)&&(cell[0-i_l][3+i_l]<100))
											{cell_av[0-i_l][3+i_l]=1;
											 var i_r=1-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(3+i_l>7)||(cell[0-i_l][3+i_l]!=0))
											  break;
										  cell_av[0-i_l][3+i_l]=1;
										  var i_r=1-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(3-i_l>=0)&&(cell[0+i_l][3-i_l]>0)&&(cell[0+i_l][3-i_l]<100))
											{cell_av[0+i_l][3-i_l]=1;
											 var i_r=1-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(3-i_l<0)||(cell[0+i_l][3-i_l]!=0))
											  break;
										  cell_av[0+i_l][3-i_l]=1;
										  var i_r=1-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(4<8)&&(cell[2][4]==0))
										  {//2 точка
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4<8)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(5<8)&&(cell[1][5]==0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(5<8)&&(cell[1][5]*(cell[1][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(1>=0)&&(cell[1][1]==0)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(1>=0)&&(cell[1][1]*(cell[1][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2>=0)&&(cell[2][2]==0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2>=0)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(4<8)&&(cell[-2][4]==0))
										  {
										  cell_av[-2][4]=1;
										  document.getElementById('td_e'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(4<8)&&(cell[-2][4]*(cell[-2][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][4]=1;
										  document.getElementById('td_e'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5<8)&&(cell[-1][5]==0)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5<8)&&(cell[-1][5]*(cell[-1][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(1>=0)&&(cell[-1][1]==0)) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(1>=0)&&(cell[-1][1]*(cell[-1][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(2>=0)&&(cell[-2][2]==0)) 	 
										  {
										  cell_av[-2][2]=1;
										  document.getElementById('td_c'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(2>=0)&&(cell[-2][2]*(cell[-2][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][2]=1;
										  document.getElementById('td_c'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][3]==0) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][3]==0))	 
												  {
												  cell_av[-2][3]=1;
												  document.getElementById('td_d'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][4]>0)&&(cell[-1][4]<100)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][2]>0)&&(cell[-1][2]<100)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp4.png" height=45></td><td id=td_e1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][4]!=0)
								 {cur_i=0;cur_ii=4;
								 arm=cell[0][4];
								 cell[0][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][4]==0) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][4]==0))	 
											  {
											  cell_av[2][4]=1;
											  document.getElementById('td_e3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][5]>100) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][3]>100) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][4]>100))
											{cell_av[0+i_l][4]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][4]!=0))
											  break;
										  cell_av[0+i_l][4]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][4]>100))
											{cell_av[0-i_l][4]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][4]!=0))
											  break;
										  cell_av[0-i_l][4]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[0][4+i_l]>100))
											{cell_av[0][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[0][4+i_l]!=0))
											  break;
										  cell_av[0][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[0][4-i_l]>100))
											{cell_av[0][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[0][4-i_l]!=0))
											  break;
										  cell_av[0][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][4]>0)&&(cell[0+i_l][4]<100))
											{cell_av[0+i_l][4]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][4]!=0))
											  break;
										  cell_av[0+i_l][4]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][4]>0)&&(cell[0-i_l][4]<100))
											{cell_av[0-i_l][4]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][4]!=0))
											  break;
										  cell_av[0-i_l][4]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[0][4+i_l]>0)&&(cell[0][4+i_l]<100))
											{cell_av[0][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[0][4+i_l]!=0))
											  break;
										  cell_av[0][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[0][4-i_l]>0)&&(cell[0][4-i_l]<100))
											{cell_av[0][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[0][4-i_l]!=0))
											  break;
										  cell_av[0][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(4+i_l<8)&&(cell[0+i_l][4+i_l]>100))
											{cell_av[0+i_l][4+i_l]=1;
											 var i_r=1-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(4+i_l>7)||(cell[0+i_l][4+i_l]!=0))
											  break;
										  cell_av[0+i_l][4+i_l]=1;
										  var i_r=1-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(4-i_l>=0)&&(cell[0-i_l][4-i_l]>100))
											{cell_av[0-i_l][4-i_l]=1;
											 var i_r=1-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(4-i_l<0)||(cell[0-i_l][4-i_l]!=0))
											  break;
										  cell_av[0-i_l][4-i_l]=1;
										  var i_r=1-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(4+i_l<8)&&(cell[0-i_l][4+i_l]>100))
											{cell_av[0-i_l][4+i_l]=1;
											 var i_r=1-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(4+i_l>7)||(cell[0-i_l][4+i_l]!=0))
											  break;
										  cell_av[0-i_l][4+i_l]=1;
										  var i_r=1-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(4-i_l>=0)&&(cell[0+i_l][4-i_l]>100))
											{cell_av[0+i_l][4-i_l]=1;
											 var i_r=1-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(4-i_l<0)||(cell[0+i_l][4-i_l]!=0))
											  break;
										  cell_av[0+i_l][4-i_l]=1;
										  var i_r=1-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(4+i_l<8)&&(cell[0+i_l][4+i_l]>0)&&(cell[0+i_l][4+i_l]<100))
											{cell_av[0+i_l][4+i_l]=1;
											 var i_r=1-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(4+i_l>7)||(cell[0+i_l][4+i_l]!=0))
											  break;
										  cell_av[0+i_l][4+i_l]=1;
										  var i_r=1-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(4-i_l>=0)&&(cell[0-i_l][4-i_l]>0)&&(cell[0-i_l][4-i_l]<100))
											{cell_av[0-i_l][4-i_l]=1;
											 var i_r=1-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(4-i_l<0)||(cell[0-i_l][4-i_l]!=0))
											  break;
										  cell_av[0-i_l][4-i_l]=1;
										  var i_r=1-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(4+i_l<8)&&(cell[0-i_l][4+i_l]>0)&&(cell[0-i_l][4+i_l]<100))
											{cell_av[0-i_l][4+i_l]=1;
											 var i_r=1-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(4+i_l>7)||(cell[0-i_l][4+i_l]!=0))
											  break;
										  cell_av[0-i_l][4+i_l]=1;
										  var i_r=1-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(4-i_l>=0)&&(cell[0+i_l][4-i_l]>0)&&(cell[0+i_l][4-i_l]<100))
											{cell_av[0+i_l][4-i_l]=1;
											 var i_r=1-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(4-i_l<0)||(cell[0+i_l][4-i_l]!=0))
											  break;
										  cell_av[0+i_l][4-i_l]=1;
										  var i_r=1-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(5<8)&&(cell[2][5]==0))
										  {//2 точка
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5<8)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(6<8)&&(cell[1][6]==0)) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(6<8)&&(cell[1][6]*(cell[1][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(2>=0)&&(cell[1][2]==0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(2>=0)&&(cell[1][2]*(cell[1][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3>=0)&&(cell[2][3]==0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3>=0)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(5<8)&&(cell[-2][5]==0))
										  {
										  cell_av[-2][5]=1;
										  document.getElementById('td_f'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(5<8)&&(cell[-2][5]*(cell[-2][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][5]=1;
										  document.getElementById('td_f'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(6<8)&&(cell[-1][6]==0)) 	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(6<8)&&(cell[-1][6]*(cell[-1][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2>=0)&&(cell[-1][2]==0)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2>=0)&&(cell[-1][2]*(cell[-1][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(3>=0)&&(cell[-2][3]==0)) 	 
										  {
										  cell_av[-2][3]=1;
										  document.getElementById('td_d'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(3>=0)&&(cell[-2][3]*(cell[-2][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][3]=1;
										  document.getElementById('td_d'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][4]==0) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][4]==0))	 
												  {
												  cell_av[-2][4]=1;
												  document.getElementById('td_e'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][5]>0)&&(cell[-1][5]<100)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][3]>0)&&(cell[-1][3]<100)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp5.png" height=45></td><td id=td_f1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][5]!=0)
								 {cur_i=0;cur_ii=5;
								 arm=cell[0][5];
								 cell[0][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][5]==0) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][5]==0))	 
											  {
											  cell_av[2][5]=1;
											  document.getElementById('td_f3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][6]>100) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][4]>100) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][5]>100))
											{cell_av[0+i_l][5]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][5]!=0))
											  break;
										  cell_av[0+i_l][5]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][5]>100))
											{cell_av[0-i_l][5]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][5]!=0))
											  break;
										  cell_av[0-i_l][5]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[0][5+i_l]>100))
											{cell_av[0][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[0][5+i_l]!=0))
											  break;
										  cell_av[0][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[0][5-i_l]>100))
											{cell_av[0][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[0][5-i_l]!=0))
											  break;
										  cell_av[0][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][5]>0)&&(cell[0+i_l][5]<100))
											{cell_av[0+i_l][5]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][5]!=0))
											  break;
										  cell_av[0+i_l][5]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][5]>0)&&(cell[0-i_l][5]<100))
											{cell_av[0-i_l][5]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][5]!=0))
											  break;
										  cell_av[0-i_l][5]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[0][5+i_l]>0)&&(cell[0][5+i_l]<100))
											{cell_av[0][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[0][5+i_l]!=0))
											  break;
										  cell_av[0][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[0][5-i_l]>0)&&(cell[0][5-i_l]<100))
											{cell_av[0][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[0][5-i_l]!=0))
											  break;
										  cell_av[0][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(5+i_l<8)&&(cell[0+i_l][5+i_l]>100))
											{cell_av[0+i_l][5+i_l]=1;
											 var i_r=1-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(5+i_l>7)||(cell[0+i_l][5+i_l]!=0))
											  break;
										  cell_av[0+i_l][5+i_l]=1;
										  var i_r=1-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(5-i_l>=0)&&(cell[0-i_l][5-i_l]>100))
											{cell_av[0-i_l][5-i_l]=1;
											 var i_r=1-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(5-i_l<0)||(cell[0-i_l][5-i_l]!=0))
											  break;
										  cell_av[0-i_l][5-i_l]=1;
										  var i_r=1-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(5+i_l<8)&&(cell[0-i_l][5+i_l]>100))
											{cell_av[0-i_l][5+i_l]=1;
											 var i_r=1-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(5+i_l>7)||(cell[0-i_l][5+i_l]!=0))
											  break;
										  cell_av[0-i_l][5+i_l]=1;
										  var i_r=1-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(5-i_l>=0)&&(cell[0+i_l][5-i_l]>100))
											{cell_av[0+i_l][5-i_l]=1;
											 var i_r=1-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(5-i_l<0)||(cell[0+i_l][5-i_l]!=0))
											  break;
										  cell_av[0+i_l][5-i_l]=1;
										  var i_r=1-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(5+i_l<8)&&(cell[0+i_l][5+i_l]>0)&&(cell[0+i_l][5+i_l]<100))
											{cell_av[0+i_l][5+i_l]=1;
											 var i_r=1-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(5+i_l>7)||(cell[0+i_l][5+i_l]!=0))
											  break;
										  cell_av[0+i_l][5+i_l]=1;
										  var i_r=1-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(5-i_l>=0)&&(cell[0-i_l][5-i_l]>0)&&(cell[0-i_l][5-i_l]<100))
											{cell_av[0-i_l][5-i_l]=1;
											 var i_r=1-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(5-i_l<0)||(cell[0-i_l][5-i_l]!=0))
											  break;
										  cell_av[0-i_l][5-i_l]=1;
										  var i_r=1-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(5+i_l<8)&&(cell[0-i_l][5+i_l]>0)&&(cell[0-i_l][5+i_l]<100))
											{cell_av[0-i_l][5+i_l]=1;
											 var i_r=1-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(5+i_l>7)||(cell[0-i_l][5+i_l]!=0))
											  break;
										  cell_av[0-i_l][5+i_l]=1;
										  var i_r=1-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(5-i_l>=0)&&(cell[0+i_l][5-i_l]>0)&&(cell[0+i_l][5-i_l]<100))
											{cell_av[0+i_l][5-i_l]=1;
											 var i_r=1-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(5-i_l<0)||(cell[0+i_l][5-i_l]!=0))
											  break;
										  cell_av[0+i_l][5-i_l]=1;
										  var i_r=1-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(6<8)&&(cell[2][6]==0))
										  {//2 точка
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(6<8)&&(cell[2][6]*(cell[2][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(7<8)&&(cell[1][7]==0)) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(7<8)&&(cell[1][7]*(cell[1][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(3>=0)&&(cell[1][3]==0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(3>=0)&&(cell[1][3]*(cell[1][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4>=0)&&(cell[2][4]==0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4>=0)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(6<8)&&(cell[-2][6]==0))
										  {
										  cell_av[-2][6]=1;
										  document.getElementById('td_g'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(6<8)&&(cell[-2][6]*(cell[-2][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][6]=1;
										  document.getElementById('td_g'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(7<8)&&(cell[-1][7]==0)) 	 
										  {
										  cell_av[-1][7]=1;
										  document.getElementById('td_h'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(7<8)&&(cell[-1][7]*(cell[-1][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][7]=1;
										  document.getElementById('td_h'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3>=0)&&(cell[-1][3]==0)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3>=0)&&(cell[-1][3]*(cell[-1][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(4>=0)&&(cell[-2][4]==0)) 	 
										  {
										  cell_av[-2][4]=1;
										  document.getElementById('td_e'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(4>=0)&&(cell[-2][4]*(cell[-2][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][4]=1;
										  document.getElementById('td_e'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][5]==0) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][5]==0))	 
												  {
												  cell_av[-2][5]=1;
												  document.getElementById('td_f'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][6]>0)&&(cell[-1][6]<100)) 	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][4]>0)&&(cell[-1][4]<100)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp3.png" height=45></td><td id=td_g1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][6]!=0)
								 {cur_i=0;cur_ii=6;
								 arm=cell[0][6];
								 cell[0][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][6]==0) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][6]==0))	 
											  {
											  cell_av[2][6]=1;
											  document.getElementById('td_g3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][7]>100) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][5]>100) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][6]>100))
											{cell_av[0+i_l][6]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][6]!=0))
											  break;
										  cell_av[0+i_l][6]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][6]>100))
											{cell_av[0-i_l][6]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][6]!=0))
											  break;
										  cell_av[0-i_l][6]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[0][6+i_l]>100))
											{cell_av[0][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[0][6+i_l]!=0))
											  break;
										  cell_av[0][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[0][6-i_l]>100))
											{cell_av[0][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[0][6-i_l]!=0))
											  break;
										  cell_av[0][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][6]>0)&&(cell[0+i_l][6]<100))
											{cell_av[0+i_l][6]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][6]!=0))
											  break;
										  cell_av[0+i_l][6]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][6]>0)&&(cell[0-i_l][6]<100))
											{cell_av[0-i_l][6]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][6]!=0))
											  break;
										  cell_av[0-i_l][6]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[0][6+i_l]>0)&&(cell[0][6+i_l]<100))
											{cell_av[0][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[0][6+i_l]!=0))
											  break;
										  cell_av[0][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[0][6-i_l]>0)&&(cell[0][6-i_l]<100))
											{cell_av[0][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[0][6-i_l]!=0))
											  break;
										  cell_av[0][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(6+i_l<8)&&(cell[0+i_l][6+i_l]>100))
											{cell_av[0+i_l][6+i_l]=1;
											 var i_r=1-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(6+i_l>7)||(cell[0+i_l][6+i_l]!=0))
											  break;
										  cell_av[0+i_l][6+i_l]=1;
										  var i_r=1-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(6-i_l>=0)&&(cell[0-i_l][6-i_l]>100))
											{cell_av[0-i_l][6-i_l]=1;
											 var i_r=1-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(6-i_l<0)||(cell[0-i_l][6-i_l]!=0))
											  break;
										  cell_av[0-i_l][6-i_l]=1;
										  var i_r=1-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(6+i_l<8)&&(cell[0-i_l][6+i_l]>100))
											{cell_av[0-i_l][6+i_l]=1;
											 var i_r=1-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(6+i_l>7)||(cell[0-i_l][6+i_l]!=0))
											  break;
										  cell_av[0-i_l][6+i_l]=1;
										  var i_r=1-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(6-i_l>=0)&&(cell[0+i_l][6-i_l]>100))
											{cell_av[0+i_l][6-i_l]=1;
											 var i_r=1-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(6-i_l<0)||(cell[0+i_l][6-i_l]!=0))
											  break;
										  cell_av[0+i_l][6-i_l]=1;
										  var i_r=1-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(6+i_l<8)&&(cell[0+i_l][6+i_l]>0)&&(cell[0+i_l][6+i_l]<100))
											{cell_av[0+i_l][6+i_l]=1;
											 var i_r=1-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(6+i_l>7)||(cell[0+i_l][6+i_l]!=0))
											  break;
										  cell_av[0+i_l][6+i_l]=1;
										  var i_r=1-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(6-i_l>=0)&&(cell[0-i_l][6-i_l]>0)&&(cell[0-i_l][6-i_l]<100))
											{cell_av[0-i_l][6-i_l]=1;
											 var i_r=1-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(6-i_l<0)||(cell[0-i_l][6-i_l]!=0))
											  break;
										  cell_av[0-i_l][6-i_l]=1;
										  var i_r=1-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(6+i_l<8)&&(cell[0-i_l][6+i_l]>0)&&(cell[0-i_l][6+i_l]<100))
											{cell_av[0-i_l][6+i_l]=1;
											 var i_r=1-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(6+i_l>7)||(cell[0-i_l][6+i_l]!=0))
											  break;
										  cell_av[0-i_l][6+i_l]=1;
										  var i_r=1-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(6-i_l>=0)&&(cell[0+i_l][6-i_l]>0)&&(cell[0+i_l][6-i_l]<100))
											{cell_av[0+i_l][6-i_l]=1;
											 var i_r=1-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(6-i_l<0)||(cell[0+i_l][6-i_l]!=0))
											  break;
										  cell_av[0+i_l][6-i_l]=1;
										  var i_r=1-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(7<8)&&(cell[2][7]==0))
										  {//2 точка
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(7<8)&&(cell[2][7]*(cell[2][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(8<8)&&(cell[1][8]==0)) 	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(8<8)&&(cell[1][8]*(cell[1][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(4>=0)&&(cell[1][4]==0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(4>=0)&&(cell[1][4]*(cell[1][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5>=0)&&(cell[2][5]==0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5>=0)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(7<8)&&(cell[-2][7]==0))
										  {
										  cell_av[-2][7]=1;
										  document.getElementById('td_h'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(7<8)&&(cell[-2][7]*(cell[-2][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][7]=1;
										  document.getElementById('td_h'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(8<8)&&(cell[-1][8]==0)) 	 
										  {
										  cell_av[-1][8]=1;
										  document.getElementById('td_i'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(8<8)&&(cell[-1][8]*(cell[-1][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][8]=1;
										  document.getElementById('td_i'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4>=0)&&(cell[-1][4]==0)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4>=0)&&(cell[-1][4]*(cell[-1][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(5>=0)&&(cell[-2][5]==0)) 	 
										  {
										  cell_av[-2][5]=1;
										  document.getElementById('td_f'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(5>=0)&&(cell[-2][5]*(cell[-2][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][5]=1;
										  document.getElementById('td_f'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][6]==0) 	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][6]==0))	 
												  {
												  cell_av[-2][6]=1;
												  document.getElementById('td_g'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][7]>0)&&(cell[-1][7]<100)) 	 
										  {
										  cell_av[-1][7]=1;
										  document.getElementById('td_h'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][5]>0)&&(cell[-1][5]<100)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp2.png" height=45></td><td id=td_h1 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[0][7]!=0)
								 {cur_i=0;cur_ii=7;
								 arm=cell[0][7];
								 cell[0][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[1][7]==0) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==2)&&(cell[2][7]==0))	 
											  {
											  cell_av[2][7]=1;
											  document.getElementById('td_h3').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[1][8]>100) 	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[1][6]>100) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][7]>100))
											{cell_av[0+i_l][7]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][7]!=0))
											  break;
										  cell_av[0+i_l][7]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][7]>100))
											{cell_av[0-i_l][7]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][7]!=0))
											  break;
										  cell_av[0-i_l][7]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[0][7+i_l]>100))
											{cell_av[0][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[0][7+i_l]!=0))
											  break;
										  cell_av[0][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[0][7-i_l]>100))
											{cell_av[0][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[0][7-i_l]!=0))
											  break;
										  cell_av[0][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[0+i_l][7]>0)&&(cell[0+i_l][7]<100))
											{cell_av[0+i_l][7]=1;
											 var i_r=1-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[0+i_l][7]!=0))
											  break;
										  cell_av[0+i_l][7]=1;
										  var i_r=1-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[0-i_l][7]>0)&&(cell[0-i_l][7]<100))
											{cell_av[0-i_l][7]=1;
											 var i_r=1-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[0-i_l][7]!=0))
											  break;
										  cell_av[0-i_l][7]=1;
										  var i_r=1-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[0][7+i_l]>0)&&(cell[0][7+i_l]<100))
											{cell_av[0][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[0][7+i_l]!=0))
											  break;
										  cell_av[0][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[0][7-i_l]>0)&&(cell[0][7-i_l]<100))
											{cell_av[0][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[0][7-i_l]!=0))
											  break;
										  cell_av[0][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(7+i_l<8)&&(cell[0+i_l][7+i_l]>100))
											{cell_av[0+i_l][7+i_l]=1;
											 var i_r=1-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(7+i_l>7)||(cell[0+i_l][7+i_l]!=0))
											  break;
										  cell_av[0+i_l][7+i_l]=1;
										  var i_r=1-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(7-i_l>=0)&&(cell[0-i_l][7-i_l]>100))
											{cell_av[0-i_l][7-i_l]=1;
											 var i_r=1-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(7-i_l<0)||(cell[0-i_l][7-i_l]!=0))
											  break;
										  cell_av[0-i_l][7-i_l]=1;
										  var i_r=1-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(7+i_l<8)&&(cell[0-i_l][7+i_l]>100))
											{cell_av[0-i_l][7+i_l]=1;
											 var i_r=1-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(7+i_l>7)||(cell[0-i_l][7+i_l]!=0))
											  break;
										  cell_av[0-i_l][7+i_l]=1;
										  var i_r=1-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(7-i_l>=0)&&(cell[0+i_l][7-i_l]>100))
											{cell_av[0+i_l][7-i_l]=1;
											 var i_r=1-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(7-i_l<0)||(cell[0+i_l][7-i_l]!=0))
											  break;
										  cell_av[0+i_l][7-i_l]=1;
										  var i_r=1-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(7+i_l<8)&&(cell[0+i_l][7+i_l]>0)&&(cell[0+i_l][7+i_l]<100))
											{cell_av[0+i_l][7+i_l]=1;
											 var i_r=1-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(7+i_l>7)||(cell[0+i_l][7+i_l]!=0))
											  break;
										  cell_av[0+i_l][7+i_l]=1;
										  var i_r=1-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(7-i_l>=0)&&(cell[0-i_l][7-i_l]>0)&&(cell[0-i_l][7-i_l]<100))
											{cell_av[0-i_l][7-i_l]=1;
											 var i_r=1-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(7-i_l<0)||(cell[0-i_l][7-i_l]!=0))
											  break;
										  cell_av[0-i_l][7-i_l]=1;
										  var i_r=1-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(7+i_l<8)&&(cell[0-i_l][7+i_l]>0)&&(cell[0-i_l][7+i_l]<100))
											{cell_av[0-i_l][7+i_l]=1;
											 var i_r=1-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(7+i_l>7)||(cell[0-i_l][7+i_l]!=0))
											  break;
										  cell_av[0-i_l][7+i_l]=1;
										  var i_r=1-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(7-i_l>=0)&&(cell[0+i_l][7-i_l]>0)&&(cell[0+i_l][7-i_l]<100))
											{cell_av[0+i_l][7-i_l]=1;
											 var i_r=1-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(7-i_l<0)||(cell[0+i_l][7-i_l]!=0))
											  break;
										  cell_av[0+i_l][7-i_l]=1;
										  var i_r=1-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((2<8)&&(8<8)&&(cell[2][8]==0))
										  {//2 точка
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(8<8)&&(cell[2][8]*(cell[2][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(9<8)&&(cell[1][9]==0)) 	 
										  {
										  cell_av[1][9]=1;
										  document.getElementById('td_j'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(9<8)&&(cell[1][9]*(cell[1][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][9]=1;
										  document.getElementById('td_j'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(5>=0)&&(cell[1][5]==0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1<8)&&(5>=0)&&(cell[1][5]*(cell[1][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(6>=0)&&(cell[2][6]==0)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(6>=0)&&(cell[2][6]*(cell[2][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-2>=0)&&(8<8)&&(cell[-2][8]==0))
										  {
										  cell_av[-2][8]=1;
										  document.getElementById('td_i'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(8<8)&&(cell[-2][8]*(cell[-2][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-2][8]=1;
										  document.getElementById('td_i'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(9<8)&&(cell[-1][9]==0)) 	 
										  {
										  cell_av[-1][9]=1;
										  document.getElementById('td_j'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(9<8)&&(cell[-1][9]*(cell[-1][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][9]=1;
										  document.getElementById('td_j'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5>=0)&&(cell[-1][5]==0)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5>=0)&&(cell[-1][5]*(cell[-1][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(6>=0)&&(cell[-2][6]==0)) 	 
										  {
										  cell_av[-2][6]=1;
										  document.getElementById('td_g'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-2>=0)&&(6>=0)&&(cell[-2][6]*(cell[-2][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[-2][6]=1;
										  document.getElementById('td_g'+'-1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[-1][7]==0) 	 
										  {
										  cell_av[-1][7]=1;
										  document.getElementById('td_h'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((1==7)&&(cell[-2][7]==0))	 
												  {
												  cell_av[-2][7]=1;
												  document.getElementById('td_h'+'-1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[-1][8]>0)&&(cell[-1][8]<100)) 	 
										  {
										  cell_av[-1][8]=1;
										  document.getElementById('td_i'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[-1][6]>0)&&(cell[-1][6]<100)) 	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[0][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[0][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[0][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[0][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[0][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(1==8))arm=4;
										if((arm==111)&&(1==1))arm=104;
										cell[0][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+1;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[0][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[0][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp1.png" height=45></td><td id=td_i1 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>1</h3></td></tr><tr><td id=td_`2 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>2</h3></td><td id=td_a2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][0]!=0)
								 {cur_i=1;cur_ii=0;
								 arm=cell[1][0];
								 cell[1][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][0]==0) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][0]==0))	 
											  {
											  cell_av[3][0]=1;
											  document.getElementById('td_a4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][1]>100) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][-1]>100) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][0]>100))
											{cell_av[1+i_l][0]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][0]!=0))
											  break;
										  cell_av[1+i_l][0]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][0]>100))
											{cell_av[1-i_l][0]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][0]!=0))
											  break;
										  cell_av[1-i_l][0]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[1][0+i_l]>100))
											{cell_av[1][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[1][0+i_l]!=0))
											  break;
										  cell_av[1][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[1][0-i_l]>100))
											{cell_av[1][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[1][0-i_l]!=0))
											  break;
										  cell_av[1][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][0]>0)&&(cell[1+i_l][0]<100))
											{cell_av[1+i_l][0]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][0]!=0))
											  break;
										  cell_av[1+i_l][0]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][0]>0)&&(cell[1-i_l][0]<100))
											{cell_av[1-i_l][0]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][0]!=0))
											  break;
										  cell_av[1-i_l][0]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[1][0+i_l]>0)&&(cell[1][0+i_l]<100))
											{cell_av[1][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[1][0+i_l]!=0))
											  break;
										  cell_av[1][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[1][0-i_l]>0)&&(cell[1][0-i_l]<100))
											{cell_av[1][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[1][0-i_l]!=0))
											  break;
										  cell_av[1][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(0+i_l<8)&&(cell[1+i_l][0+i_l]>100))
											{cell_av[1+i_l][0+i_l]=1;
											 var i_r=2-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(0+i_l>7)||(cell[1+i_l][0+i_l]!=0))
											  break;
										  cell_av[1+i_l][0+i_l]=1;
										  var i_r=2-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(0-i_l>=0)&&(cell[1-i_l][0-i_l]>100))
											{cell_av[1-i_l][0-i_l]=1;
											 var i_r=2-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(0-i_l<0)||(cell[1-i_l][0-i_l]!=0))
											  break;
										  cell_av[1-i_l][0-i_l]=1;
										  var i_r=2-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(0+i_l<8)&&(cell[1-i_l][0+i_l]>100))
											{cell_av[1-i_l][0+i_l]=1;
											 var i_r=2-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(0+i_l>7)||(cell[1-i_l][0+i_l]!=0))
											  break;
										  cell_av[1-i_l][0+i_l]=1;
										  var i_r=2-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(0-i_l>=0)&&(cell[1+i_l][0-i_l]>100))
											{cell_av[1+i_l][0-i_l]=1;
											 var i_r=2-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(0-i_l<0)||(cell[1+i_l][0-i_l]!=0))
											  break;
										  cell_av[1+i_l][0-i_l]=1;
										  var i_r=2-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(0+i_l<8)&&(cell[1+i_l][0+i_l]>0)&&(cell[1+i_l][0+i_l]<100))
											{cell_av[1+i_l][0+i_l]=1;
											 var i_r=2-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(0+i_l>7)||(cell[1+i_l][0+i_l]!=0))
											  break;
										  cell_av[1+i_l][0+i_l]=1;
										  var i_r=2-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(0-i_l>=0)&&(cell[1-i_l][0-i_l]>0)&&(cell[1-i_l][0-i_l]<100))
											{cell_av[1-i_l][0-i_l]=1;
											 var i_r=2-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(0-i_l<0)||(cell[1-i_l][0-i_l]!=0))
											  break;
										  cell_av[1-i_l][0-i_l]=1;
										  var i_r=2-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(0+i_l<8)&&(cell[1-i_l][0+i_l]>0)&&(cell[1-i_l][0+i_l]<100))
											{cell_av[1-i_l][0+i_l]=1;
											 var i_r=2-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(0+i_l>7)||(cell[1-i_l][0+i_l]!=0))
											  break;
										  cell_av[1-i_l][0+i_l]=1;
										  var i_r=2-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(0-i_l>=0)&&(cell[1+i_l][0-i_l]>0)&&(cell[1+i_l][0-i_l]<100))
											{cell_av[1+i_l][0-i_l]=1;
											 var i_r=2-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(0-i_l<0)||(cell[1+i_l][0-i_l]!=0))
											  break;
										  cell_av[1+i_l][0-i_l]=1;
										  var i_r=2-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(1<8)&&(cell[3][1]==0))
										  {//2 точка
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(1<8)&&(cell[3][1]*(cell[3][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2<8)&&(cell[2][2]==0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2<8)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(-2>=0)&&(cell[2][-2]==0)) 	 
										  {
										  cell_av[2][-2]=1;
										  document.getElementById('td__'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(-2>=0)&&(cell[2][-2]*(cell[2][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][-2]=1;
										  document.getElementById('td__'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(-1>=0)&&(cell[3][-1]==0)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(-1>=0)&&(cell[3][-1]*(cell[3][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(1<8)&&(cell[-1][1]==0))
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(1<8)&&(cell[-1][1]*(cell[-1][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2<8)&&(cell[0][2]==0)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2<8)&&(cell[0][2]*(cell[0][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(-2>=0)&&(cell[0][-2]==0)) 	 
										  {
										  cell_av[0][-2]=1;
										  document.getElementById('td__'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(-2>=0)&&(cell[0][-2]*(cell[0][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][-2]=1;
										  document.getElementById('td__'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(-1>=0)&&(cell[-1][-1]==0)) 	 
										  {
										  cell_av[-1][-1]=1;
										  document.getElementById('td_`'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(-1>=0)&&(cell[-1][-1]*(cell[-1][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][-1]=1;
										  document.getElementById('td_`'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][0]==0) 	 
										  {
										  cell_av[0][0]=1;
										  document.getElementById('td_a'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][0]==0))	 
												  {
												  cell_av[-1][0]=1;
												  document.getElementById('td_a'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][1]>0)&&(cell[0][1]<100)) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][-1]>0)&&(cell[0][-1]<100)) 	 
										  {
										  cell_av[0][-1]=1;
										  document.getElementById('td_`'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp11.png" height=45></td><td id=td_b2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][1]!=0)
								 {cur_i=1;cur_ii=1;
								 arm=cell[1][1];
								 cell[1][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][1]==0) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][1]==0))	 
											  {
											  cell_av[3][1]=1;
											  document.getElementById('td_b4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][2]>100) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][0]>100) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][1]>100))
											{cell_av[1+i_l][1]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][1]!=0))
											  break;
										  cell_av[1+i_l][1]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][1]>100))
											{cell_av[1-i_l][1]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][1]!=0))
											  break;
										  cell_av[1-i_l][1]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1][1+i_l]>100))
											{cell_av[1][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1][1+i_l]!=0))
											  break;
										  cell_av[1][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1][1-i_l]>100))
											{cell_av[1][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1][1-i_l]!=0))
											  break;
										  cell_av[1][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][1]>0)&&(cell[1+i_l][1]<100))
											{cell_av[1+i_l][1]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][1]!=0))
											  break;
										  cell_av[1+i_l][1]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][1]>0)&&(cell[1-i_l][1]<100))
											{cell_av[1-i_l][1]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][1]!=0))
											  break;
										  cell_av[1-i_l][1]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1][1+i_l]>0)&&(cell[1][1+i_l]<100))
											{cell_av[1][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1][1+i_l]!=0))
											  break;
										  cell_av[1][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1][1-i_l]>0)&&(cell[1][1-i_l]<100))
											{cell_av[1][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1][1-i_l]!=0))
											  break;
										  cell_av[1][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(1+i_l<8)&&(cell[1+i_l][1+i_l]>100))
											{cell_av[1+i_l][1+i_l]=1;
											 var i_r=2-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(1+i_l>7)||(cell[1+i_l][1+i_l]!=0))
											  break;
										  cell_av[1+i_l][1+i_l]=1;
										  var i_r=2-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(1-i_l>=0)&&(cell[1-i_l][1-i_l]>100))
											{cell_av[1-i_l][1-i_l]=1;
											 var i_r=2-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(1-i_l<0)||(cell[1-i_l][1-i_l]!=0))
											  break;
										  cell_av[1-i_l][1-i_l]=1;
										  var i_r=2-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(1+i_l<8)&&(cell[1-i_l][1+i_l]>100))
											{cell_av[1-i_l][1+i_l]=1;
											 var i_r=2-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(1+i_l>7)||(cell[1-i_l][1+i_l]!=0))
											  break;
										  cell_av[1-i_l][1+i_l]=1;
										  var i_r=2-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(1-i_l>=0)&&(cell[1+i_l][1-i_l]>100))
											{cell_av[1+i_l][1-i_l]=1;
											 var i_r=2-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(1-i_l<0)||(cell[1+i_l][1-i_l]!=0))
											  break;
										  cell_av[1+i_l][1-i_l]=1;
										  var i_r=2-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(1+i_l<8)&&(cell[1+i_l][1+i_l]>0)&&(cell[1+i_l][1+i_l]<100))
											{cell_av[1+i_l][1+i_l]=1;
											 var i_r=2-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(1+i_l>7)||(cell[1+i_l][1+i_l]!=0))
											  break;
										  cell_av[1+i_l][1+i_l]=1;
										  var i_r=2-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(1-i_l>=0)&&(cell[1-i_l][1-i_l]>0)&&(cell[1-i_l][1-i_l]<100))
											{cell_av[1-i_l][1-i_l]=1;
											 var i_r=2-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(1-i_l<0)||(cell[1-i_l][1-i_l]!=0))
											  break;
										  cell_av[1-i_l][1-i_l]=1;
										  var i_r=2-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(1+i_l<8)&&(cell[1-i_l][1+i_l]>0)&&(cell[1-i_l][1+i_l]<100))
											{cell_av[1-i_l][1+i_l]=1;
											 var i_r=2-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(1+i_l>7)||(cell[1-i_l][1+i_l]!=0))
											  break;
										  cell_av[1-i_l][1+i_l]=1;
										  var i_r=2-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(1-i_l>=0)&&(cell[1+i_l][1-i_l]>0)&&(cell[1+i_l][1-i_l]<100))
											{cell_av[1+i_l][1-i_l]=1;
											 var i_r=2-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(1-i_l<0)||(cell[1+i_l][1-i_l]!=0))
											  break;
										  cell_av[1+i_l][1-i_l]=1;
										  var i_r=2-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(2<8)&&(cell[3][2]==0))
										  {//2 точка
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2<8)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3<8)&&(cell[2][3]==0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3<8)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(-1>=0)&&(cell[2][-1]==0)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(-1>=0)&&(cell[2][-1]*(cell[2][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(0>=0)&&(cell[3][0]==0)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(0>=0)&&(cell[3][0]*(cell[3][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(2<8)&&(cell[-1][2]==0))
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2<8)&&(cell[-1][2]*(cell[-1][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3<8)&&(cell[0][3]==0)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3<8)&&(cell[0][3]*(cell[0][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(-1>=0)&&(cell[0][-1]==0)) 	 
										  {
										  cell_av[0][-1]=1;
										  document.getElementById('td_`'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(-1>=0)&&(cell[0][-1]*(cell[0][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][-1]=1;
										  document.getElementById('td_`'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(0>=0)&&(cell[-1][0]==0)) 	 
										  {
										  cell_av[-1][0]=1;
										  document.getElementById('td_a'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(0>=0)&&(cell[-1][0]*(cell[-1][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][0]=1;
										  document.getElementById('td_a'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][1]==0) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][1]==0))	 
												  {
												  cell_av[-1][1]=1;
												  document.getElementById('td_b'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][2]>0)&&(cell[0][2]<100)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][0]>0)&&(cell[0][0]<100)) 	 
										  {
										  cell_av[0][0]=1;
										  document.getElementById('td_a'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp11.png" height=45></td><td id=td_c2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][2]!=0)
								 {cur_i=1;cur_ii=2;
								 arm=cell[1][2];
								 cell[1][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][2]==0) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][2]==0))	 
											  {
											  cell_av[3][2]=1;
											  document.getElementById('td_c4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][3]>100) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][1]>100) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][2]>100))
											{cell_av[1+i_l][2]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][2]!=0))
											  break;
										  cell_av[1+i_l][2]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][2]>100))
											{cell_av[1-i_l][2]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][2]!=0))
											  break;
										  cell_av[1-i_l][2]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[1][2+i_l]>100))
											{cell_av[1][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[1][2+i_l]!=0))
											  break;
										  cell_av[1][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[1][2-i_l]>100))
											{cell_av[1][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[1][2-i_l]!=0))
											  break;
										  cell_av[1][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][2]>0)&&(cell[1+i_l][2]<100))
											{cell_av[1+i_l][2]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][2]!=0))
											  break;
										  cell_av[1+i_l][2]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][2]>0)&&(cell[1-i_l][2]<100))
											{cell_av[1-i_l][2]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][2]!=0))
											  break;
										  cell_av[1-i_l][2]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[1][2+i_l]>0)&&(cell[1][2+i_l]<100))
											{cell_av[1][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[1][2+i_l]!=0))
											  break;
										  cell_av[1][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[1][2-i_l]>0)&&(cell[1][2-i_l]<100))
											{cell_av[1][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[1][2-i_l]!=0))
											  break;
										  cell_av[1][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(2+i_l<8)&&(cell[1+i_l][2+i_l]>100))
											{cell_av[1+i_l][2+i_l]=1;
											 var i_r=2-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(2+i_l>7)||(cell[1+i_l][2+i_l]!=0))
											  break;
										  cell_av[1+i_l][2+i_l]=1;
										  var i_r=2-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(2-i_l>=0)&&(cell[1-i_l][2-i_l]>100))
											{cell_av[1-i_l][2-i_l]=1;
											 var i_r=2-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(2-i_l<0)||(cell[1-i_l][2-i_l]!=0))
											  break;
										  cell_av[1-i_l][2-i_l]=1;
										  var i_r=2-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(2+i_l<8)&&(cell[1-i_l][2+i_l]>100))
											{cell_av[1-i_l][2+i_l]=1;
											 var i_r=2-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(2+i_l>7)||(cell[1-i_l][2+i_l]!=0))
											  break;
										  cell_av[1-i_l][2+i_l]=1;
										  var i_r=2-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(2-i_l>=0)&&(cell[1+i_l][2-i_l]>100))
											{cell_av[1+i_l][2-i_l]=1;
											 var i_r=2-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(2-i_l<0)||(cell[1+i_l][2-i_l]!=0))
											  break;
										  cell_av[1+i_l][2-i_l]=1;
										  var i_r=2-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(2+i_l<8)&&(cell[1+i_l][2+i_l]>0)&&(cell[1+i_l][2+i_l]<100))
											{cell_av[1+i_l][2+i_l]=1;
											 var i_r=2-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(2+i_l>7)||(cell[1+i_l][2+i_l]!=0))
											  break;
										  cell_av[1+i_l][2+i_l]=1;
										  var i_r=2-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(2-i_l>=0)&&(cell[1-i_l][2-i_l]>0)&&(cell[1-i_l][2-i_l]<100))
											{cell_av[1-i_l][2-i_l]=1;
											 var i_r=2-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(2-i_l<0)||(cell[1-i_l][2-i_l]!=0))
											  break;
										  cell_av[1-i_l][2-i_l]=1;
										  var i_r=2-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(2+i_l<8)&&(cell[1-i_l][2+i_l]>0)&&(cell[1-i_l][2+i_l]<100))
											{cell_av[1-i_l][2+i_l]=1;
											 var i_r=2-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(2+i_l>7)||(cell[1-i_l][2+i_l]!=0))
											  break;
										  cell_av[1-i_l][2+i_l]=1;
										  var i_r=2-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(2-i_l>=0)&&(cell[1+i_l][2-i_l]>0)&&(cell[1+i_l][2-i_l]<100))
											{cell_av[1+i_l][2-i_l]=1;
											 var i_r=2-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(2-i_l<0)||(cell[1+i_l][2-i_l]!=0))
											  break;
										  cell_av[1+i_l][2-i_l]=1;
										  var i_r=2-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(3<8)&&(cell[3][3]==0))
										  {//2 точка
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3<8)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4<8)&&(cell[2][4]==0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4<8)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(0>=0)&&(cell[2][0]==0)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(0>=0)&&(cell[2][0]*(cell[2][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(1>=0)&&(cell[3][1]==0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(1>=0)&&(cell[3][1]*(cell[3][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(3<8)&&(cell[-1][3]==0))
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3<8)&&(cell[-1][3]*(cell[-1][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4<8)&&(cell[0][4]==0)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4<8)&&(cell[0][4]*(cell[0][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(0>=0)&&(cell[0][0]==0)) 	 
										  {
										  cell_av[0][0]=1;
										  document.getElementById('td_a'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(0>=0)&&(cell[0][0]*(cell[0][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][0]=1;
										  document.getElementById('td_a'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(1>=0)&&(cell[-1][1]==0)) 	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(1>=0)&&(cell[-1][1]*(cell[-1][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][1]=1;
										  document.getElementById('td_b'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][2]==0) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][2]==0))	 
												  {
												  cell_av[-1][2]=1;
												  document.getElementById('td_c'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][3]>0)&&(cell[0][3]<100)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][1]>0)&&(cell[0][1]<100)) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp11.png" height=45></td><td id=td_d2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][3]!=0)
								 {cur_i=1;cur_ii=3;
								 arm=cell[1][3];
								 cell[1][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][3]==0) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][3]==0))	 
											  {
											  cell_av[3][3]=1;
											  document.getElementById('td_d4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][4]>100) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][2]>100) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][3]>100))
											{cell_av[1+i_l][3]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][3]!=0))
											  break;
										  cell_av[1+i_l][3]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][3]>100))
											{cell_av[1-i_l][3]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][3]!=0))
											  break;
										  cell_av[1-i_l][3]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[1][3+i_l]>100))
											{cell_av[1][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[1][3+i_l]!=0))
											  break;
										  cell_av[1][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[1][3-i_l]>100))
											{cell_av[1][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[1][3-i_l]!=0))
											  break;
										  cell_av[1][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][3]>0)&&(cell[1+i_l][3]<100))
											{cell_av[1+i_l][3]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][3]!=0))
											  break;
										  cell_av[1+i_l][3]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][3]>0)&&(cell[1-i_l][3]<100))
											{cell_av[1-i_l][3]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][3]!=0))
											  break;
										  cell_av[1-i_l][3]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[1][3+i_l]>0)&&(cell[1][3+i_l]<100))
											{cell_av[1][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[1][3+i_l]!=0))
											  break;
										  cell_av[1][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[1][3-i_l]>0)&&(cell[1][3-i_l]<100))
											{cell_av[1][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[1][3-i_l]!=0))
											  break;
										  cell_av[1][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(3+i_l<8)&&(cell[1+i_l][3+i_l]>100))
											{cell_av[1+i_l][3+i_l]=1;
											 var i_r=2-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(3+i_l>7)||(cell[1+i_l][3+i_l]!=0))
											  break;
										  cell_av[1+i_l][3+i_l]=1;
										  var i_r=2-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(3-i_l>=0)&&(cell[1-i_l][3-i_l]>100))
											{cell_av[1-i_l][3-i_l]=1;
											 var i_r=2-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(3-i_l<0)||(cell[1-i_l][3-i_l]!=0))
											  break;
										  cell_av[1-i_l][3-i_l]=1;
										  var i_r=2-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(3+i_l<8)&&(cell[1-i_l][3+i_l]>100))
											{cell_av[1-i_l][3+i_l]=1;
											 var i_r=2-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(3+i_l>7)||(cell[1-i_l][3+i_l]!=0))
											  break;
										  cell_av[1-i_l][3+i_l]=1;
										  var i_r=2-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(3-i_l>=0)&&(cell[1+i_l][3-i_l]>100))
											{cell_av[1+i_l][3-i_l]=1;
											 var i_r=2-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(3-i_l<0)||(cell[1+i_l][3-i_l]!=0))
											  break;
										  cell_av[1+i_l][3-i_l]=1;
										  var i_r=2-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(3+i_l<8)&&(cell[1+i_l][3+i_l]>0)&&(cell[1+i_l][3+i_l]<100))
											{cell_av[1+i_l][3+i_l]=1;
											 var i_r=2-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(3+i_l>7)||(cell[1+i_l][3+i_l]!=0))
											  break;
										  cell_av[1+i_l][3+i_l]=1;
										  var i_r=2-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(3-i_l>=0)&&(cell[1-i_l][3-i_l]>0)&&(cell[1-i_l][3-i_l]<100))
											{cell_av[1-i_l][3-i_l]=1;
											 var i_r=2-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(3-i_l<0)||(cell[1-i_l][3-i_l]!=0))
											  break;
										  cell_av[1-i_l][3-i_l]=1;
										  var i_r=2-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(3+i_l<8)&&(cell[1-i_l][3+i_l]>0)&&(cell[1-i_l][3+i_l]<100))
											{cell_av[1-i_l][3+i_l]=1;
											 var i_r=2-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(3+i_l>7)||(cell[1-i_l][3+i_l]!=0))
											  break;
										  cell_av[1-i_l][3+i_l]=1;
										  var i_r=2-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(3-i_l>=0)&&(cell[1+i_l][3-i_l]>0)&&(cell[1+i_l][3-i_l]<100))
											{cell_av[1+i_l][3-i_l]=1;
											 var i_r=2-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(3-i_l<0)||(cell[1+i_l][3-i_l]!=0))
											  break;
										  cell_av[1+i_l][3-i_l]=1;
										  var i_r=2-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(4<8)&&(cell[3][4]==0))
										  {//2 точка
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4<8)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5<8)&&(cell[2][5]==0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5<8)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(1>=0)&&(cell[2][1]==0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(1>=0)&&(cell[2][1]*(cell[2][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2>=0)&&(cell[3][2]==0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2>=0)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(4<8)&&(cell[-1][4]==0))
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4<8)&&(cell[-1][4]*(cell[-1][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5<8)&&(cell[0][5]==0)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5<8)&&(cell[0][5]*(cell[0][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(1>=0)&&(cell[0][1]==0)) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(1>=0)&&(cell[0][1]*(cell[0][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2>=0)&&(cell[-1][2]==0)) 	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(2>=0)&&(cell[-1][2]*(cell[-1][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][2]=1;
										  document.getElementById('td_c'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][3]==0) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][3]==0))	 
												  {
												  cell_av[-1][3]=1;
												  document.getElementById('td_d'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][4]>0)&&(cell[0][4]<100)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][2]>0)&&(cell[0][2]<100)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp11.png" height=45></td><td id=td_e2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][4]!=0)
								 {cur_i=1;cur_ii=4;
								 arm=cell[1][4];
								 cell[1][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][4]==0) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][4]==0))	 
											  {
											  cell_av[3][4]=1;
											  document.getElementById('td_e4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][5]>100) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][3]>100) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][4]>100))
											{cell_av[1+i_l][4]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][4]!=0))
											  break;
										  cell_av[1+i_l][4]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][4]>100))
											{cell_av[1-i_l][4]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][4]!=0))
											  break;
										  cell_av[1-i_l][4]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[1][4+i_l]>100))
											{cell_av[1][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[1][4+i_l]!=0))
											  break;
										  cell_av[1][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[1][4-i_l]>100))
											{cell_av[1][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[1][4-i_l]!=0))
											  break;
										  cell_av[1][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][4]>0)&&(cell[1+i_l][4]<100))
											{cell_av[1+i_l][4]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][4]!=0))
											  break;
										  cell_av[1+i_l][4]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][4]>0)&&(cell[1-i_l][4]<100))
											{cell_av[1-i_l][4]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][4]!=0))
											  break;
										  cell_av[1-i_l][4]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[1][4+i_l]>0)&&(cell[1][4+i_l]<100))
											{cell_av[1][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[1][4+i_l]!=0))
											  break;
										  cell_av[1][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[1][4-i_l]>0)&&(cell[1][4-i_l]<100))
											{cell_av[1][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[1][4-i_l]!=0))
											  break;
										  cell_av[1][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(4+i_l<8)&&(cell[1+i_l][4+i_l]>100))
											{cell_av[1+i_l][4+i_l]=1;
											 var i_r=2-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(4+i_l>7)||(cell[1+i_l][4+i_l]!=0))
											  break;
										  cell_av[1+i_l][4+i_l]=1;
										  var i_r=2-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(4-i_l>=0)&&(cell[1-i_l][4-i_l]>100))
											{cell_av[1-i_l][4-i_l]=1;
											 var i_r=2-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(4-i_l<0)||(cell[1-i_l][4-i_l]!=0))
											  break;
										  cell_av[1-i_l][4-i_l]=1;
										  var i_r=2-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(4+i_l<8)&&(cell[1-i_l][4+i_l]>100))
											{cell_av[1-i_l][4+i_l]=1;
											 var i_r=2-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(4+i_l>7)||(cell[1-i_l][4+i_l]!=0))
											  break;
										  cell_av[1-i_l][4+i_l]=1;
										  var i_r=2-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(4-i_l>=0)&&(cell[1+i_l][4-i_l]>100))
											{cell_av[1+i_l][4-i_l]=1;
											 var i_r=2-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(4-i_l<0)||(cell[1+i_l][4-i_l]!=0))
											  break;
										  cell_av[1+i_l][4-i_l]=1;
										  var i_r=2-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(4+i_l<8)&&(cell[1+i_l][4+i_l]>0)&&(cell[1+i_l][4+i_l]<100))
											{cell_av[1+i_l][4+i_l]=1;
											 var i_r=2-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(4+i_l>7)||(cell[1+i_l][4+i_l]!=0))
											  break;
										  cell_av[1+i_l][4+i_l]=1;
										  var i_r=2-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(4-i_l>=0)&&(cell[1-i_l][4-i_l]>0)&&(cell[1-i_l][4-i_l]<100))
											{cell_av[1-i_l][4-i_l]=1;
											 var i_r=2-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(4-i_l<0)||(cell[1-i_l][4-i_l]!=0))
											  break;
										  cell_av[1-i_l][4-i_l]=1;
										  var i_r=2-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(4+i_l<8)&&(cell[1-i_l][4+i_l]>0)&&(cell[1-i_l][4+i_l]<100))
											{cell_av[1-i_l][4+i_l]=1;
											 var i_r=2-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(4+i_l>7)||(cell[1-i_l][4+i_l]!=0))
											  break;
										  cell_av[1-i_l][4+i_l]=1;
										  var i_r=2-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(4-i_l>=0)&&(cell[1+i_l][4-i_l]>0)&&(cell[1+i_l][4-i_l]<100))
											{cell_av[1+i_l][4-i_l]=1;
											 var i_r=2-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(4-i_l<0)||(cell[1+i_l][4-i_l]!=0))
											  break;
										  cell_av[1+i_l][4-i_l]=1;
										  var i_r=2-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(5<8)&&(cell[3][5]==0))
										  {//2 точка
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5<8)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(6<8)&&(cell[2][6]==0)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(6<8)&&(cell[2][6]*(cell[2][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2>=0)&&(cell[2][2]==0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(2>=0)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3>=0)&&(cell[3][3]==0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3>=0)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(5<8)&&(cell[-1][5]==0))
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5<8)&&(cell[-1][5]*(cell[-1][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(6<8)&&(cell[0][6]==0)) 	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(6<8)&&(cell[0][6]*(cell[0][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2>=0)&&(cell[0][2]==0)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2>=0)&&(cell[0][2]*(cell[0][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3>=0)&&(cell[-1][3]==0)) 	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(3>=0)&&(cell[-1][3]*(cell[-1][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][3]=1;
										  document.getElementById('td_d'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][4]==0) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][4]==0))	 
												  {
												  cell_av[-1][4]=1;
												  document.getElementById('td_e'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][5]>0)&&(cell[0][5]<100)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][3]>0)&&(cell[0][3]<100)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp11.png" height=45></td><td id=td_f2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][5]!=0)
								 {cur_i=1;cur_ii=5;
								 arm=cell[1][5];
								 cell[1][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][5]==0) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][5]==0))	 
											  {
											  cell_av[3][5]=1;
											  document.getElementById('td_f4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][6]>100) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][4]>100) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][5]>100))
											{cell_av[1+i_l][5]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][5]!=0))
											  break;
										  cell_av[1+i_l][5]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][5]>100))
											{cell_av[1-i_l][5]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][5]!=0))
											  break;
										  cell_av[1-i_l][5]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[1][5+i_l]>100))
											{cell_av[1][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[1][5+i_l]!=0))
											  break;
										  cell_av[1][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[1][5-i_l]>100))
											{cell_av[1][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[1][5-i_l]!=0))
											  break;
										  cell_av[1][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][5]>0)&&(cell[1+i_l][5]<100))
											{cell_av[1+i_l][5]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][5]!=0))
											  break;
										  cell_av[1+i_l][5]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][5]>0)&&(cell[1-i_l][5]<100))
											{cell_av[1-i_l][5]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][5]!=0))
											  break;
										  cell_av[1-i_l][5]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[1][5+i_l]>0)&&(cell[1][5+i_l]<100))
											{cell_av[1][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[1][5+i_l]!=0))
											  break;
										  cell_av[1][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[1][5-i_l]>0)&&(cell[1][5-i_l]<100))
											{cell_av[1][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[1][5-i_l]!=0))
											  break;
										  cell_av[1][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(5+i_l<8)&&(cell[1+i_l][5+i_l]>100))
											{cell_av[1+i_l][5+i_l]=1;
											 var i_r=2-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(5+i_l>7)||(cell[1+i_l][5+i_l]!=0))
											  break;
										  cell_av[1+i_l][5+i_l]=1;
										  var i_r=2-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(5-i_l>=0)&&(cell[1-i_l][5-i_l]>100))
											{cell_av[1-i_l][5-i_l]=1;
											 var i_r=2-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(5-i_l<0)||(cell[1-i_l][5-i_l]!=0))
											  break;
										  cell_av[1-i_l][5-i_l]=1;
										  var i_r=2-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(5+i_l<8)&&(cell[1-i_l][5+i_l]>100))
											{cell_av[1-i_l][5+i_l]=1;
											 var i_r=2-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(5+i_l>7)||(cell[1-i_l][5+i_l]!=0))
											  break;
										  cell_av[1-i_l][5+i_l]=1;
										  var i_r=2-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(5-i_l>=0)&&(cell[1+i_l][5-i_l]>100))
											{cell_av[1+i_l][5-i_l]=1;
											 var i_r=2-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(5-i_l<0)||(cell[1+i_l][5-i_l]!=0))
											  break;
										  cell_av[1+i_l][5-i_l]=1;
										  var i_r=2-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(5+i_l<8)&&(cell[1+i_l][5+i_l]>0)&&(cell[1+i_l][5+i_l]<100))
											{cell_av[1+i_l][5+i_l]=1;
											 var i_r=2-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(5+i_l>7)||(cell[1+i_l][5+i_l]!=0))
											  break;
										  cell_av[1+i_l][5+i_l]=1;
										  var i_r=2-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(5-i_l>=0)&&(cell[1-i_l][5-i_l]>0)&&(cell[1-i_l][5-i_l]<100))
											{cell_av[1-i_l][5-i_l]=1;
											 var i_r=2-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(5-i_l<0)||(cell[1-i_l][5-i_l]!=0))
											  break;
										  cell_av[1-i_l][5-i_l]=1;
										  var i_r=2-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(5+i_l<8)&&(cell[1-i_l][5+i_l]>0)&&(cell[1-i_l][5+i_l]<100))
											{cell_av[1-i_l][5+i_l]=1;
											 var i_r=2-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(5+i_l>7)||(cell[1-i_l][5+i_l]!=0))
											  break;
										  cell_av[1-i_l][5+i_l]=1;
										  var i_r=2-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(5-i_l>=0)&&(cell[1+i_l][5-i_l]>0)&&(cell[1+i_l][5-i_l]<100))
											{cell_av[1+i_l][5-i_l]=1;
											 var i_r=2-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(5-i_l<0)||(cell[1+i_l][5-i_l]!=0))
											  break;
										  cell_av[1+i_l][5-i_l]=1;
										  var i_r=2-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(6<8)&&(cell[3][6]==0))
										  {//2 точка
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(6<8)&&(cell[3][6]*(cell[3][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(7<8)&&(cell[2][7]==0)) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(7<8)&&(cell[2][7]*(cell[2][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3>=0)&&(cell[2][3]==0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(3>=0)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4>=0)&&(cell[3][4]==0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4>=0)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(6<8)&&(cell[-1][6]==0))
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(6<8)&&(cell[-1][6]*(cell[-1][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(7<8)&&(cell[0][7]==0)) 	 
										  {
										  cell_av[0][7]=1;
										  document.getElementById('td_h'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(7<8)&&(cell[0][7]*(cell[0][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][7]=1;
										  document.getElementById('td_h'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3>=0)&&(cell[0][3]==0)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3>=0)&&(cell[0][3]*(cell[0][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4>=0)&&(cell[-1][4]==0)) 	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(4>=0)&&(cell[-1][4]*(cell[-1][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][4]=1;
										  document.getElementById('td_e'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][5]==0) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][5]==0))	 
												  {
												  cell_av[-1][5]=1;
												  document.getElementById('td_f'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][6]>0)&&(cell[0][6]<100)) 	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][4]>0)&&(cell[0][4]<100)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp11.png" height=45></td><td id=td_g2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][6]!=0)
								 {cur_i=1;cur_ii=6;
								 arm=cell[1][6];
								 cell[1][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][6]==0) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][6]==0))	 
											  {
											  cell_av[3][6]=1;
											  document.getElementById('td_g4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][7]>100) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][5]>100) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][6]>100))
											{cell_av[1+i_l][6]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][6]!=0))
											  break;
										  cell_av[1+i_l][6]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][6]>100))
											{cell_av[1-i_l][6]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][6]!=0))
											  break;
										  cell_av[1-i_l][6]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[1][6+i_l]>100))
											{cell_av[1][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[1][6+i_l]!=0))
											  break;
										  cell_av[1][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[1][6-i_l]>100))
											{cell_av[1][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[1][6-i_l]!=0))
											  break;
										  cell_av[1][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][6]>0)&&(cell[1+i_l][6]<100))
											{cell_av[1+i_l][6]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][6]!=0))
											  break;
										  cell_av[1+i_l][6]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][6]>0)&&(cell[1-i_l][6]<100))
											{cell_av[1-i_l][6]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][6]!=0))
											  break;
										  cell_av[1-i_l][6]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[1][6+i_l]>0)&&(cell[1][6+i_l]<100))
											{cell_av[1][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[1][6+i_l]!=0))
											  break;
										  cell_av[1][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[1][6-i_l]>0)&&(cell[1][6-i_l]<100))
											{cell_av[1][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[1][6-i_l]!=0))
											  break;
										  cell_av[1][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(6+i_l<8)&&(cell[1+i_l][6+i_l]>100))
											{cell_av[1+i_l][6+i_l]=1;
											 var i_r=2-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(6+i_l>7)||(cell[1+i_l][6+i_l]!=0))
											  break;
										  cell_av[1+i_l][6+i_l]=1;
										  var i_r=2-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(6-i_l>=0)&&(cell[1-i_l][6-i_l]>100))
											{cell_av[1-i_l][6-i_l]=1;
											 var i_r=2-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(6-i_l<0)||(cell[1-i_l][6-i_l]!=0))
											  break;
										  cell_av[1-i_l][6-i_l]=1;
										  var i_r=2-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(6+i_l<8)&&(cell[1-i_l][6+i_l]>100))
											{cell_av[1-i_l][6+i_l]=1;
											 var i_r=2-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(6+i_l>7)||(cell[1-i_l][6+i_l]!=0))
											  break;
										  cell_av[1-i_l][6+i_l]=1;
										  var i_r=2-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(6-i_l>=0)&&(cell[1+i_l][6-i_l]>100))
											{cell_av[1+i_l][6-i_l]=1;
											 var i_r=2-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(6-i_l<0)||(cell[1+i_l][6-i_l]!=0))
											  break;
										  cell_av[1+i_l][6-i_l]=1;
										  var i_r=2-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(6+i_l<8)&&(cell[1+i_l][6+i_l]>0)&&(cell[1+i_l][6+i_l]<100))
											{cell_av[1+i_l][6+i_l]=1;
											 var i_r=2-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(6+i_l>7)||(cell[1+i_l][6+i_l]!=0))
											  break;
										  cell_av[1+i_l][6+i_l]=1;
										  var i_r=2-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(6-i_l>=0)&&(cell[1-i_l][6-i_l]>0)&&(cell[1-i_l][6-i_l]<100))
											{cell_av[1-i_l][6-i_l]=1;
											 var i_r=2-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(6-i_l<0)||(cell[1-i_l][6-i_l]!=0))
											  break;
										  cell_av[1-i_l][6-i_l]=1;
										  var i_r=2-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(6+i_l<8)&&(cell[1-i_l][6+i_l]>0)&&(cell[1-i_l][6+i_l]<100))
											{cell_av[1-i_l][6+i_l]=1;
											 var i_r=2-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(6+i_l>7)||(cell[1-i_l][6+i_l]!=0))
											  break;
										  cell_av[1-i_l][6+i_l]=1;
										  var i_r=2-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(6-i_l>=0)&&(cell[1+i_l][6-i_l]>0)&&(cell[1+i_l][6-i_l]<100))
											{cell_av[1+i_l][6-i_l]=1;
											 var i_r=2-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(6-i_l<0)||(cell[1+i_l][6-i_l]!=0))
											  break;
										  cell_av[1+i_l][6-i_l]=1;
										  var i_r=2-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(7<8)&&(cell[3][7]==0))
										  {//2 точка
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(7<8)&&(cell[3][7]*(cell[3][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(8<8)&&(cell[2][8]==0)) 	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(8<8)&&(cell[2][8]*(cell[2][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4>=0)&&(cell[2][4]==0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(4>=0)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5>=0)&&(cell[3][5]==0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5>=0)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(7<8)&&(cell[-1][7]==0))
										  {
										  cell_av[-1][7]=1;
										  document.getElementById('td_h'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(7<8)&&(cell[-1][7]*(cell[-1][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][7]=1;
										  document.getElementById('td_h'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(8<8)&&(cell[0][8]==0)) 	 
										  {
										  cell_av[0][8]=1;
										  document.getElementById('td_i'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(8<8)&&(cell[0][8]*(cell[0][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][8]=1;
										  document.getElementById('td_i'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4>=0)&&(cell[0][4]==0)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4>=0)&&(cell[0][4]*(cell[0][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5>=0)&&(cell[-1][5]==0)) 	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(5>=0)&&(cell[-1][5]*(cell[-1][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][5]=1;
										  document.getElementById('td_f'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][6]==0) 	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][6]==0))	 
												  {
												  cell_av[-1][6]=1;
												  document.getElementById('td_g'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][7]>0)&&(cell[0][7]<100)) 	 
										  {
										  cell_av[0][7]=1;
										  document.getElementById('td_h'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][5]>0)&&(cell[0][5]<100)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp11.png" height=45></td><td id=td_h2 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[1][7]!=0)
								 {cur_i=1;cur_ii=7;
								 arm=cell[1][7];
								 cell[1][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[2][7]==0) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==2)&&(cell[3][7]==0))	 
											  {
											  cell_av[3][7]=1;
											  document.getElementById('td_h4').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[2][8]>100) 	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[2][6]>100) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][7]>100))
											{cell_av[1+i_l][7]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][7]!=0))
											  break;
										  cell_av[1+i_l][7]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][7]>100))
											{cell_av[1-i_l][7]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][7]!=0))
											  break;
										  cell_av[1-i_l][7]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[1][7+i_l]>100))
											{cell_av[1][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[1][7+i_l]!=0))
											  break;
										  cell_av[1][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[1][7-i_l]>100))
											{cell_av[1][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[1][7-i_l]!=0))
											  break;
										  cell_av[1][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[1+i_l][7]>0)&&(cell[1+i_l][7]<100))
											{cell_av[1+i_l][7]=1;
											 var i_r=2-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[1+i_l][7]!=0))
											  break;
										  cell_av[1+i_l][7]=1;
										  var i_r=2-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[1-i_l][7]>0)&&(cell[1-i_l][7]<100))
											{cell_av[1-i_l][7]=1;
											 var i_r=2-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[1-i_l][7]!=0))
											  break;
										  cell_av[1-i_l][7]=1;
										  var i_r=2-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[1][7+i_l]>0)&&(cell[1][7+i_l]<100))
											{cell_av[1][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[1][7+i_l]!=0))
											  break;
										  cell_av[1][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[1][7-i_l]>0)&&(cell[1][7-i_l]<100))
											{cell_av[1][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[1][7-i_l]!=0))
											  break;
										  cell_av[1][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(7+i_l<8)&&(cell[1+i_l][7+i_l]>100))
											{cell_av[1+i_l][7+i_l]=1;
											 var i_r=2-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(7+i_l>7)||(cell[1+i_l][7+i_l]!=0))
											  break;
										  cell_av[1+i_l][7+i_l]=1;
										  var i_r=2-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(7-i_l>=0)&&(cell[1-i_l][7-i_l]>100))
											{cell_av[1-i_l][7-i_l]=1;
											 var i_r=2-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(7-i_l<0)||(cell[1-i_l][7-i_l]!=0))
											  break;
										  cell_av[1-i_l][7-i_l]=1;
										  var i_r=2-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(7+i_l<8)&&(cell[1-i_l][7+i_l]>100))
											{cell_av[1-i_l][7+i_l]=1;
											 var i_r=2-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(7+i_l>7)||(cell[1-i_l][7+i_l]!=0))
											  break;
										  cell_av[1-i_l][7+i_l]=1;
										  var i_r=2-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(7-i_l>=0)&&(cell[1+i_l][7-i_l]>100))
											{cell_av[1+i_l][7-i_l]=1;
											 var i_r=2-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(7-i_l<0)||(cell[1+i_l][7-i_l]!=0))
											  break;
										  cell_av[1+i_l][7-i_l]=1;
										  var i_r=2-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(7+i_l<8)&&(cell[1+i_l][7+i_l]>0)&&(cell[1+i_l][7+i_l]<100))
											{cell_av[1+i_l][7+i_l]=1;
											 var i_r=2-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(7+i_l>7)||(cell[1+i_l][7+i_l]!=0))
											  break;
										  cell_av[1+i_l][7+i_l]=1;
										  var i_r=2-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(7-i_l>=0)&&(cell[1-i_l][7-i_l]>0)&&(cell[1-i_l][7-i_l]<100))
											{cell_av[1-i_l][7-i_l]=1;
											 var i_r=2-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(7-i_l<0)||(cell[1-i_l][7-i_l]!=0))
											  break;
										  cell_av[1-i_l][7-i_l]=1;
										  var i_r=2-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(7+i_l<8)&&(cell[1-i_l][7+i_l]>0)&&(cell[1-i_l][7+i_l]<100))
											{cell_av[1-i_l][7+i_l]=1;
											 var i_r=2-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(7+i_l>7)||(cell[1-i_l][7+i_l]!=0))
											  break;
										  cell_av[1-i_l][7+i_l]=1;
										  var i_r=2-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(7-i_l>=0)&&(cell[1+i_l][7-i_l]>0)&&(cell[1+i_l][7-i_l]<100))
											{cell_av[1+i_l][7-i_l]=1;
											 var i_r=2-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(7-i_l<0)||(cell[1+i_l][7-i_l]!=0))
											  break;
										  cell_av[1+i_l][7-i_l]=1;
										  var i_r=2-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((3<8)&&(8<8)&&(cell[3][8]==0))
										  {//2 точка
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(8<8)&&(cell[3][8]*(cell[3][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(9<8)&&(cell[2][9]==0)) 	 
										  {
										  cell_av[2][9]=1;
										  document.getElementById('td_j'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(9<8)&&(cell[2][9]*(cell[2][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][9]=1;
										  document.getElementById('td_j'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5>=0)&&(cell[2][5]==0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2<8)&&(5>=0)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(6>=0)&&(cell[3][6]==0)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(6>=0)&&(cell[3][6]*(cell[3][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((-1>=0)&&(8<8)&&(cell[-1][8]==0))
										  {
										  cell_av[-1][8]=1;
										  document.getElementById('td_i'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(8<8)&&(cell[-1][8]*(cell[-1][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[-1][8]=1;
										  document.getElementById('td_i'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(9<8)&&(cell[0][9]==0)) 	 
										  {
										  cell_av[0][9]=1;
										  document.getElementById('td_j'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(9<8)&&(cell[0][9]*(cell[0][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][9]=1;
										  document.getElementById('td_j'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5>=0)&&(cell[0][5]==0)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5>=0)&&(cell[0][5]*(cell[0][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(6>=0)&&(cell[-1][6]==0)) 	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((-1>=0)&&(6>=0)&&(cell[-1][6]*(cell[-1][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[-1][6]=1;
										  document.getElementById('td_g'+'0').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[0][7]==0) 	 
										  {
										  cell_av[0][7]=1;
										  document.getElementById('td_h'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((2==7)&&(cell[-1][7]==0))	 
												  {
												  cell_av[-1][7]=1;
												  document.getElementById('td_h'+'0').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[0][8]>0)&&(cell[0][8]<100)) 	 
										  {
										  cell_av[0][8]=1;
										  document.getElementById('td_i'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[0][6]>0)&&(cell[0][6]<100)) 	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[1][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[1][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[1][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[1][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[1][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(2==8))arm=4;
										if((arm==111)&&(2==1))arm=104;
										cell[1][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+2;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[1][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[1][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp11.png" height=45></td><td id=td_i2 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>2</h3></td></tr><tr><td id=td_`3 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>3</h3></td><td id=td_a3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][0]!=0)
								 {cur_i=2;cur_ii=0;
								 arm=cell[2][0];
								 cell[2][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][0]==0) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][0]==0))	 
											  {
											  cell_av[4][0]=1;
											  document.getElementById('td_a5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][1]>100) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][-1]>100) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][0]>100))
											{cell_av[2+i_l][0]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][0]!=0))
											  break;
										  cell_av[2+i_l][0]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][0]>100))
											{cell_av[2-i_l][0]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][0]!=0))
											  break;
										  cell_av[2-i_l][0]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[2][0+i_l]>100))
											{cell_av[2][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[2][0+i_l]!=0))
											  break;
										  cell_av[2][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[2][0-i_l]>100))
											{cell_av[2][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[2][0-i_l]!=0))
											  break;
										  cell_av[2][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][0]>0)&&(cell[2+i_l][0]<100))
											{cell_av[2+i_l][0]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][0]!=0))
											  break;
										  cell_av[2+i_l][0]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][0]>0)&&(cell[2-i_l][0]<100))
											{cell_av[2-i_l][0]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][0]!=0))
											  break;
										  cell_av[2-i_l][0]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[2][0+i_l]>0)&&(cell[2][0+i_l]<100))
											{cell_av[2][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[2][0+i_l]!=0))
											  break;
										  cell_av[2][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[2][0-i_l]>0)&&(cell[2][0-i_l]<100))
											{cell_av[2][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[2][0-i_l]!=0))
											  break;
										  cell_av[2][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(0+i_l<8)&&(cell[2+i_l][0+i_l]>100))
											{cell_av[2+i_l][0+i_l]=1;
											 var i_r=3-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(0+i_l>7)||(cell[2+i_l][0+i_l]!=0))
											  break;
										  cell_av[2+i_l][0+i_l]=1;
										  var i_r=3-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(0-i_l>=0)&&(cell[2-i_l][0-i_l]>100))
											{cell_av[2-i_l][0-i_l]=1;
											 var i_r=3-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(0-i_l<0)||(cell[2-i_l][0-i_l]!=0))
											  break;
										  cell_av[2-i_l][0-i_l]=1;
										  var i_r=3-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(0+i_l<8)&&(cell[2-i_l][0+i_l]>100))
											{cell_av[2-i_l][0+i_l]=1;
											 var i_r=3-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(0+i_l>7)||(cell[2-i_l][0+i_l]!=0))
											  break;
										  cell_av[2-i_l][0+i_l]=1;
										  var i_r=3-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(0-i_l>=0)&&(cell[2+i_l][0-i_l]>100))
											{cell_av[2+i_l][0-i_l]=1;
											 var i_r=3-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(0-i_l<0)||(cell[2+i_l][0-i_l]!=0))
											  break;
										  cell_av[2+i_l][0-i_l]=1;
										  var i_r=3-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(0+i_l<8)&&(cell[2+i_l][0+i_l]>0)&&(cell[2+i_l][0+i_l]<100))
											{cell_av[2+i_l][0+i_l]=1;
											 var i_r=3-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(0+i_l>7)||(cell[2+i_l][0+i_l]!=0))
											  break;
										  cell_av[2+i_l][0+i_l]=1;
										  var i_r=3-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(0-i_l>=0)&&(cell[2-i_l][0-i_l]>0)&&(cell[2-i_l][0-i_l]<100))
											{cell_av[2-i_l][0-i_l]=1;
											 var i_r=3-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(0-i_l<0)||(cell[2-i_l][0-i_l]!=0))
											  break;
										  cell_av[2-i_l][0-i_l]=1;
										  var i_r=3-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(0+i_l<8)&&(cell[2-i_l][0+i_l]>0)&&(cell[2-i_l][0+i_l]<100))
											{cell_av[2-i_l][0+i_l]=1;
											 var i_r=3-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(0+i_l>7)||(cell[2-i_l][0+i_l]!=0))
											  break;
										  cell_av[2-i_l][0+i_l]=1;
										  var i_r=3-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(0-i_l>=0)&&(cell[2+i_l][0-i_l]>0)&&(cell[2+i_l][0-i_l]<100))
											{cell_av[2+i_l][0-i_l]=1;
											 var i_r=3-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(0-i_l<0)||(cell[2+i_l][0-i_l]!=0))
											  break;
										  cell_av[2+i_l][0-i_l]=1;
										  var i_r=3-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(1<8)&&(cell[4][1]==0))
										  {//2 точка
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(1<8)&&(cell[4][1]*(cell[4][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2<8)&&(cell[3][2]==0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2<8)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(-2>=0)&&(cell[3][-2]==0)) 	 
										  {
										  cell_av[3][-2]=1;
										  document.getElementById('td__'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(-2>=0)&&(cell[3][-2]*(cell[3][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][-2]=1;
										  document.getElementById('td__'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(-1>=0)&&(cell[4][-1]==0)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(-1>=0)&&(cell[4][-1]*(cell[4][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(1<8)&&(cell[0][1]==0))
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(1<8)&&(cell[0][1]*(cell[0][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2<8)&&(cell[1][2]==0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2<8)&&(cell[1][2]*(cell[1][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(-2>=0)&&(cell[1][-2]==0)) 	 
										  {
										  cell_av[1][-2]=1;
										  document.getElementById('td__'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(-2>=0)&&(cell[1][-2]*(cell[1][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][-2]=1;
										  document.getElementById('td__'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(-1>=0)&&(cell[0][-1]==0)) 	 
										  {
										  cell_av[0][-1]=1;
										  document.getElementById('td_`'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(-1>=0)&&(cell[0][-1]*(cell[0][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][-1]=1;
										  document.getElementById('td_`'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][0]==0) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][0]==0))	 
												  {
												  cell_av[0][0]=1;
												  document.getElementById('td_a'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][1]>0)&&(cell[1][1]<100)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][-1]>0)&&(cell[1][-1]<100)) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_b3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][1]!=0)
								 {cur_i=2;cur_ii=1;
								 arm=cell[2][1];
								 cell[2][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][1]==0) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][1]==0))	 
											  {
											  cell_av[4][1]=1;
											  document.getElementById('td_b5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][2]>100) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][0]>100) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][1]>100))
											{cell_av[2+i_l][1]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][1]!=0))
											  break;
										  cell_av[2+i_l][1]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][1]>100))
											{cell_av[2-i_l][1]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][1]!=0))
											  break;
										  cell_av[2-i_l][1]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[2][1+i_l]>100))
											{cell_av[2][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[2][1+i_l]!=0))
											  break;
										  cell_av[2][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[2][1-i_l]>100))
											{cell_av[2][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[2][1-i_l]!=0))
											  break;
										  cell_av[2][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][1]>0)&&(cell[2+i_l][1]<100))
											{cell_av[2+i_l][1]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][1]!=0))
											  break;
										  cell_av[2+i_l][1]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][1]>0)&&(cell[2-i_l][1]<100))
											{cell_av[2-i_l][1]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][1]!=0))
											  break;
										  cell_av[2-i_l][1]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[2][1+i_l]>0)&&(cell[2][1+i_l]<100))
											{cell_av[2][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[2][1+i_l]!=0))
											  break;
										  cell_av[2][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[2][1-i_l]>0)&&(cell[2][1-i_l]<100))
											{cell_av[2][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[2][1-i_l]!=0))
											  break;
										  cell_av[2][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(1+i_l<8)&&(cell[2+i_l][1+i_l]>100))
											{cell_av[2+i_l][1+i_l]=1;
											 var i_r=3-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(1+i_l>7)||(cell[2+i_l][1+i_l]!=0))
											  break;
										  cell_av[2+i_l][1+i_l]=1;
										  var i_r=3-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(1-i_l>=0)&&(cell[2-i_l][1-i_l]>100))
											{cell_av[2-i_l][1-i_l]=1;
											 var i_r=3-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(1-i_l<0)||(cell[2-i_l][1-i_l]!=0))
											  break;
										  cell_av[2-i_l][1-i_l]=1;
										  var i_r=3-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(1+i_l<8)&&(cell[2-i_l][1+i_l]>100))
											{cell_av[2-i_l][1+i_l]=1;
											 var i_r=3-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(1+i_l>7)||(cell[2-i_l][1+i_l]!=0))
											  break;
										  cell_av[2-i_l][1+i_l]=1;
										  var i_r=3-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(1-i_l>=0)&&(cell[2+i_l][1-i_l]>100))
											{cell_av[2+i_l][1-i_l]=1;
											 var i_r=3-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(1-i_l<0)||(cell[2+i_l][1-i_l]!=0))
											  break;
										  cell_av[2+i_l][1-i_l]=1;
										  var i_r=3-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(1+i_l<8)&&(cell[2+i_l][1+i_l]>0)&&(cell[2+i_l][1+i_l]<100))
											{cell_av[2+i_l][1+i_l]=1;
											 var i_r=3-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(1+i_l>7)||(cell[2+i_l][1+i_l]!=0))
											  break;
										  cell_av[2+i_l][1+i_l]=1;
										  var i_r=3-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(1-i_l>=0)&&(cell[2-i_l][1-i_l]>0)&&(cell[2-i_l][1-i_l]<100))
											{cell_av[2-i_l][1-i_l]=1;
											 var i_r=3-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(1-i_l<0)||(cell[2-i_l][1-i_l]!=0))
											  break;
										  cell_av[2-i_l][1-i_l]=1;
										  var i_r=3-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(1+i_l<8)&&(cell[2-i_l][1+i_l]>0)&&(cell[2-i_l][1+i_l]<100))
											{cell_av[2-i_l][1+i_l]=1;
											 var i_r=3-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(1+i_l>7)||(cell[2-i_l][1+i_l]!=0))
											  break;
										  cell_av[2-i_l][1+i_l]=1;
										  var i_r=3-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(1-i_l>=0)&&(cell[2+i_l][1-i_l]>0)&&(cell[2+i_l][1-i_l]<100))
											{cell_av[2+i_l][1-i_l]=1;
											 var i_r=3-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(1-i_l<0)||(cell[2+i_l][1-i_l]!=0))
											  break;
										  cell_av[2+i_l][1-i_l]=1;
										  var i_r=3-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(2<8)&&(cell[4][2]==0))
										  {//2 точка
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2<8)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3<8)&&(cell[3][3]==0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3<8)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(-1>=0)&&(cell[3][-1]==0)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(-1>=0)&&(cell[3][-1]*(cell[3][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(0>=0)&&(cell[4][0]==0)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(0>=0)&&(cell[4][0]*(cell[4][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(2<8)&&(cell[0][2]==0))
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2<8)&&(cell[0][2]*(cell[0][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3<8)&&(cell[1][3]==0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3<8)&&(cell[1][3]*(cell[1][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(-1>=0)&&(cell[1][-1]==0)) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(-1>=0)&&(cell[1][-1]*(cell[1][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(0>=0)&&(cell[0][0]==0)) 	 
										  {
										  cell_av[0][0]=1;
										  document.getElementById('td_a'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(0>=0)&&(cell[0][0]*(cell[0][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][0]=1;
										  document.getElementById('td_a'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][1]==0) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][1]==0))	 
												  {
												  cell_av[0][1]=1;
												  document.getElementById('td_b'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][2]>0)&&(cell[1][2]<100)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][0]>0)&&(cell[1][0]<100)) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_c3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][2]!=0)
								 {cur_i=2;cur_ii=2;
								 arm=cell[2][2];
								 cell[2][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][2]==0) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][2]==0))	 
											  {
											  cell_av[4][2]=1;
											  document.getElementById('td_c5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][3]>100) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][1]>100) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][2]>100))
											{cell_av[2+i_l][2]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][2]!=0))
											  break;
										  cell_av[2+i_l][2]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][2]>100))
											{cell_av[2-i_l][2]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][2]!=0))
											  break;
										  cell_av[2-i_l][2]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2][2+i_l]>100))
											{cell_av[2][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2][2+i_l]!=0))
											  break;
										  cell_av[2][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2][2-i_l]>100))
											{cell_av[2][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2][2-i_l]!=0))
											  break;
										  cell_av[2][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][2]>0)&&(cell[2+i_l][2]<100))
											{cell_av[2+i_l][2]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][2]!=0))
											  break;
										  cell_av[2+i_l][2]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][2]>0)&&(cell[2-i_l][2]<100))
											{cell_av[2-i_l][2]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][2]!=0))
											  break;
										  cell_av[2-i_l][2]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2][2+i_l]>0)&&(cell[2][2+i_l]<100))
											{cell_av[2][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2][2+i_l]!=0))
											  break;
										  cell_av[2][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2][2-i_l]>0)&&(cell[2][2-i_l]<100))
											{cell_av[2][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2][2-i_l]!=0))
											  break;
										  cell_av[2][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(2+i_l<8)&&(cell[2+i_l][2+i_l]>100))
											{cell_av[2+i_l][2+i_l]=1;
											 var i_r=3-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(2+i_l>7)||(cell[2+i_l][2+i_l]!=0))
											  break;
										  cell_av[2+i_l][2+i_l]=1;
										  var i_r=3-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(2-i_l>=0)&&(cell[2-i_l][2-i_l]>100))
											{cell_av[2-i_l][2-i_l]=1;
											 var i_r=3-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(2-i_l<0)||(cell[2-i_l][2-i_l]!=0))
											  break;
										  cell_av[2-i_l][2-i_l]=1;
										  var i_r=3-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(2+i_l<8)&&(cell[2-i_l][2+i_l]>100))
											{cell_av[2-i_l][2+i_l]=1;
											 var i_r=3-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(2+i_l>7)||(cell[2-i_l][2+i_l]!=0))
											  break;
										  cell_av[2-i_l][2+i_l]=1;
										  var i_r=3-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(2-i_l>=0)&&(cell[2+i_l][2-i_l]>100))
											{cell_av[2+i_l][2-i_l]=1;
											 var i_r=3-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(2-i_l<0)||(cell[2+i_l][2-i_l]!=0))
											  break;
										  cell_av[2+i_l][2-i_l]=1;
										  var i_r=3-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(2+i_l<8)&&(cell[2+i_l][2+i_l]>0)&&(cell[2+i_l][2+i_l]<100))
											{cell_av[2+i_l][2+i_l]=1;
											 var i_r=3-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(2+i_l>7)||(cell[2+i_l][2+i_l]!=0))
											  break;
										  cell_av[2+i_l][2+i_l]=1;
										  var i_r=3-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(2-i_l>=0)&&(cell[2-i_l][2-i_l]>0)&&(cell[2-i_l][2-i_l]<100))
											{cell_av[2-i_l][2-i_l]=1;
											 var i_r=3-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(2-i_l<0)||(cell[2-i_l][2-i_l]!=0))
											  break;
										  cell_av[2-i_l][2-i_l]=1;
										  var i_r=3-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(2+i_l<8)&&(cell[2-i_l][2+i_l]>0)&&(cell[2-i_l][2+i_l]<100))
											{cell_av[2-i_l][2+i_l]=1;
											 var i_r=3-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(2+i_l>7)||(cell[2-i_l][2+i_l]!=0))
											  break;
										  cell_av[2-i_l][2+i_l]=1;
										  var i_r=3-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(2-i_l>=0)&&(cell[2+i_l][2-i_l]>0)&&(cell[2+i_l][2-i_l]<100))
											{cell_av[2+i_l][2-i_l]=1;
											 var i_r=3-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(2-i_l<0)||(cell[2+i_l][2-i_l]!=0))
											  break;
										  cell_av[2+i_l][2-i_l]=1;
										  var i_r=3-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(3<8)&&(cell[4][3]==0))
										  {//2 точка
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3<8)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4<8)&&(cell[3][4]==0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4<8)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(0>=0)&&(cell[3][0]==0)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(0>=0)&&(cell[3][0]*(cell[3][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(1>=0)&&(cell[4][1]==0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(1>=0)&&(cell[4][1]*(cell[4][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(3<8)&&(cell[0][3]==0))
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3<8)&&(cell[0][3]*(cell[0][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4<8)&&(cell[1][4]==0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4<8)&&(cell[1][4]*(cell[1][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(0>=0)&&(cell[1][0]==0)) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(0>=0)&&(cell[1][0]*(cell[1][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(1>=0)&&(cell[0][1]==0)) 	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(1>=0)&&(cell[0][1]*(cell[0][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][1]=1;
										  document.getElementById('td_b'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][2]==0) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][2]==0))	 
												  {
												  cell_av[0][2]=1;
												  document.getElementById('td_c'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][3]>0)&&(cell[1][3]<100)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][1]>0)&&(cell[1][1]<100)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_d3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][3]!=0)
								 {cur_i=2;cur_ii=3;
								 arm=cell[2][3];
								 cell[2][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][3]==0) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][3]==0))	 
											  {
											  cell_av[4][3]=1;
											  document.getElementById('td_d5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][4]>100) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][2]>100) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][3]>100))
											{cell_av[2+i_l][3]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][3]!=0))
											  break;
										  cell_av[2+i_l][3]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][3]>100))
											{cell_av[2-i_l][3]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][3]!=0))
											  break;
										  cell_av[2-i_l][3]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[2][3+i_l]>100))
											{cell_av[2][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[2][3+i_l]!=0))
											  break;
										  cell_av[2][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[2][3-i_l]>100))
											{cell_av[2][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[2][3-i_l]!=0))
											  break;
										  cell_av[2][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][3]>0)&&(cell[2+i_l][3]<100))
											{cell_av[2+i_l][3]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][3]!=0))
											  break;
										  cell_av[2+i_l][3]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][3]>0)&&(cell[2-i_l][3]<100))
											{cell_av[2-i_l][3]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][3]!=0))
											  break;
										  cell_av[2-i_l][3]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[2][3+i_l]>0)&&(cell[2][3+i_l]<100))
											{cell_av[2][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[2][3+i_l]!=0))
											  break;
										  cell_av[2][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[2][3-i_l]>0)&&(cell[2][3-i_l]<100))
											{cell_av[2][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[2][3-i_l]!=0))
											  break;
										  cell_av[2][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(3+i_l<8)&&(cell[2+i_l][3+i_l]>100))
											{cell_av[2+i_l][3+i_l]=1;
											 var i_r=3-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(3+i_l>7)||(cell[2+i_l][3+i_l]!=0))
											  break;
										  cell_av[2+i_l][3+i_l]=1;
										  var i_r=3-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(3-i_l>=0)&&(cell[2-i_l][3-i_l]>100))
											{cell_av[2-i_l][3-i_l]=1;
											 var i_r=3-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(3-i_l<0)||(cell[2-i_l][3-i_l]!=0))
											  break;
										  cell_av[2-i_l][3-i_l]=1;
										  var i_r=3-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(3+i_l<8)&&(cell[2-i_l][3+i_l]>100))
											{cell_av[2-i_l][3+i_l]=1;
											 var i_r=3-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(3+i_l>7)||(cell[2-i_l][3+i_l]!=0))
											  break;
										  cell_av[2-i_l][3+i_l]=1;
										  var i_r=3-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(3-i_l>=0)&&(cell[2+i_l][3-i_l]>100))
											{cell_av[2+i_l][3-i_l]=1;
											 var i_r=3-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(3-i_l<0)||(cell[2+i_l][3-i_l]!=0))
											  break;
										  cell_av[2+i_l][3-i_l]=1;
										  var i_r=3-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(3+i_l<8)&&(cell[2+i_l][3+i_l]>0)&&(cell[2+i_l][3+i_l]<100))
											{cell_av[2+i_l][3+i_l]=1;
											 var i_r=3-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(3+i_l>7)||(cell[2+i_l][3+i_l]!=0))
											  break;
										  cell_av[2+i_l][3+i_l]=1;
										  var i_r=3-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(3-i_l>=0)&&(cell[2-i_l][3-i_l]>0)&&(cell[2-i_l][3-i_l]<100))
											{cell_av[2-i_l][3-i_l]=1;
											 var i_r=3-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(3-i_l<0)||(cell[2-i_l][3-i_l]!=0))
											  break;
										  cell_av[2-i_l][3-i_l]=1;
										  var i_r=3-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(3+i_l<8)&&(cell[2-i_l][3+i_l]>0)&&(cell[2-i_l][3+i_l]<100))
											{cell_av[2-i_l][3+i_l]=1;
											 var i_r=3-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(3+i_l>7)||(cell[2-i_l][3+i_l]!=0))
											  break;
										  cell_av[2-i_l][3+i_l]=1;
										  var i_r=3-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(3-i_l>=0)&&(cell[2+i_l][3-i_l]>0)&&(cell[2+i_l][3-i_l]<100))
											{cell_av[2+i_l][3-i_l]=1;
											 var i_r=3-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(3-i_l<0)||(cell[2+i_l][3-i_l]!=0))
											  break;
										  cell_av[2+i_l][3-i_l]=1;
										  var i_r=3-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(4<8)&&(cell[4][4]==0))
										  {//2 точка
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4<8)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5<8)&&(cell[3][5]==0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5<8)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(1>=0)&&(cell[3][1]==0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(1>=0)&&(cell[3][1]*(cell[3][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2>=0)&&(cell[4][2]==0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2>=0)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(4<8)&&(cell[0][4]==0))
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4<8)&&(cell[0][4]*(cell[0][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5<8)&&(cell[1][5]==0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5<8)&&(cell[1][5]*(cell[1][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(1>=0)&&(cell[1][1]==0)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(1>=0)&&(cell[1][1]*(cell[1][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2>=0)&&(cell[0][2]==0)) 	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(2>=0)&&(cell[0][2]*(cell[0][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][2]=1;
										  document.getElementById('td_c'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][3]==0) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][3]==0))	 
												  {
												  cell_av[0][3]=1;
												  document.getElementById('td_d'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][4]>0)&&(cell[1][4]<100)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][2]>0)&&(cell[1][2]<100)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_e3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][4]!=0)
								 {cur_i=2;cur_ii=4;
								 arm=cell[2][4];
								 cell[2][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][4]==0) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][4]==0))	 
											  {
											  cell_av[4][4]=1;
											  document.getElementById('td_e5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][5]>100) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][3]>100) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][4]>100))
											{cell_av[2+i_l][4]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][4]!=0))
											  break;
										  cell_av[2+i_l][4]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][4]>100))
											{cell_av[2-i_l][4]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][4]!=0))
											  break;
										  cell_av[2-i_l][4]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[2][4+i_l]>100))
											{cell_av[2][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[2][4+i_l]!=0))
											  break;
										  cell_av[2][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[2][4-i_l]>100))
											{cell_av[2][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[2][4-i_l]!=0))
											  break;
										  cell_av[2][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][4]>0)&&(cell[2+i_l][4]<100))
											{cell_av[2+i_l][4]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][4]!=0))
											  break;
										  cell_av[2+i_l][4]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][4]>0)&&(cell[2-i_l][4]<100))
											{cell_av[2-i_l][4]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][4]!=0))
											  break;
										  cell_av[2-i_l][4]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[2][4+i_l]>0)&&(cell[2][4+i_l]<100))
											{cell_av[2][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[2][4+i_l]!=0))
											  break;
										  cell_av[2][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[2][4-i_l]>0)&&(cell[2][4-i_l]<100))
											{cell_av[2][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[2][4-i_l]!=0))
											  break;
										  cell_av[2][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(4+i_l<8)&&(cell[2+i_l][4+i_l]>100))
											{cell_av[2+i_l][4+i_l]=1;
											 var i_r=3-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(4+i_l>7)||(cell[2+i_l][4+i_l]!=0))
											  break;
										  cell_av[2+i_l][4+i_l]=1;
										  var i_r=3-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(4-i_l>=0)&&(cell[2-i_l][4-i_l]>100))
											{cell_av[2-i_l][4-i_l]=1;
											 var i_r=3-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(4-i_l<0)||(cell[2-i_l][4-i_l]!=0))
											  break;
										  cell_av[2-i_l][4-i_l]=1;
										  var i_r=3-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(4+i_l<8)&&(cell[2-i_l][4+i_l]>100))
											{cell_av[2-i_l][4+i_l]=1;
											 var i_r=3-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(4+i_l>7)||(cell[2-i_l][4+i_l]!=0))
											  break;
										  cell_av[2-i_l][4+i_l]=1;
										  var i_r=3-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(4-i_l>=0)&&(cell[2+i_l][4-i_l]>100))
											{cell_av[2+i_l][4-i_l]=1;
											 var i_r=3-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(4-i_l<0)||(cell[2+i_l][4-i_l]!=0))
											  break;
										  cell_av[2+i_l][4-i_l]=1;
										  var i_r=3-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(4+i_l<8)&&(cell[2+i_l][4+i_l]>0)&&(cell[2+i_l][4+i_l]<100))
											{cell_av[2+i_l][4+i_l]=1;
											 var i_r=3-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(4+i_l>7)||(cell[2+i_l][4+i_l]!=0))
											  break;
										  cell_av[2+i_l][4+i_l]=1;
										  var i_r=3-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(4-i_l>=0)&&(cell[2-i_l][4-i_l]>0)&&(cell[2-i_l][4-i_l]<100))
											{cell_av[2-i_l][4-i_l]=1;
											 var i_r=3-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(4-i_l<0)||(cell[2-i_l][4-i_l]!=0))
											  break;
										  cell_av[2-i_l][4-i_l]=1;
										  var i_r=3-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(4+i_l<8)&&(cell[2-i_l][4+i_l]>0)&&(cell[2-i_l][4+i_l]<100))
											{cell_av[2-i_l][4+i_l]=1;
											 var i_r=3-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(4+i_l>7)||(cell[2-i_l][4+i_l]!=0))
											  break;
										  cell_av[2-i_l][4+i_l]=1;
										  var i_r=3-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(4-i_l>=0)&&(cell[2+i_l][4-i_l]>0)&&(cell[2+i_l][4-i_l]<100))
											{cell_av[2+i_l][4-i_l]=1;
											 var i_r=3-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(4-i_l<0)||(cell[2+i_l][4-i_l]!=0))
											  break;
										  cell_av[2+i_l][4-i_l]=1;
										  var i_r=3-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(5<8)&&(cell[4][5]==0))
										  {//2 точка
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5<8)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(6<8)&&(cell[3][6]==0)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(6<8)&&(cell[3][6]*(cell[3][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2>=0)&&(cell[3][2]==0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(2>=0)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3>=0)&&(cell[4][3]==0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3>=0)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(5<8)&&(cell[0][5]==0))
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5<8)&&(cell[0][5]*(cell[0][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(6<8)&&(cell[1][6]==0)) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(6<8)&&(cell[1][6]*(cell[1][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2>=0)&&(cell[1][2]==0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2>=0)&&(cell[1][2]*(cell[1][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3>=0)&&(cell[0][3]==0)) 	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(3>=0)&&(cell[0][3]*(cell[0][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][3]=1;
										  document.getElementById('td_d'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][4]==0) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][4]==0))	 
												  {
												  cell_av[0][4]=1;
												  document.getElementById('td_e'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][5]>0)&&(cell[1][5]<100)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][3]>0)&&(cell[1][3]<100)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_f3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][5]!=0)
								 {cur_i=2;cur_ii=5;
								 arm=cell[2][5];
								 cell[2][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][5]==0) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][5]==0))	 
											  {
											  cell_av[4][5]=1;
											  document.getElementById('td_f5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][6]>100) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][4]>100) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][5]>100))
											{cell_av[2+i_l][5]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][5]!=0))
											  break;
										  cell_av[2+i_l][5]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][5]>100))
											{cell_av[2-i_l][5]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][5]!=0))
											  break;
										  cell_av[2-i_l][5]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[2][5+i_l]>100))
											{cell_av[2][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[2][5+i_l]!=0))
											  break;
										  cell_av[2][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[2][5-i_l]>100))
											{cell_av[2][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[2][5-i_l]!=0))
											  break;
										  cell_av[2][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][5]>0)&&(cell[2+i_l][5]<100))
											{cell_av[2+i_l][5]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][5]!=0))
											  break;
										  cell_av[2+i_l][5]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][5]>0)&&(cell[2-i_l][5]<100))
											{cell_av[2-i_l][5]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][5]!=0))
											  break;
										  cell_av[2-i_l][5]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[2][5+i_l]>0)&&(cell[2][5+i_l]<100))
											{cell_av[2][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[2][5+i_l]!=0))
											  break;
										  cell_av[2][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[2][5-i_l]>0)&&(cell[2][5-i_l]<100))
											{cell_av[2][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[2][5-i_l]!=0))
											  break;
										  cell_av[2][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(5+i_l<8)&&(cell[2+i_l][5+i_l]>100))
											{cell_av[2+i_l][5+i_l]=1;
											 var i_r=3-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(5+i_l>7)||(cell[2+i_l][5+i_l]!=0))
											  break;
										  cell_av[2+i_l][5+i_l]=1;
										  var i_r=3-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(5-i_l>=0)&&(cell[2-i_l][5-i_l]>100))
											{cell_av[2-i_l][5-i_l]=1;
											 var i_r=3-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(5-i_l<0)||(cell[2-i_l][5-i_l]!=0))
											  break;
										  cell_av[2-i_l][5-i_l]=1;
										  var i_r=3-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(5+i_l<8)&&(cell[2-i_l][5+i_l]>100))
											{cell_av[2-i_l][5+i_l]=1;
											 var i_r=3-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(5+i_l>7)||(cell[2-i_l][5+i_l]!=0))
											  break;
										  cell_av[2-i_l][5+i_l]=1;
										  var i_r=3-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(5-i_l>=0)&&(cell[2+i_l][5-i_l]>100))
											{cell_av[2+i_l][5-i_l]=1;
											 var i_r=3-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(5-i_l<0)||(cell[2+i_l][5-i_l]!=0))
											  break;
										  cell_av[2+i_l][5-i_l]=1;
										  var i_r=3-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(5+i_l<8)&&(cell[2+i_l][5+i_l]>0)&&(cell[2+i_l][5+i_l]<100))
											{cell_av[2+i_l][5+i_l]=1;
											 var i_r=3-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(5+i_l>7)||(cell[2+i_l][5+i_l]!=0))
											  break;
										  cell_av[2+i_l][5+i_l]=1;
										  var i_r=3-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(5-i_l>=0)&&(cell[2-i_l][5-i_l]>0)&&(cell[2-i_l][5-i_l]<100))
											{cell_av[2-i_l][5-i_l]=1;
											 var i_r=3-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(5-i_l<0)||(cell[2-i_l][5-i_l]!=0))
											  break;
										  cell_av[2-i_l][5-i_l]=1;
										  var i_r=3-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(5+i_l<8)&&(cell[2-i_l][5+i_l]>0)&&(cell[2-i_l][5+i_l]<100))
											{cell_av[2-i_l][5+i_l]=1;
											 var i_r=3-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(5+i_l>7)||(cell[2-i_l][5+i_l]!=0))
											  break;
										  cell_av[2-i_l][5+i_l]=1;
										  var i_r=3-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(5-i_l>=0)&&(cell[2+i_l][5-i_l]>0)&&(cell[2+i_l][5-i_l]<100))
											{cell_av[2+i_l][5-i_l]=1;
											 var i_r=3-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(5-i_l<0)||(cell[2+i_l][5-i_l]!=0))
											  break;
										  cell_av[2+i_l][5-i_l]=1;
										  var i_r=3-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(6<8)&&(cell[4][6]==0))
										  {//2 точка
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(6<8)&&(cell[4][6]*(cell[4][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(7<8)&&(cell[3][7]==0)) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(7<8)&&(cell[3][7]*(cell[3][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3>=0)&&(cell[3][3]==0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(3>=0)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4>=0)&&(cell[4][4]==0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4>=0)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(6<8)&&(cell[0][6]==0))
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(6<8)&&(cell[0][6]*(cell[0][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(7<8)&&(cell[1][7]==0)) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(7<8)&&(cell[1][7]*(cell[1][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3>=0)&&(cell[1][3]==0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3>=0)&&(cell[1][3]*(cell[1][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4>=0)&&(cell[0][4]==0)) 	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(4>=0)&&(cell[0][4]*(cell[0][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][4]=1;
										  document.getElementById('td_e'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][5]==0) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][5]==0))	 
												  {
												  cell_av[0][5]=1;
												  document.getElementById('td_f'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][6]>0)&&(cell[1][6]<100)) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][4]>0)&&(cell[1][4]<100)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_g3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][6]!=0)
								 {cur_i=2;cur_ii=6;
								 arm=cell[2][6];
								 cell[2][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][6]==0) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][6]==0))	 
											  {
											  cell_av[4][6]=1;
											  document.getElementById('td_g5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][7]>100) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][5]>100) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][6]>100))
											{cell_av[2+i_l][6]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][6]!=0))
											  break;
										  cell_av[2+i_l][6]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][6]>100))
											{cell_av[2-i_l][6]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][6]!=0))
											  break;
										  cell_av[2-i_l][6]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[2][6+i_l]>100))
											{cell_av[2][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[2][6+i_l]!=0))
											  break;
										  cell_av[2][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[2][6-i_l]>100))
											{cell_av[2][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[2][6-i_l]!=0))
											  break;
										  cell_av[2][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][6]>0)&&(cell[2+i_l][6]<100))
											{cell_av[2+i_l][6]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][6]!=0))
											  break;
										  cell_av[2+i_l][6]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][6]>0)&&(cell[2-i_l][6]<100))
											{cell_av[2-i_l][6]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][6]!=0))
											  break;
										  cell_av[2-i_l][6]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[2][6+i_l]>0)&&(cell[2][6+i_l]<100))
											{cell_av[2][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[2][6+i_l]!=0))
											  break;
										  cell_av[2][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[2][6-i_l]>0)&&(cell[2][6-i_l]<100))
											{cell_av[2][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[2][6-i_l]!=0))
											  break;
										  cell_av[2][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(6+i_l<8)&&(cell[2+i_l][6+i_l]>100))
											{cell_av[2+i_l][6+i_l]=1;
											 var i_r=3-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(6+i_l>7)||(cell[2+i_l][6+i_l]!=0))
											  break;
										  cell_av[2+i_l][6+i_l]=1;
										  var i_r=3-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(6-i_l>=0)&&(cell[2-i_l][6-i_l]>100))
											{cell_av[2-i_l][6-i_l]=1;
											 var i_r=3-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(6-i_l<0)||(cell[2-i_l][6-i_l]!=0))
											  break;
										  cell_av[2-i_l][6-i_l]=1;
										  var i_r=3-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(6+i_l<8)&&(cell[2-i_l][6+i_l]>100))
											{cell_av[2-i_l][6+i_l]=1;
											 var i_r=3-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(6+i_l>7)||(cell[2-i_l][6+i_l]!=0))
											  break;
										  cell_av[2-i_l][6+i_l]=1;
										  var i_r=3-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(6-i_l>=0)&&(cell[2+i_l][6-i_l]>100))
											{cell_av[2+i_l][6-i_l]=1;
											 var i_r=3-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(6-i_l<0)||(cell[2+i_l][6-i_l]!=0))
											  break;
										  cell_av[2+i_l][6-i_l]=1;
										  var i_r=3-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(6+i_l<8)&&(cell[2+i_l][6+i_l]>0)&&(cell[2+i_l][6+i_l]<100))
											{cell_av[2+i_l][6+i_l]=1;
											 var i_r=3-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(6+i_l>7)||(cell[2+i_l][6+i_l]!=0))
											  break;
										  cell_av[2+i_l][6+i_l]=1;
										  var i_r=3-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(6-i_l>=0)&&(cell[2-i_l][6-i_l]>0)&&(cell[2-i_l][6-i_l]<100))
											{cell_av[2-i_l][6-i_l]=1;
											 var i_r=3-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(6-i_l<0)||(cell[2-i_l][6-i_l]!=0))
											  break;
										  cell_av[2-i_l][6-i_l]=1;
										  var i_r=3-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(6+i_l<8)&&(cell[2-i_l][6+i_l]>0)&&(cell[2-i_l][6+i_l]<100))
											{cell_av[2-i_l][6+i_l]=1;
											 var i_r=3-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(6+i_l>7)||(cell[2-i_l][6+i_l]!=0))
											  break;
										  cell_av[2-i_l][6+i_l]=1;
										  var i_r=3-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(6-i_l>=0)&&(cell[2+i_l][6-i_l]>0)&&(cell[2+i_l][6-i_l]<100))
											{cell_av[2+i_l][6-i_l]=1;
											 var i_r=3-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(6-i_l<0)||(cell[2+i_l][6-i_l]!=0))
											  break;
										  cell_av[2+i_l][6-i_l]=1;
										  var i_r=3-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(7<8)&&(cell[4][7]==0))
										  {//2 точка
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(7<8)&&(cell[4][7]*(cell[4][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(8<8)&&(cell[3][8]==0)) 	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(8<8)&&(cell[3][8]*(cell[3][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4>=0)&&(cell[3][4]==0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(4>=0)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5>=0)&&(cell[4][5]==0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5>=0)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(7<8)&&(cell[0][7]==0))
										  {
										  cell_av[0][7]=1;
										  document.getElementById('td_h'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(7<8)&&(cell[0][7]*(cell[0][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][7]=1;
										  document.getElementById('td_h'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(8<8)&&(cell[1][8]==0)) 	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(8<8)&&(cell[1][8]*(cell[1][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4>=0)&&(cell[1][4]==0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4>=0)&&(cell[1][4]*(cell[1][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5>=0)&&(cell[0][5]==0)) 	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(5>=0)&&(cell[0][5]*(cell[0][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][5]=1;
										  document.getElementById('td_f'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][6]==0) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][6]==0))	 
												  {
												  cell_av[0][6]=1;
												  document.getElementById('td_g'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][7]>0)&&(cell[1][7]<100)) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][5]>0)&&(cell[1][5]<100)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_h3 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[2][7]!=0)
								 {cur_i=2;cur_ii=7;
								 arm=cell[2][7];
								 cell[2][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[3][7]==0) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==2)&&(cell[4][7]==0))	 
											  {
											  cell_av[4][7]=1;
											  document.getElementById('td_h5').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[3][8]>100) 	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[3][6]>100) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][7]>100))
											{cell_av[2+i_l][7]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][7]!=0))
											  break;
										  cell_av[2+i_l][7]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][7]>100))
											{cell_av[2-i_l][7]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][7]!=0))
											  break;
										  cell_av[2-i_l][7]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[2][7+i_l]>100))
											{cell_av[2][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[2][7+i_l]!=0))
											  break;
										  cell_av[2][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[2][7-i_l]>100))
											{cell_av[2][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[2][7-i_l]!=0))
											  break;
										  cell_av[2][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[2+i_l][7]>0)&&(cell[2+i_l][7]<100))
											{cell_av[2+i_l][7]=1;
											 var i_r=3-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[2+i_l][7]!=0))
											  break;
										  cell_av[2+i_l][7]=1;
										  var i_r=3-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[2-i_l][7]>0)&&(cell[2-i_l][7]<100))
											{cell_av[2-i_l][7]=1;
											 var i_r=3-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[2-i_l][7]!=0))
											  break;
										  cell_av[2-i_l][7]=1;
										  var i_r=3-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[2][7+i_l]>0)&&(cell[2][7+i_l]<100))
											{cell_av[2][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[2][7+i_l]!=0))
											  break;
										  cell_av[2][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[2][7-i_l]>0)&&(cell[2][7-i_l]<100))
											{cell_av[2][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[2][7-i_l]!=0))
											  break;
										  cell_av[2][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(7+i_l<8)&&(cell[2+i_l][7+i_l]>100))
											{cell_av[2+i_l][7+i_l]=1;
											 var i_r=3-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(7+i_l>7)||(cell[2+i_l][7+i_l]!=0))
											  break;
										  cell_av[2+i_l][7+i_l]=1;
										  var i_r=3-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(7-i_l>=0)&&(cell[2-i_l][7-i_l]>100))
											{cell_av[2-i_l][7-i_l]=1;
											 var i_r=3-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(7-i_l<0)||(cell[2-i_l][7-i_l]!=0))
											  break;
										  cell_av[2-i_l][7-i_l]=1;
										  var i_r=3-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(7+i_l<8)&&(cell[2-i_l][7+i_l]>100))
											{cell_av[2-i_l][7+i_l]=1;
											 var i_r=3-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(7+i_l>7)||(cell[2-i_l][7+i_l]!=0))
											  break;
										  cell_av[2-i_l][7+i_l]=1;
										  var i_r=3-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(7-i_l>=0)&&(cell[2+i_l][7-i_l]>100))
											{cell_av[2+i_l][7-i_l]=1;
											 var i_r=3-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(7-i_l<0)||(cell[2+i_l][7-i_l]!=0))
											  break;
										  cell_av[2+i_l][7-i_l]=1;
										  var i_r=3-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(7+i_l<8)&&(cell[2+i_l][7+i_l]>0)&&(cell[2+i_l][7+i_l]<100))
											{cell_av[2+i_l][7+i_l]=1;
											 var i_r=3-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(7+i_l>7)||(cell[2+i_l][7+i_l]!=0))
											  break;
										  cell_av[2+i_l][7+i_l]=1;
										  var i_r=3-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(7-i_l>=0)&&(cell[2-i_l][7-i_l]>0)&&(cell[2-i_l][7-i_l]<100))
											{cell_av[2-i_l][7-i_l]=1;
											 var i_r=3-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(7-i_l<0)||(cell[2-i_l][7-i_l]!=0))
											  break;
										  cell_av[2-i_l][7-i_l]=1;
										  var i_r=3-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(7+i_l<8)&&(cell[2-i_l][7+i_l]>0)&&(cell[2-i_l][7+i_l]<100))
											{cell_av[2-i_l][7+i_l]=1;
											 var i_r=3-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(7+i_l>7)||(cell[2-i_l][7+i_l]!=0))
											  break;
										  cell_av[2-i_l][7+i_l]=1;
										  var i_r=3-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(7-i_l>=0)&&(cell[2+i_l][7-i_l]>0)&&(cell[2+i_l][7-i_l]<100))
											{cell_av[2+i_l][7-i_l]=1;
											 var i_r=3-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(7-i_l<0)||(cell[2+i_l][7-i_l]!=0))
											  break;
										  cell_av[2+i_l][7-i_l]=1;
										  var i_r=3-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((4<8)&&(8<8)&&(cell[4][8]==0))
										  {//2 точка
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(8<8)&&(cell[4][8]*(cell[4][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(9<8)&&(cell[3][9]==0)) 	 
										  {
										  cell_av[3][9]=1;
										  document.getElementById('td_j'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(9<8)&&(cell[3][9]*(cell[3][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][9]=1;
										  document.getElementById('td_j'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5>=0)&&(cell[3][5]==0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3<8)&&(5>=0)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(6>=0)&&(cell[4][6]==0)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(6>=0)&&(cell[4][6]*(cell[4][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((0>=0)&&(8<8)&&(cell[0][8]==0))
										  {
										  cell_av[0][8]=1;
										  document.getElementById('td_i'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(8<8)&&(cell[0][8]*(cell[0][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[0][8]=1;
										  document.getElementById('td_i'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(9<8)&&(cell[1][9]==0)) 	 
										  {
										  cell_av[1][9]=1;
										  document.getElementById('td_j'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(9<8)&&(cell[1][9]*(cell[1][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][9]=1;
										  document.getElementById('td_j'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5>=0)&&(cell[1][5]==0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5>=0)&&(cell[1][5]*(cell[1][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(6>=0)&&(cell[0][6]==0)) 	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((0>=0)&&(6>=0)&&(cell[0][6]*(cell[0][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[0][6]=1;
										  document.getElementById('td_g'+'1').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[1][7]==0) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((3==7)&&(cell[0][7]==0))	 
												  {
												  cell_av[0][7]=1;
												  document.getElementById('td_h'+'1').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[1][8]>0)&&(cell[1][8]<100)) 	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[1][6]>0)&&(cell[1][6]<100)) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[2][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[2][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[2][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[2][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[2][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(3==8))arm=4;
										if((arm==111)&&(3==1))arm=104;
										cell[2][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+3;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[2][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[2][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_i3 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>3</h3></td></tr><tr><td id=td_`4 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>4</h3></td><td id=td_a4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][0]!=0)
								 {cur_i=3;cur_ii=0;
								 arm=cell[3][0];
								 cell[3][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][0]==0) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][0]==0))	 
											  {
											  cell_av[5][0]=1;
											  document.getElementById('td_a6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][1]>100) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][-1]>100) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][0]>100))
											{cell_av[3+i_l][0]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][0]!=0))
											  break;
										  cell_av[3+i_l][0]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][0]>100))
											{cell_av[3-i_l][0]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][0]!=0))
											  break;
										  cell_av[3-i_l][0]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[3][0+i_l]>100))
											{cell_av[3][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[3][0+i_l]!=0))
											  break;
										  cell_av[3][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[3][0-i_l]>100))
											{cell_av[3][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[3][0-i_l]!=0))
											  break;
										  cell_av[3][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][0]>0)&&(cell[3+i_l][0]<100))
											{cell_av[3+i_l][0]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][0]!=0))
											  break;
										  cell_av[3+i_l][0]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][0]>0)&&(cell[3-i_l][0]<100))
											{cell_av[3-i_l][0]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][0]!=0))
											  break;
										  cell_av[3-i_l][0]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[3][0+i_l]>0)&&(cell[3][0+i_l]<100))
											{cell_av[3][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[3][0+i_l]!=0))
											  break;
										  cell_av[3][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[3][0-i_l]>0)&&(cell[3][0-i_l]<100))
											{cell_av[3][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[3][0-i_l]!=0))
											  break;
										  cell_av[3][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(0+i_l<8)&&(cell[3+i_l][0+i_l]>100))
											{cell_av[3+i_l][0+i_l]=1;
											 var i_r=4-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(0+i_l>7)||(cell[3+i_l][0+i_l]!=0))
											  break;
										  cell_av[3+i_l][0+i_l]=1;
										  var i_r=4-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(0-i_l>=0)&&(cell[3-i_l][0-i_l]>100))
											{cell_av[3-i_l][0-i_l]=1;
											 var i_r=4-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(0-i_l<0)||(cell[3-i_l][0-i_l]!=0))
											  break;
										  cell_av[3-i_l][0-i_l]=1;
										  var i_r=4-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(0+i_l<8)&&(cell[3-i_l][0+i_l]>100))
											{cell_av[3-i_l][0+i_l]=1;
											 var i_r=4-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(0+i_l>7)||(cell[3-i_l][0+i_l]!=0))
											  break;
										  cell_av[3-i_l][0+i_l]=1;
										  var i_r=4-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(0-i_l>=0)&&(cell[3+i_l][0-i_l]>100))
											{cell_av[3+i_l][0-i_l]=1;
											 var i_r=4-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(0-i_l<0)||(cell[3+i_l][0-i_l]!=0))
											  break;
										  cell_av[3+i_l][0-i_l]=1;
										  var i_r=4-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(0+i_l<8)&&(cell[3+i_l][0+i_l]>0)&&(cell[3+i_l][0+i_l]<100))
											{cell_av[3+i_l][0+i_l]=1;
											 var i_r=4-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(0+i_l>7)||(cell[3+i_l][0+i_l]!=0))
											  break;
										  cell_av[3+i_l][0+i_l]=1;
										  var i_r=4-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(0-i_l>=0)&&(cell[3-i_l][0-i_l]>0)&&(cell[3-i_l][0-i_l]<100))
											{cell_av[3-i_l][0-i_l]=1;
											 var i_r=4-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(0-i_l<0)||(cell[3-i_l][0-i_l]!=0))
											  break;
										  cell_av[3-i_l][0-i_l]=1;
										  var i_r=4-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(0+i_l<8)&&(cell[3-i_l][0+i_l]>0)&&(cell[3-i_l][0+i_l]<100))
											{cell_av[3-i_l][0+i_l]=1;
											 var i_r=4-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(0+i_l>7)||(cell[3-i_l][0+i_l]!=0))
											  break;
										  cell_av[3-i_l][0+i_l]=1;
										  var i_r=4-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(0-i_l>=0)&&(cell[3+i_l][0-i_l]>0)&&(cell[3+i_l][0-i_l]<100))
											{cell_av[3+i_l][0-i_l]=1;
											 var i_r=4-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(0-i_l<0)||(cell[3+i_l][0-i_l]!=0))
											  break;
										  cell_av[3+i_l][0-i_l]=1;
										  var i_r=4-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(1<8)&&(cell[5][1]==0))
										  {//2 точка
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(1<8)&&(cell[5][1]*(cell[5][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2<8)&&(cell[4][2]==0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2<8)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(-2>=0)&&(cell[4][-2]==0)) 	 
										  {
										  cell_av[4][-2]=1;
										  document.getElementById('td__'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(-2>=0)&&(cell[4][-2]*(cell[4][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][-2]=1;
										  document.getElementById('td__'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(-1>=0)&&(cell[5][-1]==0)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(-1>=0)&&(cell[5][-1]*(cell[5][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(1<8)&&(cell[1][1]==0))
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(1<8)&&(cell[1][1]*(cell[1][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2<8)&&(cell[2][2]==0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2<8)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(-2>=0)&&(cell[2][-2]==0)) 	 
										  {
										  cell_av[2][-2]=1;
										  document.getElementById('td__'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(-2>=0)&&(cell[2][-2]*(cell[2][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][-2]=1;
										  document.getElementById('td__'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(-1>=0)&&(cell[1][-1]==0)) 	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(-1>=0)&&(cell[1][-1]*(cell[1][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][-1]=1;
										  document.getElementById('td_`'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][0]==0) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][0]==0))	 
												  {
												  cell_av[1][0]=1;
												  document.getElementById('td_a'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][1]>0)&&(cell[2][1]<100)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][-1]>0)&&(cell[2][-1]<100)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_b4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][1]!=0)
								 {cur_i=3;cur_ii=1;
								 arm=cell[3][1];
								 cell[3][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][1]==0) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][1]==0))	 
											  {
											  cell_av[5][1]=1;
											  document.getElementById('td_b6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][2]>100) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][0]>100) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][1]>100))
											{cell_av[3+i_l][1]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][1]!=0))
											  break;
										  cell_av[3+i_l][1]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][1]>100))
											{cell_av[3-i_l][1]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][1]!=0))
											  break;
										  cell_av[3-i_l][1]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[3][1+i_l]>100))
											{cell_av[3][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[3][1+i_l]!=0))
											  break;
										  cell_av[3][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[3][1-i_l]>100))
											{cell_av[3][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[3][1-i_l]!=0))
											  break;
										  cell_av[3][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][1]>0)&&(cell[3+i_l][1]<100))
											{cell_av[3+i_l][1]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][1]!=0))
											  break;
										  cell_av[3+i_l][1]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][1]>0)&&(cell[3-i_l][1]<100))
											{cell_av[3-i_l][1]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][1]!=0))
											  break;
										  cell_av[3-i_l][1]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[3][1+i_l]>0)&&(cell[3][1+i_l]<100))
											{cell_av[3][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[3][1+i_l]!=0))
											  break;
										  cell_av[3][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[3][1-i_l]>0)&&(cell[3][1-i_l]<100))
											{cell_av[3][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[3][1-i_l]!=0))
											  break;
										  cell_av[3][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(1+i_l<8)&&(cell[3+i_l][1+i_l]>100))
											{cell_av[3+i_l][1+i_l]=1;
											 var i_r=4-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(1+i_l>7)||(cell[3+i_l][1+i_l]!=0))
											  break;
										  cell_av[3+i_l][1+i_l]=1;
										  var i_r=4-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(1-i_l>=0)&&(cell[3-i_l][1-i_l]>100))
											{cell_av[3-i_l][1-i_l]=1;
											 var i_r=4-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(1-i_l<0)||(cell[3-i_l][1-i_l]!=0))
											  break;
										  cell_av[3-i_l][1-i_l]=1;
										  var i_r=4-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(1+i_l<8)&&(cell[3-i_l][1+i_l]>100))
											{cell_av[3-i_l][1+i_l]=1;
											 var i_r=4-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(1+i_l>7)||(cell[3-i_l][1+i_l]!=0))
											  break;
										  cell_av[3-i_l][1+i_l]=1;
										  var i_r=4-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(1-i_l>=0)&&(cell[3+i_l][1-i_l]>100))
											{cell_av[3+i_l][1-i_l]=1;
											 var i_r=4-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(1-i_l<0)||(cell[3+i_l][1-i_l]!=0))
											  break;
										  cell_av[3+i_l][1-i_l]=1;
										  var i_r=4-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(1+i_l<8)&&(cell[3+i_l][1+i_l]>0)&&(cell[3+i_l][1+i_l]<100))
											{cell_av[3+i_l][1+i_l]=1;
											 var i_r=4-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(1+i_l>7)||(cell[3+i_l][1+i_l]!=0))
											  break;
										  cell_av[3+i_l][1+i_l]=1;
										  var i_r=4-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(1-i_l>=0)&&(cell[3-i_l][1-i_l]>0)&&(cell[3-i_l][1-i_l]<100))
											{cell_av[3-i_l][1-i_l]=1;
											 var i_r=4-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(1-i_l<0)||(cell[3-i_l][1-i_l]!=0))
											  break;
										  cell_av[3-i_l][1-i_l]=1;
										  var i_r=4-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(1+i_l<8)&&(cell[3-i_l][1+i_l]>0)&&(cell[3-i_l][1+i_l]<100))
											{cell_av[3-i_l][1+i_l]=1;
											 var i_r=4-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(1+i_l>7)||(cell[3-i_l][1+i_l]!=0))
											  break;
										  cell_av[3-i_l][1+i_l]=1;
										  var i_r=4-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(1-i_l>=0)&&(cell[3+i_l][1-i_l]>0)&&(cell[3+i_l][1-i_l]<100))
											{cell_av[3+i_l][1-i_l]=1;
											 var i_r=4-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(1-i_l<0)||(cell[3+i_l][1-i_l]!=0))
											  break;
										  cell_av[3+i_l][1-i_l]=1;
										  var i_r=4-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(2<8)&&(cell[5][2]==0))
										  {//2 точка
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2<8)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3<8)&&(cell[4][3]==0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3<8)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(-1>=0)&&(cell[4][-1]==0)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(-1>=0)&&(cell[4][-1]*(cell[4][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(0>=0)&&(cell[5][0]==0)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(0>=0)&&(cell[5][0]*(cell[5][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(2<8)&&(cell[1][2]==0))
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2<8)&&(cell[1][2]*(cell[1][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3<8)&&(cell[2][3]==0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3<8)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(-1>=0)&&(cell[2][-1]==0)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(-1>=0)&&(cell[2][-1]*(cell[2][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(0>=0)&&(cell[1][0]==0)) 	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(0>=0)&&(cell[1][0]*(cell[1][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][0]=1;
										  document.getElementById('td_a'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][1]==0) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][1]==0))	 
												  {
												  cell_av[1][1]=1;
												  document.getElementById('td_b'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][2]>0)&&(cell[2][2]<100)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][0]>0)&&(cell[2][0]<100)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_c4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][2]!=0)
								 {cur_i=3;cur_ii=2;
								 arm=cell[3][2];
								 cell[3][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][2]==0) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][2]==0))	 
											  {
											  cell_av[5][2]=1;
											  document.getElementById('td_c6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][3]>100) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][1]>100) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][2]>100))
											{cell_av[3+i_l][2]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][2]!=0))
											  break;
										  cell_av[3+i_l][2]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][2]>100))
											{cell_av[3-i_l][2]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][2]!=0))
											  break;
										  cell_av[3-i_l][2]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[3][2+i_l]>100))
											{cell_av[3][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[3][2+i_l]!=0))
											  break;
										  cell_av[3][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[3][2-i_l]>100))
											{cell_av[3][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[3][2-i_l]!=0))
											  break;
										  cell_av[3][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][2]>0)&&(cell[3+i_l][2]<100))
											{cell_av[3+i_l][2]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][2]!=0))
											  break;
										  cell_av[3+i_l][2]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][2]>0)&&(cell[3-i_l][2]<100))
											{cell_av[3-i_l][2]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][2]!=0))
											  break;
										  cell_av[3-i_l][2]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[3][2+i_l]>0)&&(cell[3][2+i_l]<100))
											{cell_av[3][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[3][2+i_l]!=0))
											  break;
										  cell_av[3][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[3][2-i_l]>0)&&(cell[3][2-i_l]<100))
											{cell_av[3][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[3][2-i_l]!=0))
											  break;
										  cell_av[3][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(2+i_l<8)&&(cell[3+i_l][2+i_l]>100))
											{cell_av[3+i_l][2+i_l]=1;
											 var i_r=4-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(2+i_l>7)||(cell[3+i_l][2+i_l]!=0))
											  break;
										  cell_av[3+i_l][2+i_l]=1;
										  var i_r=4-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(2-i_l>=0)&&(cell[3-i_l][2-i_l]>100))
											{cell_av[3-i_l][2-i_l]=1;
											 var i_r=4-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(2-i_l<0)||(cell[3-i_l][2-i_l]!=0))
											  break;
										  cell_av[3-i_l][2-i_l]=1;
										  var i_r=4-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(2+i_l<8)&&(cell[3-i_l][2+i_l]>100))
											{cell_av[3-i_l][2+i_l]=1;
											 var i_r=4-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(2+i_l>7)||(cell[3-i_l][2+i_l]!=0))
											  break;
										  cell_av[3-i_l][2+i_l]=1;
										  var i_r=4-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(2-i_l>=0)&&(cell[3+i_l][2-i_l]>100))
											{cell_av[3+i_l][2-i_l]=1;
											 var i_r=4-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(2-i_l<0)||(cell[3+i_l][2-i_l]!=0))
											  break;
										  cell_av[3+i_l][2-i_l]=1;
										  var i_r=4-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(2+i_l<8)&&(cell[3+i_l][2+i_l]>0)&&(cell[3+i_l][2+i_l]<100))
											{cell_av[3+i_l][2+i_l]=1;
											 var i_r=4-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(2+i_l>7)||(cell[3+i_l][2+i_l]!=0))
											  break;
										  cell_av[3+i_l][2+i_l]=1;
										  var i_r=4-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(2-i_l>=0)&&(cell[3-i_l][2-i_l]>0)&&(cell[3-i_l][2-i_l]<100))
											{cell_av[3-i_l][2-i_l]=1;
											 var i_r=4-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(2-i_l<0)||(cell[3-i_l][2-i_l]!=0))
											  break;
										  cell_av[3-i_l][2-i_l]=1;
										  var i_r=4-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(2+i_l<8)&&(cell[3-i_l][2+i_l]>0)&&(cell[3-i_l][2+i_l]<100))
											{cell_av[3-i_l][2+i_l]=1;
											 var i_r=4-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(2+i_l>7)||(cell[3-i_l][2+i_l]!=0))
											  break;
										  cell_av[3-i_l][2+i_l]=1;
										  var i_r=4-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(2-i_l>=0)&&(cell[3+i_l][2-i_l]>0)&&(cell[3+i_l][2-i_l]<100))
											{cell_av[3+i_l][2-i_l]=1;
											 var i_r=4-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(2-i_l<0)||(cell[3+i_l][2-i_l]!=0))
											  break;
										  cell_av[3+i_l][2-i_l]=1;
										  var i_r=4-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(3<8)&&(cell[5][3]==0))
										  {//2 точка
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3<8)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4<8)&&(cell[4][4]==0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4<8)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(0>=0)&&(cell[4][0]==0)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(0>=0)&&(cell[4][0]*(cell[4][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(1>=0)&&(cell[5][1]==0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(1>=0)&&(cell[5][1]*(cell[5][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(3<8)&&(cell[1][3]==0))
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3<8)&&(cell[1][3]*(cell[1][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4<8)&&(cell[2][4]==0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4<8)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(0>=0)&&(cell[2][0]==0)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(0>=0)&&(cell[2][0]*(cell[2][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(1>=0)&&(cell[1][1]==0)) 	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(1>=0)&&(cell[1][1]*(cell[1][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][1]=1;
										  document.getElementById('td_b'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][2]==0) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][2]==0))	 
												  {
												  cell_av[1][2]=1;
												  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][3]>0)&&(cell[2][3]<100)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][1]>0)&&(cell[2][1]<100)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_d4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][3]!=0)
								 {cur_i=3;cur_ii=3;
								 arm=cell[3][3];
								 cell[3][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][3]==0) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][3]==0))	 
											  {
											  cell_av[5][3]=1;
											  document.getElementById('td_d6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][4]>100) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][2]>100) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][3]>100))
											{cell_av[3+i_l][3]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][3]!=0))
											  break;
										  cell_av[3+i_l][3]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][3]>100))
											{cell_av[3-i_l][3]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][3]!=0))
											  break;
										  cell_av[3-i_l][3]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3][3+i_l]>100))
											{cell_av[3][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3][3+i_l]!=0))
											  break;
										  cell_av[3][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3][3-i_l]>100))
											{cell_av[3][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3][3-i_l]!=0))
											  break;
										  cell_av[3][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][3]>0)&&(cell[3+i_l][3]<100))
											{cell_av[3+i_l][3]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][3]!=0))
											  break;
										  cell_av[3+i_l][3]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][3]>0)&&(cell[3-i_l][3]<100))
											{cell_av[3-i_l][3]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][3]!=0))
											  break;
										  cell_av[3-i_l][3]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3][3+i_l]>0)&&(cell[3][3+i_l]<100))
											{cell_av[3][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3][3+i_l]!=0))
											  break;
										  cell_av[3][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3][3-i_l]>0)&&(cell[3][3-i_l]<100))
											{cell_av[3][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3][3-i_l]!=0))
											  break;
										  cell_av[3][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(3+i_l<8)&&(cell[3+i_l][3+i_l]>100))
											{cell_av[3+i_l][3+i_l]=1;
											 var i_r=4-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(3+i_l>7)||(cell[3+i_l][3+i_l]!=0))
											  break;
										  cell_av[3+i_l][3+i_l]=1;
										  var i_r=4-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(3-i_l>=0)&&(cell[3-i_l][3-i_l]>100))
											{cell_av[3-i_l][3-i_l]=1;
											 var i_r=4-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(3-i_l<0)||(cell[3-i_l][3-i_l]!=0))
											  break;
										  cell_av[3-i_l][3-i_l]=1;
										  var i_r=4-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(3+i_l<8)&&(cell[3-i_l][3+i_l]>100))
											{cell_av[3-i_l][3+i_l]=1;
											 var i_r=4-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(3+i_l>7)||(cell[3-i_l][3+i_l]!=0))
											  break;
										  cell_av[3-i_l][3+i_l]=1;
										  var i_r=4-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(3-i_l>=0)&&(cell[3+i_l][3-i_l]>100))
											{cell_av[3+i_l][3-i_l]=1;
											 var i_r=4-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(3-i_l<0)||(cell[3+i_l][3-i_l]!=0))
											  break;
										  cell_av[3+i_l][3-i_l]=1;
										  var i_r=4-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(3+i_l<8)&&(cell[3+i_l][3+i_l]>0)&&(cell[3+i_l][3+i_l]<100))
											{cell_av[3+i_l][3+i_l]=1;
											 var i_r=4-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(3+i_l>7)||(cell[3+i_l][3+i_l]!=0))
											  break;
										  cell_av[3+i_l][3+i_l]=1;
										  var i_r=4-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(3-i_l>=0)&&(cell[3-i_l][3-i_l]>0)&&(cell[3-i_l][3-i_l]<100))
											{cell_av[3-i_l][3-i_l]=1;
											 var i_r=4-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(3-i_l<0)||(cell[3-i_l][3-i_l]!=0))
											  break;
										  cell_av[3-i_l][3-i_l]=1;
										  var i_r=4-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(3+i_l<8)&&(cell[3-i_l][3+i_l]>0)&&(cell[3-i_l][3+i_l]<100))
											{cell_av[3-i_l][3+i_l]=1;
											 var i_r=4-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(3+i_l>7)||(cell[3-i_l][3+i_l]!=0))
											  break;
										  cell_av[3-i_l][3+i_l]=1;
										  var i_r=4-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(3-i_l>=0)&&(cell[3+i_l][3-i_l]>0)&&(cell[3+i_l][3-i_l]<100))
											{cell_av[3+i_l][3-i_l]=1;
											 var i_r=4-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(3-i_l<0)||(cell[3+i_l][3-i_l]!=0))
											  break;
										  cell_av[3+i_l][3-i_l]=1;
										  var i_r=4-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(4<8)&&(cell[5][4]==0))
										  {//2 точка
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4<8)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5<8)&&(cell[4][5]==0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5<8)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(1>=0)&&(cell[4][1]==0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(1>=0)&&(cell[4][1]*(cell[4][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2>=0)&&(cell[5][2]==0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2>=0)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(4<8)&&(cell[1][4]==0))
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4<8)&&(cell[1][4]*(cell[1][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5<8)&&(cell[2][5]==0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5<8)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(1>=0)&&(cell[2][1]==0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(1>=0)&&(cell[2][1]*(cell[2][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2>=0)&&(cell[1][2]==0)) 	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(2>=0)&&(cell[1][2]*(cell[1][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][2]=1;
										  document.getElementById('td_c'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][3]==0) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][3]==0))	 
												  {
												  cell_av[1][3]=1;
												  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][4]>0)&&(cell[2][4]<100)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][2]>0)&&(cell[2][2]<100)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_e4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][4]!=0)
								 {cur_i=3;cur_ii=4;
								 arm=cell[3][4];
								 cell[3][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][4]==0) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][4]==0))	 
											  {
											  cell_av[5][4]=1;
											  document.getElementById('td_e6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][5]>100) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][3]>100) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][4]>100))
											{cell_av[3+i_l][4]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][4]!=0))
											  break;
										  cell_av[3+i_l][4]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][4]>100))
											{cell_av[3-i_l][4]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][4]!=0))
											  break;
										  cell_av[3-i_l][4]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[3][4+i_l]>100))
											{cell_av[3][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[3][4+i_l]!=0))
											  break;
										  cell_av[3][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[3][4-i_l]>100))
											{cell_av[3][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[3][4-i_l]!=0))
											  break;
										  cell_av[3][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][4]>0)&&(cell[3+i_l][4]<100))
											{cell_av[3+i_l][4]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][4]!=0))
											  break;
										  cell_av[3+i_l][4]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][4]>0)&&(cell[3-i_l][4]<100))
											{cell_av[3-i_l][4]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][4]!=0))
											  break;
										  cell_av[3-i_l][4]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[3][4+i_l]>0)&&(cell[3][4+i_l]<100))
											{cell_av[3][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[3][4+i_l]!=0))
											  break;
										  cell_av[3][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[3][4-i_l]>0)&&(cell[3][4-i_l]<100))
											{cell_av[3][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[3][4-i_l]!=0))
											  break;
										  cell_av[3][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(4+i_l<8)&&(cell[3+i_l][4+i_l]>100))
											{cell_av[3+i_l][4+i_l]=1;
											 var i_r=4-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(4+i_l>7)||(cell[3+i_l][4+i_l]!=0))
											  break;
										  cell_av[3+i_l][4+i_l]=1;
										  var i_r=4-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(4-i_l>=0)&&(cell[3-i_l][4-i_l]>100))
											{cell_av[3-i_l][4-i_l]=1;
											 var i_r=4-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(4-i_l<0)||(cell[3-i_l][4-i_l]!=0))
											  break;
										  cell_av[3-i_l][4-i_l]=1;
										  var i_r=4-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(4+i_l<8)&&(cell[3-i_l][4+i_l]>100))
											{cell_av[3-i_l][4+i_l]=1;
											 var i_r=4-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(4+i_l>7)||(cell[3-i_l][4+i_l]!=0))
											  break;
										  cell_av[3-i_l][4+i_l]=1;
										  var i_r=4-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(4-i_l>=0)&&(cell[3+i_l][4-i_l]>100))
											{cell_av[3+i_l][4-i_l]=1;
											 var i_r=4-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(4-i_l<0)||(cell[3+i_l][4-i_l]!=0))
											  break;
										  cell_av[3+i_l][4-i_l]=1;
										  var i_r=4-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(4+i_l<8)&&(cell[3+i_l][4+i_l]>0)&&(cell[3+i_l][4+i_l]<100))
											{cell_av[3+i_l][4+i_l]=1;
											 var i_r=4-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(4+i_l>7)||(cell[3+i_l][4+i_l]!=0))
											  break;
										  cell_av[3+i_l][4+i_l]=1;
										  var i_r=4-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(4-i_l>=0)&&(cell[3-i_l][4-i_l]>0)&&(cell[3-i_l][4-i_l]<100))
											{cell_av[3-i_l][4-i_l]=1;
											 var i_r=4-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(4-i_l<0)||(cell[3-i_l][4-i_l]!=0))
											  break;
										  cell_av[3-i_l][4-i_l]=1;
										  var i_r=4-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(4+i_l<8)&&(cell[3-i_l][4+i_l]>0)&&(cell[3-i_l][4+i_l]<100))
											{cell_av[3-i_l][4+i_l]=1;
											 var i_r=4-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(4+i_l>7)||(cell[3-i_l][4+i_l]!=0))
											  break;
										  cell_av[3-i_l][4+i_l]=1;
										  var i_r=4-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(4-i_l>=0)&&(cell[3+i_l][4-i_l]>0)&&(cell[3+i_l][4-i_l]<100))
											{cell_av[3+i_l][4-i_l]=1;
											 var i_r=4-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(4-i_l<0)||(cell[3+i_l][4-i_l]!=0))
											  break;
										  cell_av[3+i_l][4-i_l]=1;
										  var i_r=4-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(5<8)&&(cell[5][5]==0))
										  {//2 точка
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5<8)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(6<8)&&(cell[4][6]==0)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(6<8)&&(cell[4][6]*(cell[4][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2>=0)&&(cell[4][2]==0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(2>=0)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3>=0)&&(cell[5][3]==0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3>=0)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(5<8)&&(cell[1][5]==0))
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5<8)&&(cell[1][5]*(cell[1][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(6<8)&&(cell[2][6]==0)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(6<8)&&(cell[2][6]*(cell[2][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2>=0)&&(cell[2][2]==0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2>=0)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3>=0)&&(cell[1][3]==0)) 	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(3>=0)&&(cell[1][3]*(cell[1][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][3]=1;
										  document.getElementById('td_d'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][4]==0) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][4]==0))	 
												  {
												  cell_av[1][4]=1;
												  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][5]>0)&&(cell[2][5]<100)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][3]>0)&&(cell[2][3]<100)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_f4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][5]!=0)
								 {cur_i=3;cur_ii=5;
								 arm=cell[3][5];
								 cell[3][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][5]==0) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][5]==0))	 
											  {
											  cell_av[5][5]=1;
											  document.getElementById('td_f6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][6]>100) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][4]>100) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][5]>100))
											{cell_av[3+i_l][5]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][5]!=0))
											  break;
										  cell_av[3+i_l][5]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][5]>100))
											{cell_av[3-i_l][5]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][5]!=0))
											  break;
										  cell_av[3-i_l][5]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[3][5+i_l]>100))
											{cell_av[3][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[3][5+i_l]!=0))
											  break;
										  cell_av[3][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[3][5-i_l]>100))
											{cell_av[3][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[3][5-i_l]!=0))
											  break;
										  cell_av[3][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][5]>0)&&(cell[3+i_l][5]<100))
											{cell_av[3+i_l][5]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][5]!=0))
											  break;
										  cell_av[3+i_l][5]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][5]>0)&&(cell[3-i_l][5]<100))
											{cell_av[3-i_l][5]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][5]!=0))
											  break;
										  cell_av[3-i_l][5]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[3][5+i_l]>0)&&(cell[3][5+i_l]<100))
											{cell_av[3][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[3][5+i_l]!=0))
											  break;
										  cell_av[3][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[3][5-i_l]>0)&&(cell[3][5-i_l]<100))
											{cell_av[3][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[3][5-i_l]!=0))
											  break;
										  cell_av[3][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(5+i_l<8)&&(cell[3+i_l][5+i_l]>100))
											{cell_av[3+i_l][5+i_l]=1;
											 var i_r=4-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(5+i_l>7)||(cell[3+i_l][5+i_l]!=0))
											  break;
										  cell_av[3+i_l][5+i_l]=1;
										  var i_r=4-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(5-i_l>=0)&&(cell[3-i_l][5-i_l]>100))
											{cell_av[3-i_l][5-i_l]=1;
											 var i_r=4-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(5-i_l<0)||(cell[3-i_l][5-i_l]!=0))
											  break;
										  cell_av[3-i_l][5-i_l]=1;
										  var i_r=4-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(5+i_l<8)&&(cell[3-i_l][5+i_l]>100))
											{cell_av[3-i_l][5+i_l]=1;
											 var i_r=4-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(5+i_l>7)||(cell[3-i_l][5+i_l]!=0))
											  break;
										  cell_av[3-i_l][5+i_l]=1;
										  var i_r=4-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(5-i_l>=0)&&(cell[3+i_l][5-i_l]>100))
											{cell_av[3+i_l][5-i_l]=1;
											 var i_r=4-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(5-i_l<0)||(cell[3+i_l][5-i_l]!=0))
											  break;
										  cell_av[3+i_l][5-i_l]=1;
										  var i_r=4-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(5+i_l<8)&&(cell[3+i_l][5+i_l]>0)&&(cell[3+i_l][5+i_l]<100))
											{cell_av[3+i_l][5+i_l]=1;
											 var i_r=4-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(5+i_l>7)||(cell[3+i_l][5+i_l]!=0))
											  break;
										  cell_av[3+i_l][5+i_l]=1;
										  var i_r=4-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(5-i_l>=0)&&(cell[3-i_l][5-i_l]>0)&&(cell[3-i_l][5-i_l]<100))
											{cell_av[3-i_l][5-i_l]=1;
											 var i_r=4-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(5-i_l<0)||(cell[3-i_l][5-i_l]!=0))
											  break;
										  cell_av[3-i_l][5-i_l]=1;
										  var i_r=4-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(5+i_l<8)&&(cell[3-i_l][5+i_l]>0)&&(cell[3-i_l][5+i_l]<100))
											{cell_av[3-i_l][5+i_l]=1;
											 var i_r=4-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(5+i_l>7)||(cell[3-i_l][5+i_l]!=0))
											  break;
										  cell_av[3-i_l][5+i_l]=1;
										  var i_r=4-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(5-i_l>=0)&&(cell[3+i_l][5-i_l]>0)&&(cell[3+i_l][5-i_l]<100))
											{cell_av[3+i_l][5-i_l]=1;
											 var i_r=4-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(5-i_l<0)||(cell[3+i_l][5-i_l]!=0))
											  break;
										  cell_av[3+i_l][5-i_l]=1;
										  var i_r=4-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(6<8)&&(cell[5][6]==0))
										  {//2 точка
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(6<8)&&(cell[5][6]*(cell[5][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(7<8)&&(cell[4][7]==0)) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(7<8)&&(cell[4][7]*(cell[4][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3>=0)&&(cell[4][3]==0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(3>=0)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4>=0)&&(cell[5][4]==0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4>=0)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(6<8)&&(cell[1][6]==0))
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(6<8)&&(cell[1][6]*(cell[1][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(7<8)&&(cell[2][7]==0)) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(7<8)&&(cell[2][7]*(cell[2][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3>=0)&&(cell[2][3]==0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3>=0)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4>=0)&&(cell[1][4]==0)) 	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(4>=0)&&(cell[1][4]*(cell[1][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][4]=1;
										  document.getElementById('td_e'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][5]==0) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][5]==0))	 
												  {
												  cell_av[1][5]=1;
												  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][6]>0)&&(cell[2][6]<100)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][4]>0)&&(cell[2][4]<100)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_g4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][6]!=0)
								 {cur_i=3;cur_ii=6;
								 arm=cell[3][6];
								 cell[3][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][6]==0) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][6]==0))	 
											  {
											  cell_av[5][6]=1;
											  document.getElementById('td_g6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][7]>100) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][5]>100) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][6]>100))
											{cell_av[3+i_l][6]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][6]!=0))
											  break;
										  cell_av[3+i_l][6]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][6]>100))
											{cell_av[3-i_l][6]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][6]!=0))
											  break;
										  cell_av[3-i_l][6]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[3][6+i_l]>100))
											{cell_av[3][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[3][6+i_l]!=0))
											  break;
										  cell_av[3][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[3][6-i_l]>100))
											{cell_av[3][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[3][6-i_l]!=0))
											  break;
										  cell_av[3][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][6]>0)&&(cell[3+i_l][6]<100))
											{cell_av[3+i_l][6]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][6]!=0))
											  break;
										  cell_av[3+i_l][6]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][6]>0)&&(cell[3-i_l][6]<100))
											{cell_av[3-i_l][6]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][6]!=0))
											  break;
										  cell_av[3-i_l][6]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[3][6+i_l]>0)&&(cell[3][6+i_l]<100))
											{cell_av[3][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[3][6+i_l]!=0))
											  break;
										  cell_av[3][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[3][6-i_l]>0)&&(cell[3][6-i_l]<100))
											{cell_av[3][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[3][6-i_l]!=0))
											  break;
										  cell_av[3][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(6+i_l<8)&&(cell[3+i_l][6+i_l]>100))
											{cell_av[3+i_l][6+i_l]=1;
											 var i_r=4-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(6+i_l>7)||(cell[3+i_l][6+i_l]!=0))
											  break;
										  cell_av[3+i_l][6+i_l]=1;
										  var i_r=4-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(6-i_l>=0)&&(cell[3-i_l][6-i_l]>100))
											{cell_av[3-i_l][6-i_l]=1;
											 var i_r=4-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(6-i_l<0)||(cell[3-i_l][6-i_l]!=0))
											  break;
										  cell_av[3-i_l][6-i_l]=1;
										  var i_r=4-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(6+i_l<8)&&(cell[3-i_l][6+i_l]>100))
											{cell_av[3-i_l][6+i_l]=1;
											 var i_r=4-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(6+i_l>7)||(cell[3-i_l][6+i_l]!=0))
											  break;
										  cell_av[3-i_l][6+i_l]=1;
										  var i_r=4-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(6-i_l>=0)&&(cell[3+i_l][6-i_l]>100))
											{cell_av[3+i_l][6-i_l]=1;
											 var i_r=4-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(6-i_l<0)||(cell[3+i_l][6-i_l]!=0))
											  break;
										  cell_av[3+i_l][6-i_l]=1;
										  var i_r=4-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(6+i_l<8)&&(cell[3+i_l][6+i_l]>0)&&(cell[3+i_l][6+i_l]<100))
											{cell_av[3+i_l][6+i_l]=1;
											 var i_r=4-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(6+i_l>7)||(cell[3+i_l][6+i_l]!=0))
											  break;
										  cell_av[3+i_l][6+i_l]=1;
										  var i_r=4-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(6-i_l>=0)&&(cell[3-i_l][6-i_l]>0)&&(cell[3-i_l][6-i_l]<100))
											{cell_av[3-i_l][6-i_l]=1;
											 var i_r=4-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(6-i_l<0)||(cell[3-i_l][6-i_l]!=0))
											  break;
										  cell_av[3-i_l][6-i_l]=1;
										  var i_r=4-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(6+i_l<8)&&(cell[3-i_l][6+i_l]>0)&&(cell[3-i_l][6+i_l]<100))
											{cell_av[3-i_l][6+i_l]=1;
											 var i_r=4-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(6+i_l>7)||(cell[3-i_l][6+i_l]!=0))
											  break;
										  cell_av[3-i_l][6+i_l]=1;
										  var i_r=4-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(6-i_l>=0)&&(cell[3+i_l][6-i_l]>0)&&(cell[3+i_l][6-i_l]<100))
											{cell_av[3+i_l][6-i_l]=1;
											 var i_r=4-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(6-i_l<0)||(cell[3+i_l][6-i_l]!=0))
											  break;
										  cell_av[3+i_l][6-i_l]=1;
										  var i_r=4-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(7<8)&&(cell[5][7]==0))
										  {//2 точка
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(7<8)&&(cell[5][7]*(cell[5][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(8<8)&&(cell[4][8]==0)) 	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(8<8)&&(cell[4][8]*(cell[4][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4>=0)&&(cell[4][4]==0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(4>=0)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5>=0)&&(cell[5][5]==0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5>=0)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(7<8)&&(cell[1][7]==0))
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(7<8)&&(cell[1][7]*(cell[1][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][7]=1;
										  document.getElementById('td_h'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(8<8)&&(cell[2][8]==0)) 	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(8<8)&&(cell[2][8]*(cell[2][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4>=0)&&(cell[2][4]==0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4>=0)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5>=0)&&(cell[1][5]==0)) 	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(5>=0)&&(cell[1][5]*(cell[1][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][5]=1;
										  document.getElementById('td_f'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][6]==0) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][6]==0))	 
												  {
												  cell_av[1][6]=1;
												  document.getElementById('td_g'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][7]>0)&&(cell[2][7]<100)) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][5]>0)&&(cell[2][5]<100)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_h4 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[3][7]!=0)
								 {cur_i=3;cur_ii=7;
								 arm=cell[3][7];
								 cell[3][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[4][7]==0) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==2)&&(cell[5][7]==0))	 
											  {
											  cell_av[5][7]=1;
											  document.getElementById('td_h6').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[4][8]>100) 	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[4][6]>100) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][7]>100))
											{cell_av[3+i_l][7]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][7]!=0))
											  break;
										  cell_av[3+i_l][7]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][7]>100))
											{cell_av[3-i_l][7]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][7]!=0))
											  break;
										  cell_av[3-i_l][7]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[3][7+i_l]>100))
											{cell_av[3][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[3][7+i_l]!=0))
											  break;
										  cell_av[3][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[3][7-i_l]>100))
											{cell_av[3][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[3][7-i_l]!=0))
											  break;
										  cell_av[3][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[3+i_l][7]>0)&&(cell[3+i_l][7]<100))
											{cell_av[3+i_l][7]=1;
											 var i_r=4-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[3+i_l][7]!=0))
											  break;
										  cell_av[3+i_l][7]=1;
										  var i_r=4-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[3-i_l][7]>0)&&(cell[3-i_l][7]<100))
											{cell_av[3-i_l][7]=1;
											 var i_r=4-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[3-i_l][7]!=0))
											  break;
										  cell_av[3-i_l][7]=1;
										  var i_r=4-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[3][7+i_l]>0)&&(cell[3][7+i_l]<100))
											{cell_av[3][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[3][7+i_l]!=0))
											  break;
										  cell_av[3][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[3][7-i_l]>0)&&(cell[3][7-i_l]<100))
											{cell_av[3][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[3][7-i_l]!=0))
											  break;
										  cell_av[3][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(7+i_l<8)&&(cell[3+i_l][7+i_l]>100))
											{cell_av[3+i_l][7+i_l]=1;
											 var i_r=4-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(7+i_l>7)||(cell[3+i_l][7+i_l]!=0))
											  break;
										  cell_av[3+i_l][7+i_l]=1;
										  var i_r=4-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(7-i_l>=0)&&(cell[3-i_l][7-i_l]>100))
											{cell_av[3-i_l][7-i_l]=1;
											 var i_r=4-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(7-i_l<0)||(cell[3-i_l][7-i_l]!=0))
											  break;
										  cell_av[3-i_l][7-i_l]=1;
										  var i_r=4-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(7+i_l<8)&&(cell[3-i_l][7+i_l]>100))
											{cell_av[3-i_l][7+i_l]=1;
											 var i_r=4-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(7+i_l>7)||(cell[3-i_l][7+i_l]!=0))
											  break;
										  cell_av[3-i_l][7+i_l]=1;
										  var i_r=4-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(7-i_l>=0)&&(cell[3+i_l][7-i_l]>100))
											{cell_av[3+i_l][7-i_l]=1;
											 var i_r=4-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(7-i_l<0)||(cell[3+i_l][7-i_l]!=0))
											  break;
										  cell_av[3+i_l][7-i_l]=1;
										  var i_r=4-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(7+i_l<8)&&(cell[3+i_l][7+i_l]>0)&&(cell[3+i_l][7+i_l]<100))
											{cell_av[3+i_l][7+i_l]=1;
											 var i_r=4-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(7+i_l>7)||(cell[3+i_l][7+i_l]!=0))
											  break;
										  cell_av[3+i_l][7+i_l]=1;
										  var i_r=4-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(7-i_l>=0)&&(cell[3-i_l][7-i_l]>0)&&(cell[3-i_l][7-i_l]<100))
											{cell_av[3-i_l][7-i_l]=1;
											 var i_r=4-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(7-i_l<0)||(cell[3-i_l][7-i_l]!=0))
											  break;
										  cell_av[3-i_l][7-i_l]=1;
										  var i_r=4-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(7+i_l<8)&&(cell[3-i_l][7+i_l]>0)&&(cell[3-i_l][7+i_l]<100))
											{cell_av[3-i_l][7+i_l]=1;
											 var i_r=4-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(7+i_l>7)||(cell[3-i_l][7+i_l]!=0))
											  break;
										  cell_av[3-i_l][7+i_l]=1;
										  var i_r=4-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(7-i_l>=0)&&(cell[3+i_l][7-i_l]>0)&&(cell[3+i_l][7-i_l]<100))
											{cell_av[3+i_l][7-i_l]=1;
											 var i_r=4-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(7-i_l<0)||(cell[3+i_l][7-i_l]!=0))
											  break;
										  cell_av[3+i_l][7-i_l]=1;
										  var i_r=4-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((5<8)&&(8<8)&&(cell[5][8]==0))
										  {//2 точка
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(8<8)&&(cell[5][8]*(cell[5][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(9<8)&&(cell[4][9]==0)) 	 
										  {
										  cell_av[4][9]=1;
										  document.getElementById('td_j'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(9<8)&&(cell[4][9]*(cell[4][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][9]=1;
										  document.getElementById('td_j'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5>=0)&&(cell[4][5]==0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4<8)&&(5>=0)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(6>=0)&&(cell[5][6]==0)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(6>=0)&&(cell[5][6]*(cell[5][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((1>=0)&&(8<8)&&(cell[1][8]==0))
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(8<8)&&(cell[1][8]*(cell[1][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[1][8]=1;
										  document.getElementById('td_i'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(9<8)&&(cell[2][9]==0)) 	 
										  {
										  cell_av[2][9]=1;
										  document.getElementById('td_j'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(9<8)&&(cell[2][9]*(cell[2][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][9]=1;
										  document.getElementById('td_j'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5>=0)&&(cell[2][5]==0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5>=0)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(6>=0)&&(cell[1][6]==0)) 	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((1>=0)&&(6>=0)&&(cell[1][6]*(cell[1][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[1][6]=1;
										  document.getElementById('td_g'+'2').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[2][7]==0) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((4==7)&&(cell[1][7]==0))	 
												  {
												  cell_av[1][7]=1;
												  document.getElementById('td_h'+'2').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[2][8]>0)&&(cell[2][8]<100)) 	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[2][6]>0)&&(cell[2][6]<100)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[3][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[3][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[3][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[3][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[3][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(4==8))arm=4;
										if((arm==111)&&(4==1))arm=104;
										cell[3][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+4;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[3][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[3][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_i4 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>4</h3></td></tr><tr><td id=td_`5 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>5</h3></td><td id=td_a5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][0]!=0)
								 {cur_i=4;cur_ii=0;
								 arm=cell[4][0];
								 cell[4][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][0]==0) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][0]==0))	 
											  {
											  cell_av[6][0]=1;
											  document.getElementById('td_a7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][1]>100) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][-1]>100) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][0]>100))
											{cell_av[4+i_l][0]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][0]!=0))
											  break;
										  cell_av[4+i_l][0]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][0]>100))
											{cell_av[4-i_l][0]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][0]!=0))
											  break;
										  cell_av[4-i_l][0]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[4][0+i_l]>100))
											{cell_av[4][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[4][0+i_l]!=0))
											  break;
										  cell_av[4][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[4][0-i_l]>100))
											{cell_av[4][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[4][0-i_l]!=0))
											  break;
										  cell_av[4][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][0]>0)&&(cell[4+i_l][0]<100))
											{cell_av[4+i_l][0]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][0]!=0))
											  break;
										  cell_av[4+i_l][0]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][0]>0)&&(cell[4-i_l][0]<100))
											{cell_av[4-i_l][0]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][0]!=0))
											  break;
										  cell_av[4-i_l][0]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[4][0+i_l]>0)&&(cell[4][0+i_l]<100))
											{cell_av[4][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[4][0+i_l]!=0))
											  break;
										  cell_av[4][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[4][0-i_l]>0)&&(cell[4][0-i_l]<100))
											{cell_av[4][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[4][0-i_l]!=0))
											  break;
										  cell_av[4][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(0+i_l<8)&&(cell[4+i_l][0+i_l]>100))
											{cell_av[4+i_l][0+i_l]=1;
											 var i_r=5-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(0+i_l>7)||(cell[4+i_l][0+i_l]!=0))
											  break;
										  cell_av[4+i_l][0+i_l]=1;
										  var i_r=5-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(0-i_l>=0)&&(cell[4-i_l][0-i_l]>100))
											{cell_av[4-i_l][0-i_l]=1;
											 var i_r=5-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(0-i_l<0)||(cell[4-i_l][0-i_l]!=0))
											  break;
										  cell_av[4-i_l][0-i_l]=1;
										  var i_r=5-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(0+i_l<8)&&(cell[4-i_l][0+i_l]>100))
											{cell_av[4-i_l][0+i_l]=1;
											 var i_r=5-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(0+i_l>7)||(cell[4-i_l][0+i_l]!=0))
											  break;
										  cell_av[4-i_l][0+i_l]=1;
										  var i_r=5-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(0-i_l>=0)&&(cell[4+i_l][0-i_l]>100))
											{cell_av[4+i_l][0-i_l]=1;
											 var i_r=5-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(0-i_l<0)||(cell[4+i_l][0-i_l]!=0))
											  break;
										  cell_av[4+i_l][0-i_l]=1;
										  var i_r=5-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(0+i_l<8)&&(cell[4+i_l][0+i_l]>0)&&(cell[4+i_l][0+i_l]<100))
											{cell_av[4+i_l][0+i_l]=1;
											 var i_r=5-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(0+i_l>7)||(cell[4+i_l][0+i_l]!=0))
											  break;
										  cell_av[4+i_l][0+i_l]=1;
										  var i_r=5-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(0-i_l>=0)&&(cell[4-i_l][0-i_l]>0)&&(cell[4-i_l][0-i_l]<100))
											{cell_av[4-i_l][0-i_l]=1;
											 var i_r=5-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(0-i_l<0)||(cell[4-i_l][0-i_l]!=0))
											  break;
										  cell_av[4-i_l][0-i_l]=1;
										  var i_r=5-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(0+i_l<8)&&(cell[4-i_l][0+i_l]>0)&&(cell[4-i_l][0+i_l]<100))
											{cell_av[4-i_l][0+i_l]=1;
											 var i_r=5-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(0+i_l>7)||(cell[4-i_l][0+i_l]!=0))
											  break;
										  cell_av[4-i_l][0+i_l]=1;
										  var i_r=5-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(0-i_l>=0)&&(cell[4+i_l][0-i_l]>0)&&(cell[4+i_l][0-i_l]<100))
											{cell_av[4+i_l][0-i_l]=1;
											 var i_r=5-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(0-i_l<0)||(cell[4+i_l][0-i_l]!=0))
											  break;
										  cell_av[4+i_l][0-i_l]=1;
										  var i_r=5-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(1<8)&&(cell[6][1]==0))
										  {//2 точка
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(1<8)&&(cell[6][1]*(cell[6][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2<8)&&(cell[5][2]==0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2<8)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(-2>=0)&&(cell[5][-2]==0)) 	 
										  {
										  cell_av[5][-2]=1;
										  document.getElementById('td__'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(-2>=0)&&(cell[5][-2]*(cell[5][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][-2]=1;
										  document.getElementById('td__'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(-1>=0)&&(cell[6][-1]==0)) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(-1>=0)&&(cell[6][-1]*(cell[6][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(1<8)&&(cell[2][1]==0))
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(1<8)&&(cell[2][1]*(cell[2][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2<8)&&(cell[3][2]==0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2<8)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(-2>=0)&&(cell[3][-2]==0)) 	 
										  {
										  cell_av[3][-2]=1;
										  document.getElementById('td__'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(-2>=0)&&(cell[3][-2]*(cell[3][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][-2]=1;
										  document.getElementById('td__'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(-1>=0)&&(cell[2][-1]==0)) 	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(-1>=0)&&(cell[2][-1]*(cell[2][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][-1]=1;
										  document.getElementById('td_`'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][0]==0) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][0]==0))	 
												  {
												  cell_av[2][0]=1;
												  document.getElementById('td_a'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][1]>0)&&(cell[3][1]<100)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][-1]>0)&&(cell[3][-1]<100)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_b5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][1]!=0)
								 {cur_i=4;cur_ii=1;
								 arm=cell[4][1];
								 cell[4][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][1]==0) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][1]==0))	 
											  {
											  cell_av[6][1]=1;
											  document.getElementById('td_b7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][2]>100) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][0]>100) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][1]>100))
											{cell_av[4+i_l][1]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][1]!=0))
											  break;
										  cell_av[4+i_l][1]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][1]>100))
											{cell_av[4-i_l][1]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][1]!=0))
											  break;
										  cell_av[4-i_l][1]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[4][1+i_l]>100))
											{cell_av[4][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[4][1+i_l]!=0))
											  break;
										  cell_av[4][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[4][1-i_l]>100))
											{cell_av[4][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[4][1-i_l]!=0))
											  break;
										  cell_av[4][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][1]>0)&&(cell[4+i_l][1]<100))
											{cell_av[4+i_l][1]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][1]!=0))
											  break;
										  cell_av[4+i_l][1]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][1]>0)&&(cell[4-i_l][1]<100))
											{cell_av[4-i_l][1]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][1]!=0))
											  break;
										  cell_av[4-i_l][1]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[4][1+i_l]>0)&&(cell[4][1+i_l]<100))
											{cell_av[4][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[4][1+i_l]!=0))
											  break;
										  cell_av[4][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[4][1-i_l]>0)&&(cell[4][1-i_l]<100))
											{cell_av[4][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[4][1-i_l]!=0))
											  break;
										  cell_av[4][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(1+i_l<8)&&(cell[4+i_l][1+i_l]>100))
											{cell_av[4+i_l][1+i_l]=1;
											 var i_r=5-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(1+i_l>7)||(cell[4+i_l][1+i_l]!=0))
											  break;
										  cell_av[4+i_l][1+i_l]=1;
										  var i_r=5-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(1-i_l>=0)&&(cell[4-i_l][1-i_l]>100))
											{cell_av[4-i_l][1-i_l]=1;
											 var i_r=5-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(1-i_l<0)||(cell[4-i_l][1-i_l]!=0))
											  break;
										  cell_av[4-i_l][1-i_l]=1;
										  var i_r=5-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(1+i_l<8)&&(cell[4-i_l][1+i_l]>100))
											{cell_av[4-i_l][1+i_l]=1;
											 var i_r=5-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(1+i_l>7)||(cell[4-i_l][1+i_l]!=0))
											  break;
										  cell_av[4-i_l][1+i_l]=1;
										  var i_r=5-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(1-i_l>=0)&&(cell[4+i_l][1-i_l]>100))
											{cell_av[4+i_l][1-i_l]=1;
											 var i_r=5-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(1-i_l<0)||(cell[4+i_l][1-i_l]!=0))
											  break;
										  cell_av[4+i_l][1-i_l]=1;
										  var i_r=5-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(1+i_l<8)&&(cell[4+i_l][1+i_l]>0)&&(cell[4+i_l][1+i_l]<100))
											{cell_av[4+i_l][1+i_l]=1;
											 var i_r=5-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(1+i_l>7)||(cell[4+i_l][1+i_l]!=0))
											  break;
										  cell_av[4+i_l][1+i_l]=1;
										  var i_r=5-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(1-i_l>=0)&&(cell[4-i_l][1-i_l]>0)&&(cell[4-i_l][1-i_l]<100))
											{cell_av[4-i_l][1-i_l]=1;
											 var i_r=5-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(1-i_l<0)||(cell[4-i_l][1-i_l]!=0))
											  break;
										  cell_av[4-i_l][1-i_l]=1;
										  var i_r=5-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(1+i_l<8)&&(cell[4-i_l][1+i_l]>0)&&(cell[4-i_l][1+i_l]<100))
											{cell_av[4-i_l][1+i_l]=1;
											 var i_r=5-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(1+i_l>7)||(cell[4-i_l][1+i_l]!=0))
											  break;
										  cell_av[4-i_l][1+i_l]=1;
										  var i_r=5-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(1-i_l>=0)&&(cell[4+i_l][1-i_l]>0)&&(cell[4+i_l][1-i_l]<100))
											{cell_av[4+i_l][1-i_l]=1;
											 var i_r=5-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(1-i_l<0)||(cell[4+i_l][1-i_l]!=0))
											  break;
										  cell_av[4+i_l][1-i_l]=1;
										  var i_r=5-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(2<8)&&(cell[6][2]==0))
										  {//2 точка
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2<8)&&(cell[6][2]*(cell[6][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3<8)&&(cell[5][3]==0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3<8)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(-1>=0)&&(cell[5][-1]==0)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(-1>=0)&&(cell[5][-1]*(cell[5][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(0>=0)&&(cell[6][0]==0)) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(0>=0)&&(cell[6][0]*(cell[6][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(2<8)&&(cell[2][2]==0))
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2<8)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3<8)&&(cell[3][3]==0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3<8)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(-1>=0)&&(cell[3][-1]==0)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(-1>=0)&&(cell[3][-1]*(cell[3][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(0>=0)&&(cell[2][0]==0)) 	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(0>=0)&&(cell[2][0]*(cell[2][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][0]=1;
										  document.getElementById('td_a'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][1]==0) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][1]==0))	 
												  {
												  cell_av[2][1]=1;
												  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][2]>0)&&(cell[3][2]<100)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][0]>0)&&(cell[3][0]<100)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_c5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][2]!=0)
								 {cur_i=4;cur_ii=2;
								 arm=cell[4][2];
								 cell[4][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][2]==0) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][2]==0))	 
											  {
											  cell_av[6][2]=1;
											  document.getElementById('td_c7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][3]>100) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][1]>100) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][2]>100))
											{cell_av[4+i_l][2]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][2]!=0))
											  break;
										  cell_av[4+i_l][2]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][2]>100))
											{cell_av[4-i_l][2]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][2]!=0))
											  break;
										  cell_av[4-i_l][2]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[4][2+i_l]>100))
											{cell_av[4][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[4][2+i_l]!=0))
											  break;
										  cell_av[4][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[4][2-i_l]>100))
											{cell_av[4][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[4][2-i_l]!=0))
											  break;
										  cell_av[4][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][2]>0)&&(cell[4+i_l][2]<100))
											{cell_av[4+i_l][2]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][2]!=0))
											  break;
										  cell_av[4+i_l][2]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][2]>0)&&(cell[4-i_l][2]<100))
											{cell_av[4-i_l][2]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][2]!=0))
											  break;
										  cell_av[4-i_l][2]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[4][2+i_l]>0)&&(cell[4][2+i_l]<100))
											{cell_av[4][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[4][2+i_l]!=0))
											  break;
										  cell_av[4][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[4][2-i_l]>0)&&(cell[4][2-i_l]<100))
											{cell_av[4][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[4][2-i_l]!=0))
											  break;
										  cell_av[4][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(2+i_l<8)&&(cell[4+i_l][2+i_l]>100))
											{cell_av[4+i_l][2+i_l]=1;
											 var i_r=5-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(2+i_l>7)||(cell[4+i_l][2+i_l]!=0))
											  break;
										  cell_av[4+i_l][2+i_l]=1;
										  var i_r=5-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(2-i_l>=0)&&(cell[4-i_l][2-i_l]>100))
											{cell_av[4-i_l][2-i_l]=1;
											 var i_r=5-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(2-i_l<0)||(cell[4-i_l][2-i_l]!=0))
											  break;
										  cell_av[4-i_l][2-i_l]=1;
										  var i_r=5-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(2+i_l<8)&&(cell[4-i_l][2+i_l]>100))
											{cell_av[4-i_l][2+i_l]=1;
											 var i_r=5-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(2+i_l>7)||(cell[4-i_l][2+i_l]!=0))
											  break;
										  cell_av[4-i_l][2+i_l]=1;
										  var i_r=5-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(2-i_l>=0)&&(cell[4+i_l][2-i_l]>100))
											{cell_av[4+i_l][2-i_l]=1;
											 var i_r=5-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(2-i_l<0)||(cell[4+i_l][2-i_l]!=0))
											  break;
										  cell_av[4+i_l][2-i_l]=1;
										  var i_r=5-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(2+i_l<8)&&(cell[4+i_l][2+i_l]>0)&&(cell[4+i_l][2+i_l]<100))
											{cell_av[4+i_l][2+i_l]=1;
											 var i_r=5-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(2+i_l>7)||(cell[4+i_l][2+i_l]!=0))
											  break;
										  cell_av[4+i_l][2+i_l]=1;
										  var i_r=5-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(2-i_l>=0)&&(cell[4-i_l][2-i_l]>0)&&(cell[4-i_l][2-i_l]<100))
											{cell_av[4-i_l][2-i_l]=1;
											 var i_r=5-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(2-i_l<0)||(cell[4-i_l][2-i_l]!=0))
											  break;
										  cell_av[4-i_l][2-i_l]=1;
										  var i_r=5-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(2+i_l<8)&&(cell[4-i_l][2+i_l]>0)&&(cell[4-i_l][2+i_l]<100))
											{cell_av[4-i_l][2+i_l]=1;
											 var i_r=5-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(2+i_l>7)||(cell[4-i_l][2+i_l]!=0))
											  break;
										  cell_av[4-i_l][2+i_l]=1;
										  var i_r=5-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(2-i_l>=0)&&(cell[4+i_l][2-i_l]>0)&&(cell[4+i_l][2-i_l]<100))
											{cell_av[4+i_l][2-i_l]=1;
											 var i_r=5-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(2-i_l<0)||(cell[4+i_l][2-i_l]!=0))
											  break;
										  cell_av[4+i_l][2-i_l]=1;
										  var i_r=5-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(3<8)&&(cell[6][3]==0))
										  {//2 точка
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3<8)&&(cell[6][3]*(cell[6][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4<8)&&(cell[5][4]==0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4<8)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(0>=0)&&(cell[5][0]==0)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(0>=0)&&(cell[5][0]*(cell[5][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(1>=0)&&(cell[6][1]==0)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(1>=0)&&(cell[6][1]*(cell[6][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(3<8)&&(cell[2][3]==0))
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3<8)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4<8)&&(cell[3][4]==0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4<8)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(0>=0)&&(cell[3][0]==0)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(0>=0)&&(cell[3][0]*(cell[3][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(1>=0)&&(cell[2][1]==0)) 	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(1>=0)&&(cell[2][1]*(cell[2][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][1]=1;
										  document.getElementById('td_b'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][2]==0) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][2]==0))	 
												  {
												  cell_av[2][2]=1;
												  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][3]>0)&&(cell[3][3]<100)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][1]>0)&&(cell[3][1]<100)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_d5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][3]!=0)
								 {cur_i=4;cur_ii=3;
								 arm=cell[4][3];
								 cell[4][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][3]==0) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][3]==0))	 
											  {
											  cell_av[6][3]=1;
											  document.getElementById('td_d7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][4]>100) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][2]>100) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][3]>100))
											{cell_av[4+i_l][3]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][3]!=0))
											  break;
										  cell_av[4+i_l][3]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][3]>100))
											{cell_av[4-i_l][3]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][3]!=0))
											  break;
										  cell_av[4-i_l][3]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[4][3+i_l]>100))
											{cell_av[4][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[4][3+i_l]!=0))
											  break;
										  cell_av[4][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[4][3-i_l]>100))
											{cell_av[4][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[4][3-i_l]!=0))
											  break;
										  cell_av[4][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][3]>0)&&(cell[4+i_l][3]<100))
											{cell_av[4+i_l][3]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][3]!=0))
											  break;
										  cell_av[4+i_l][3]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][3]>0)&&(cell[4-i_l][3]<100))
											{cell_av[4-i_l][3]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][3]!=0))
											  break;
										  cell_av[4-i_l][3]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[4][3+i_l]>0)&&(cell[4][3+i_l]<100))
											{cell_av[4][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[4][3+i_l]!=0))
											  break;
										  cell_av[4][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[4][3-i_l]>0)&&(cell[4][3-i_l]<100))
											{cell_av[4][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[4][3-i_l]!=0))
											  break;
										  cell_av[4][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(3+i_l<8)&&(cell[4+i_l][3+i_l]>100))
											{cell_av[4+i_l][3+i_l]=1;
											 var i_r=5-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(3+i_l>7)||(cell[4+i_l][3+i_l]!=0))
											  break;
										  cell_av[4+i_l][3+i_l]=1;
										  var i_r=5-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(3-i_l>=0)&&(cell[4-i_l][3-i_l]>100))
											{cell_av[4-i_l][3-i_l]=1;
											 var i_r=5-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(3-i_l<0)||(cell[4-i_l][3-i_l]!=0))
											  break;
										  cell_av[4-i_l][3-i_l]=1;
										  var i_r=5-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(3+i_l<8)&&(cell[4-i_l][3+i_l]>100))
											{cell_av[4-i_l][3+i_l]=1;
											 var i_r=5-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(3+i_l>7)||(cell[4-i_l][3+i_l]!=0))
											  break;
										  cell_av[4-i_l][3+i_l]=1;
										  var i_r=5-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(3-i_l>=0)&&(cell[4+i_l][3-i_l]>100))
											{cell_av[4+i_l][3-i_l]=1;
											 var i_r=5-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(3-i_l<0)||(cell[4+i_l][3-i_l]!=0))
											  break;
										  cell_av[4+i_l][3-i_l]=1;
										  var i_r=5-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(3+i_l<8)&&(cell[4+i_l][3+i_l]>0)&&(cell[4+i_l][3+i_l]<100))
											{cell_av[4+i_l][3+i_l]=1;
											 var i_r=5-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(3+i_l>7)||(cell[4+i_l][3+i_l]!=0))
											  break;
										  cell_av[4+i_l][3+i_l]=1;
										  var i_r=5-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(3-i_l>=0)&&(cell[4-i_l][3-i_l]>0)&&(cell[4-i_l][3-i_l]<100))
											{cell_av[4-i_l][3-i_l]=1;
											 var i_r=5-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(3-i_l<0)||(cell[4-i_l][3-i_l]!=0))
											  break;
										  cell_av[4-i_l][3-i_l]=1;
										  var i_r=5-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(3+i_l<8)&&(cell[4-i_l][3+i_l]>0)&&(cell[4-i_l][3+i_l]<100))
											{cell_av[4-i_l][3+i_l]=1;
											 var i_r=5-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(3+i_l>7)||(cell[4-i_l][3+i_l]!=0))
											  break;
										  cell_av[4-i_l][3+i_l]=1;
										  var i_r=5-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(3-i_l>=0)&&(cell[4+i_l][3-i_l]>0)&&(cell[4+i_l][3-i_l]<100))
											{cell_av[4+i_l][3-i_l]=1;
											 var i_r=5-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(3-i_l<0)||(cell[4+i_l][3-i_l]!=0))
											  break;
										  cell_av[4+i_l][3-i_l]=1;
										  var i_r=5-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(4<8)&&(cell[6][4]==0))
										  {//2 точка
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4<8)&&(cell[6][4]*(cell[6][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5<8)&&(cell[5][5]==0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5<8)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(1>=0)&&(cell[5][1]==0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(1>=0)&&(cell[5][1]*(cell[5][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2>=0)&&(cell[6][2]==0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2>=0)&&(cell[6][2]*(cell[6][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(4<8)&&(cell[2][4]==0))
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4<8)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5<8)&&(cell[3][5]==0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5<8)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(1>=0)&&(cell[3][1]==0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(1>=0)&&(cell[3][1]*(cell[3][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2>=0)&&(cell[2][2]==0)) 	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(2>=0)&&(cell[2][2]*(cell[2][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][2]=1;
										  document.getElementById('td_c'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][3]==0) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][3]==0))	 
												  {
												  cell_av[2][3]=1;
												  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][4]>0)&&(cell[3][4]<100)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][2]>0)&&(cell[3][2]<100)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_e5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][4]!=0)
								 {cur_i=4;cur_ii=4;
								 arm=cell[4][4];
								 cell[4][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][4]==0) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][4]==0))	 
											  {
											  cell_av[6][4]=1;
											  document.getElementById('td_e7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][5]>100) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][3]>100) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][4]>100))
											{cell_av[4+i_l][4]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][4]!=0))
											  break;
										  cell_av[4+i_l][4]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][4]>100))
											{cell_av[4-i_l][4]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][4]!=0))
											  break;
										  cell_av[4-i_l][4]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4][4+i_l]>100))
											{cell_av[4][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4][4+i_l]!=0))
											  break;
										  cell_av[4][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4][4-i_l]>100))
											{cell_av[4][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4][4-i_l]!=0))
											  break;
										  cell_av[4][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][4]>0)&&(cell[4+i_l][4]<100))
											{cell_av[4+i_l][4]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][4]!=0))
											  break;
										  cell_av[4+i_l][4]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][4]>0)&&(cell[4-i_l][4]<100))
											{cell_av[4-i_l][4]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][4]!=0))
											  break;
										  cell_av[4-i_l][4]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4][4+i_l]>0)&&(cell[4][4+i_l]<100))
											{cell_av[4][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4][4+i_l]!=0))
											  break;
										  cell_av[4][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4][4-i_l]>0)&&(cell[4][4-i_l]<100))
											{cell_av[4][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4][4-i_l]!=0))
											  break;
										  cell_av[4][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(4+i_l<8)&&(cell[4+i_l][4+i_l]>100))
											{cell_av[4+i_l][4+i_l]=1;
											 var i_r=5-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(4+i_l>7)||(cell[4+i_l][4+i_l]!=0))
											  break;
										  cell_av[4+i_l][4+i_l]=1;
										  var i_r=5-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(4-i_l>=0)&&(cell[4-i_l][4-i_l]>100))
											{cell_av[4-i_l][4-i_l]=1;
											 var i_r=5-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(4-i_l<0)||(cell[4-i_l][4-i_l]!=0))
											  break;
										  cell_av[4-i_l][4-i_l]=1;
										  var i_r=5-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(4+i_l<8)&&(cell[4-i_l][4+i_l]>100))
											{cell_av[4-i_l][4+i_l]=1;
											 var i_r=5-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(4+i_l>7)||(cell[4-i_l][4+i_l]!=0))
											  break;
										  cell_av[4-i_l][4+i_l]=1;
										  var i_r=5-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(4-i_l>=0)&&(cell[4+i_l][4-i_l]>100))
											{cell_av[4+i_l][4-i_l]=1;
											 var i_r=5-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(4-i_l<0)||(cell[4+i_l][4-i_l]!=0))
											  break;
										  cell_av[4+i_l][4-i_l]=1;
										  var i_r=5-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(4+i_l<8)&&(cell[4+i_l][4+i_l]>0)&&(cell[4+i_l][4+i_l]<100))
											{cell_av[4+i_l][4+i_l]=1;
											 var i_r=5-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(4+i_l>7)||(cell[4+i_l][4+i_l]!=0))
											  break;
										  cell_av[4+i_l][4+i_l]=1;
										  var i_r=5-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(4-i_l>=0)&&(cell[4-i_l][4-i_l]>0)&&(cell[4-i_l][4-i_l]<100))
											{cell_av[4-i_l][4-i_l]=1;
											 var i_r=5-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(4-i_l<0)||(cell[4-i_l][4-i_l]!=0))
											  break;
										  cell_av[4-i_l][4-i_l]=1;
										  var i_r=5-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(4+i_l<8)&&(cell[4-i_l][4+i_l]>0)&&(cell[4-i_l][4+i_l]<100))
											{cell_av[4-i_l][4+i_l]=1;
											 var i_r=5-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(4+i_l>7)||(cell[4-i_l][4+i_l]!=0))
											  break;
										  cell_av[4-i_l][4+i_l]=1;
										  var i_r=5-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(4-i_l>=0)&&(cell[4+i_l][4-i_l]>0)&&(cell[4+i_l][4-i_l]<100))
											{cell_av[4+i_l][4-i_l]=1;
											 var i_r=5-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(4-i_l<0)||(cell[4+i_l][4-i_l]!=0))
											  break;
										  cell_av[4+i_l][4-i_l]=1;
										  var i_r=5-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(5<8)&&(cell[6][5]==0))
										  {//2 точка
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5<8)&&(cell[6][5]*(cell[6][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(6<8)&&(cell[5][6]==0)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(6<8)&&(cell[5][6]*(cell[5][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2>=0)&&(cell[5][2]==0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(2>=0)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3>=0)&&(cell[6][3]==0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3>=0)&&(cell[6][3]*(cell[6][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(5<8)&&(cell[2][5]==0))
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5<8)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(6<8)&&(cell[3][6]==0)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(6<8)&&(cell[3][6]*(cell[3][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2>=0)&&(cell[3][2]==0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2>=0)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3>=0)&&(cell[2][3]==0)) 	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(3>=0)&&(cell[2][3]*(cell[2][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][3]=1;
										  document.getElementById('td_d'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][4]==0) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][4]==0))	 
												  {
												  cell_av[2][4]=1;
												  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][5]>0)&&(cell[3][5]<100)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][3]>0)&&(cell[3][3]<100)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_f5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][5]!=0)
								 {cur_i=4;cur_ii=5;
								 arm=cell[4][5];
								 cell[4][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][5]==0) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][5]==0))	 
											  {
											  cell_av[6][5]=1;
											  document.getElementById('td_f7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][6]>100) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][4]>100) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][5]>100))
											{cell_av[4+i_l][5]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][5]!=0))
											  break;
										  cell_av[4+i_l][5]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][5]>100))
											{cell_av[4-i_l][5]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][5]!=0))
											  break;
										  cell_av[4-i_l][5]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[4][5+i_l]>100))
											{cell_av[4][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[4][5+i_l]!=0))
											  break;
										  cell_av[4][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[4][5-i_l]>100))
											{cell_av[4][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[4][5-i_l]!=0))
											  break;
										  cell_av[4][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][5]>0)&&(cell[4+i_l][5]<100))
											{cell_av[4+i_l][5]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][5]!=0))
											  break;
										  cell_av[4+i_l][5]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][5]>0)&&(cell[4-i_l][5]<100))
											{cell_av[4-i_l][5]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][5]!=0))
											  break;
										  cell_av[4-i_l][5]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[4][5+i_l]>0)&&(cell[4][5+i_l]<100))
											{cell_av[4][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[4][5+i_l]!=0))
											  break;
										  cell_av[4][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[4][5-i_l]>0)&&(cell[4][5-i_l]<100))
											{cell_av[4][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[4][5-i_l]!=0))
											  break;
										  cell_av[4][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(5+i_l<8)&&(cell[4+i_l][5+i_l]>100))
											{cell_av[4+i_l][5+i_l]=1;
											 var i_r=5-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(5+i_l>7)||(cell[4+i_l][5+i_l]!=0))
											  break;
										  cell_av[4+i_l][5+i_l]=1;
										  var i_r=5-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(5-i_l>=0)&&(cell[4-i_l][5-i_l]>100))
											{cell_av[4-i_l][5-i_l]=1;
											 var i_r=5-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(5-i_l<0)||(cell[4-i_l][5-i_l]!=0))
											  break;
										  cell_av[4-i_l][5-i_l]=1;
										  var i_r=5-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(5+i_l<8)&&(cell[4-i_l][5+i_l]>100))
											{cell_av[4-i_l][5+i_l]=1;
											 var i_r=5-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(5+i_l>7)||(cell[4-i_l][5+i_l]!=0))
											  break;
										  cell_av[4-i_l][5+i_l]=1;
										  var i_r=5-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(5-i_l>=0)&&(cell[4+i_l][5-i_l]>100))
											{cell_av[4+i_l][5-i_l]=1;
											 var i_r=5-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(5-i_l<0)||(cell[4+i_l][5-i_l]!=0))
											  break;
										  cell_av[4+i_l][5-i_l]=1;
										  var i_r=5-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(5+i_l<8)&&(cell[4+i_l][5+i_l]>0)&&(cell[4+i_l][5+i_l]<100))
											{cell_av[4+i_l][5+i_l]=1;
											 var i_r=5-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(5+i_l>7)||(cell[4+i_l][5+i_l]!=0))
											  break;
										  cell_av[4+i_l][5+i_l]=1;
										  var i_r=5-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(5-i_l>=0)&&(cell[4-i_l][5-i_l]>0)&&(cell[4-i_l][5-i_l]<100))
											{cell_av[4-i_l][5-i_l]=1;
											 var i_r=5-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(5-i_l<0)||(cell[4-i_l][5-i_l]!=0))
											  break;
										  cell_av[4-i_l][5-i_l]=1;
										  var i_r=5-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(5+i_l<8)&&(cell[4-i_l][5+i_l]>0)&&(cell[4-i_l][5+i_l]<100))
											{cell_av[4-i_l][5+i_l]=1;
											 var i_r=5-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(5+i_l>7)||(cell[4-i_l][5+i_l]!=0))
											  break;
										  cell_av[4-i_l][5+i_l]=1;
										  var i_r=5-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(5-i_l>=0)&&(cell[4+i_l][5-i_l]>0)&&(cell[4+i_l][5-i_l]<100))
											{cell_av[4+i_l][5-i_l]=1;
											 var i_r=5-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(5-i_l<0)||(cell[4+i_l][5-i_l]!=0))
											  break;
										  cell_av[4+i_l][5-i_l]=1;
										  var i_r=5-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(6<8)&&(cell[6][6]==0))
										  {//2 точка
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(6<8)&&(cell[6][6]*(cell[6][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(7<8)&&(cell[5][7]==0)) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(7<8)&&(cell[5][7]*(cell[5][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3>=0)&&(cell[5][3]==0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(3>=0)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4>=0)&&(cell[6][4]==0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4>=0)&&(cell[6][4]*(cell[6][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(6<8)&&(cell[2][6]==0))
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(6<8)&&(cell[2][6]*(cell[2][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(7<8)&&(cell[3][7]==0)) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(7<8)&&(cell[3][7]*(cell[3][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3>=0)&&(cell[3][3]==0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3>=0)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4>=0)&&(cell[2][4]==0)) 	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(4>=0)&&(cell[2][4]*(cell[2][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][4]=1;
										  document.getElementById('td_e'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][5]==0) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][5]==0))	 
												  {
												  cell_av[2][5]=1;
												  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][6]>0)&&(cell[3][6]<100)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][4]>0)&&(cell[3][4]<100)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_g5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][6]!=0)
								 {cur_i=4;cur_ii=6;
								 arm=cell[4][6];
								 cell[4][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][6]==0) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][6]==0))	 
											  {
											  cell_av[6][6]=1;
											  document.getElementById('td_g7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][7]>100) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][5]>100) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][6]>100))
											{cell_av[4+i_l][6]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][6]!=0))
											  break;
										  cell_av[4+i_l][6]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][6]>100))
											{cell_av[4-i_l][6]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][6]!=0))
											  break;
										  cell_av[4-i_l][6]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[4][6+i_l]>100))
											{cell_av[4][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[4][6+i_l]!=0))
											  break;
										  cell_av[4][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[4][6-i_l]>100))
											{cell_av[4][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[4][6-i_l]!=0))
											  break;
										  cell_av[4][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][6]>0)&&(cell[4+i_l][6]<100))
											{cell_av[4+i_l][6]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][6]!=0))
											  break;
										  cell_av[4+i_l][6]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][6]>0)&&(cell[4-i_l][6]<100))
											{cell_av[4-i_l][6]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][6]!=0))
											  break;
										  cell_av[4-i_l][6]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[4][6+i_l]>0)&&(cell[4][6+i_l]<100))
											{cell_av[4][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[4][6+i_l]!=0))
											  break;
										  cell_av[4][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[4][6-i_l]>0)&&(cell[4][6-i_l]<100))
											{cell_av[4][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[4][6-i_l]!=0))
											  break;
										  cell_av[4][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(6+i_l<8)&&(cell[4+i_l][6+i_l]>100))
											{cell_av[4+i_l][6+i_l]=1;
											 var i_r=5-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(6+i_l>7)||(cell[4+i_l][6+i_l]!=0))
											  break;
										  cell_av[4+i_l][6+i_l]=1;
										  var i_r=5-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(6-i_l>=0)&&(cell[4-i_l][6-i_l]>100))
											{cell_av[4-i_l][6-i_l]=1;
											 var i_r=5-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(6-i_l<0)||(cell[4-i_l][6-i_l]!=0))
											  break;
										  cell_av[4-i_l][6-i_l]=1;
										  var i_r=5-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(6+i_l<8)&&(cell[4-i_l][6+i_l]>100))
											{cell_av[4-i_l][6+i_l]=1;
											 var i_r=5-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(6+i_l>7)||(cell[4-i_l][6+i_l]!=0))
											  break;
										  cell_av[4-i_l][6+i_l]=1;
										  var i_r=5-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(6-i_l>=0)&&(cell[4+i_l][6-i_l]>100))
											{cell_av[4+i_l][6-i_l]=1;
											 var i_r=5-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(6-i_l<0)||(cell[4+i_l][6-i_l]!=0))
											  break;
										  cell_av[4+i_l][6-i_l]=1;
										  var i_r=5-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(6+i_l<8)&&(cell[4+i_l][6+i_l]>0)&&(cell[4+i_l][6+i_l]<100))
											{cell_av[4+i_l][6+i_l]=1;
											 var i_r=5-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(6+i_l>7)||(cell[4+i_l][6+i_l]!=0))
											  break;
										  cell_av[4+i_l][6+i_l]=1;
										  var i_r=5-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(6-i_l>=0)&&(cell[4-i_l][6-i_l]>0)&&(cell[4-i_l][6-i_l]<100))
											{cell_av[4-i_l][6-i_l]=1;
											 var i_r=5-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(6-i_l<0)||(cell[4-i_l][6-i_l]!=0))
											  break;
										  cell_av[4-i_l][6-i_l]=1;
										  var i_r=5-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(6+i_l<8)&&(cell[4-i_l][6+i_l]>0)&&(cell[4-i_l][6+i_l]<100))
											{cell_av[4-i_l][6+i_l]=1;
											 var i_r=5-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(6+i_l>7)||(cell[4-i_l][6+i_l]!=0))
											  break;
										  cell_av[4-i_l][6+i_l]=1;
										  var i_r=5-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(6-i_l>=0)&&(cell[4+i_l][6-i_l]>0)&&(cell[4+i_l][6-i_l]<100))
											{cell_av[4+i_l][6-i_l]=1;
											 var i_r=5-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(6-i_l<0)||(cell[4+i_l][6-i_l]!=0))
											  break;
										  cell_av[4+i_l][6-i_l]=1;
										  var i_r=5-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(7<8)&&(cell[6][7]==0))
										  {//2 точка
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(7<8)&&(cell[6][7]*(cell[6][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(8<8)&&(cell[5][8]==0)) 	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(8<8)&&(cell[5][8]*(cell[5][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4>=0)&&(cell[5][4]==0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(4>=0)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5>=0)&&(cell[6][5]==0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5>=0)&&(cell[6][5]*(cell[6][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(7<8)&&(cell[2][7]==0))
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(7<8)&&(cell[2][7]*(cell[2][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][7]=1;
										  document.getElementById('td_h'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(8<8)&&(cell[3][8]==0)) 	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(8<8)&&(cell[3][8]*(cell[3][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4>=0)&&(cell[3][4]==0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4>=0)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5>=0)&&(cell[2][5]==0)) 	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(5>=0)&&(cell[2][5]*(cell[2][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][5]=1;
										  document.getElementById('td_f'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][6]==0) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][6]==0))	 
												  {
												  cell_av[2][6]=1;
												  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][7]>0)&&(cell[3][7]<100)) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][5]>0)&&(cell[3][5]<100)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_h5 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[4][7]!=0)
								 {cur_i=4;cur_ii=7;
								 arm=cell[4][7];
								 cell[4][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[5][7]==0) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==2)&&(cell[6][7]==0))	 
											  {
											  cell_av[6][7]=1;
											  document.getElementById('td_h7').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[5][8]>100) 	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[5][6]>100) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][7]>100))
											{cell_av[4+i_l][7]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][7]!=0))
											  break;
										  cell_av[4+i_l][7]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][7]>100))
											{cell_av[4-i_l][7]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][7]!=0))
											  break;
										  cell_av[4-i_l][7]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[4][7+i_l]>100))
											{cell_av[4][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[4][7+i_l]!=0))
											  break;
										  cell_av[4][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[4][7-i_l]>100))
											{cell_av[4][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[4][7-i_l]!=0))
											  break;
										  cell_av[4][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[4+i_l][7]>0)&&(cell[4+i_l][7]<100))
											{cell_av[4+i_l][7]=1;
											 var i_r=5-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[4+i_l][7]!=0))
											  break;
										  cell_av[4+i_l][7]=1;
										  var i_r=5-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[4-i_l][7]>0)&&(cell[4-i_l][7]<100))
											{cell_av[4-i_l][7]=1;
											 var i_r=5-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[4-i_l][7]!=0))
											  break;
										  cell_av[4-i_l][7]=1;
										  var i_r=5-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[4][7+i_l]>0)&&(cell[4][7+i_l]<100))
											{cell_av[4][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[4][7+i_l]!=0))
											  break;
										  cell_av[4][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[4][7-i_l]>0)&&(cell[4][7-i_l]<100))
											{cell_av[4][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[4][7-i_l]!=0))
											  break;
										  cell_av[4][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(7+i_l<8)&&(cell[4+i_l][7+i_l]>100))
											{cell_av[4+i_l][7+i_l]=1;
											 var i_r=5-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(7+i_l>7)||(cell[4+i_l][7+i_l]!=0))
											  break;
										  cell_av[4+i_l][7+i_l]=1;
										  var i_r=5-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(7-i_l>=0)&&(cell[4-i_l][7-i_l]>100))
											{cell_av[4-i_l][7-i_l]=1;
											 var i_r=5-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(7-i_l<0)||(cell[4-i_l][7-i_l]!=0))
											  break;
										  cell_av[4-i_l][7-i_l]=1;
										  var i_r=5-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(7+i_l<8)&&(cell[4-i_l][7+i_l]>100))
											{cell_av[4-i_l][7+i_l]=1;
											 var i_r=5-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(7+i_l>7)||(cell[4-i_l][7+i_l]!=0))
											  break;
										  cell_av[4-i_l][7+i_l]=1;
										  var i_r=5-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(7-i_l>=0)&&(cell[4+i_l][7-i_l]>100))
											{cell_av[4+i_l][7-i_l]=1;
											 var i_r=5-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(7-i_l<0)||(cell[4+i_l][7-i_l]!=0))
											  break;
										  cell_av[4+i_l][7-i_l]=1;
										  var i_r=5-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(7+i_l<8)&&(cell[4+i_l][7+i_l]>0)&&(cell[4+i_l][7+i_l]<100))
											{cell_av[4+i_l][7+i_l]=1;
											 var i_r=5-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(7+i_l>7)||(cell[4+i_l][7+i_l]!=0))
											  break;
										  cell_av[4+i_l][7+i_l]=1;
										  var i_r=5-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(7-i_l>=0)&&(cell[4-i_l][7-i_l]>0)&&(cell[4-i_l][7-i_l]<100))
											{cell_av[4-i_l][7-i_l]=1;
											 var i_r=5-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(7-i_l<0)||(cell[4-i_l][7-i_l]!=0))
											  break;
										  cell_av[4-i_l][7-i_l]=1;
										  var i_r=5-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(7+i_l<8)&&(cell[4-i_l][7+i_l]>0)&&(cell[4-i_l][7+i_l]<100))
											{cell_av[4-i_l][7+i_l]=1;
											 var i_r=5-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(7+i_l>7)||(cell[4-i_l][7+i_l]!=0))
											  break;
										  cell_av[4-i_l][7+i_l]=1;
										  var i_r=5-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(7-i_l>=0)&&(cell[4+i_l][7-i_l]>0)&&(cell[4+i_l][7-i_l]<100))
											{cell_av[4+i_l][7-i_l]=1;
											 var i_r=5-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(7-i_l<0)||(cell[4+i_l][7-i_l]!=0))
											  break;
										  cell_av[4+i_l][7-i_l]=1;
										  var i_r=5-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((6<8)&&(8<8)&&(cell[6][8]==0))
										  {//2 точка
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(8<8)&&(cell[6][8]*(cell[6][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(9<8)&&(cell[5][9]==0)) 	 
										  {
										  cell_av[5][9]=1;
										  document.getElementById('td_j'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(9<8)&&(cell[5][9]*(cell[5][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][9]=1;
										  document.getElementById('td_j'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5>=0)&&(cell[5][5]==0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5<8)&&(5>=0)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(6>=0)&&(cell[6][6]==0)) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(6>=0)&&(cell[6][6]*(cell[6][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((2>=0)&&(8<8)&&(cell[2][8]==0))
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(8<8)&&(cell[2][8]*(cell[2][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[2][8]=1;
										  document.getElementById('td_i'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(9<8)&&(cell[3][9]==0)) 	 
										  {
										  cell_av[3][9]=1;
										  document.getElementById('td_j'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(9<8)&&(cell[3][9]*(cell[3][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][9]=1;
										  document.getElementById('td_j'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5>=0)&&(cell[3][5]==0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5>=0)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(6>=0)&&(cell[2][6]==0)) 	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((2>=0)&&(6>=0)&&(cell[2][6]*(cell[2][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[2][6]=1;
										  document.getElementById('td_g'+'3').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[3][7]==0) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((5==7)&&(cell[2][7]==0))	 
												  {
												  cell_av[2][7]=1;
												  document.getElementById('td_h'+'3').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[3][8]>0)&&(cell[3][8]<100)) 	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[3][6]>0)&&(cell[3][6]<100)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[4][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[4][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[4][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[4][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[4][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(5==8))arm=4;
										if((arm==111)&&(5==1))arm=104;
										cell[4][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+5;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[4][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[4][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_i5 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>5</h3></td></tr><tr><td id=td_`6 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>6</h3></td><td id=td_a6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][0]!=0)
								 {cur_i=5;cur_ii=0;
								 arm=cell[5][0];
								 cell[5][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][0]==0) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][0]==0))	 
											  {
											  cell_av[7][0]=1;
											  document.getElementById('td_a8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][1]>100) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][-1]>100) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][0]>100))
											{cell_av[5+i_l][0]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][0]!=0))
											  break;
										  cell_av[5+i_l][0]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][0]>100))
											{cell_av[5-i_l][0]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][0]!=0))
											  break;
										  cell_av[5-i_l][0]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[5][0+i_l]>100))
											{cell_av[5][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[5][0+i_l]!=0))
											  break;
										  cell_av[5][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[5][0-i_l]>100))
											{cell_av[5][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[5][0-i_l]!=0))
											  break;
										  cell_av[5][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][0]>0)&&(cell[5+i_l][0]<100))
											{cell_av[5+i_l][0]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][0]!=0))
											  break;
										  cell_av[5+i_l][0]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][0]>0)&&(cell[5-i_l][0]<100))
											{cell_av[5-i_l][0]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][0]!=0))
											  break;
										  cell_av[5-i_l][0]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[5][0+i_l]>0)&&(cell[5][0+i_l]<100))
											{cell_av[5][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[5][0+i_l]!=0))
											  break;
										  cell_av[5][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[5][0-i_l]>0)&&(cell[5][0-i_l]<100))
											{cell_av[5][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[5][0-i_l]!=0))
											  break;
										  cell_av[5][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(0+i_l<8)&&(cell[5+i_l][0+i_l]>100))
											{cell_av[5+i_l][0+i_l]=1;
											 var i_r=6-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(0+i_l>7)||(cell[5+i_l][0+i_l]!=0))
											  break;
										  cell_av[5+i_l][0+i_l]=1;
										  var i_r=6-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(0-i_l>=0)&&(cell[5-i_l][0-i_l]>100))
											{cell_av[5-i_l][0-i_l]=1;
											 var i_r=6-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(0-i_l<0)||(cell[5-i_l][0-i_l]!=0))
											  break;
										  cell_av[5-i_l][0-i_l]=1;
										  var i_r=6-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(0+i_l<8)&&(cell[5-i_l][0+i_l]>100))
											{cell_av[5-i_l][0+i_l]=1;
											 var i_r=6-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(0+i_l>7)||(cell[5-i_l][0+i_l]!=0))
											  break;
										  cell_av[5-i_l][0+i_l]=1;
										  var i_r=6-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(0-i_l>=0)&&(cell[5+i_l][0-i_l]>100))
											{cell_av[5+i_l][0-i_l]=1;
											 var i_r=6-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(0-i_l<0)||(cell[5+i_l][0-i_l]!=0))
											  break;
										  cell_av[5+i_l][0-i_l]=1;
										  var i_r=6-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(0+i_l<8)&&(cell[5+i_l][0+i_l]>0)&&(cell[5+i_l][0+i_l]<100))
											{cell_av[5+i_l][0+i_l]=1;
											 var i_r=6-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(0+i_l>7)||(cell[5+i_l][0+i_l]!=0))
											  break;
										  cell_av[5+i_l][0+i_l]=1;
										  var i_r=6-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(0-i_l>=0)&&(cell[5-i_l][0-i_l]>0)&&(cell[5-i_l][0-i_l]<100))
											{cell_av[5-i_l][0-i_l]=1;
											 var i_r=6-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(0-i_l<0)||(cell[5-i_l][0-i_l]!=0))
											  break;
										  cell_av[5-i_l][0-i_l]=1;
										  var i_r=6-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(0+i_l<8)&&(cell[5-i_l][0+i_l]>0)&&(cell[5-i_l][0+i_l]<100))
											{cell_av[5-i_l][0+i_l]=1;
											 var i_r=6-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(0+i_l>7)||(cell[5-i_l][0+i_l]!=0))
											  break;
										  cell_av[5-i_l][0+i_l]=1;
										  var i_r=6-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(0-i_l>=0)&&(cell[5+i_l][0-i_l]>0)&&(cell[5+i_l][0-i_l]<100))
											{cell_av[5+i_l][0-i_l]=1;
											 var i_r=6-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(0-i_l<0)||(cell[5+i_l][0-i_l]!=0))
											  break;
										  cell_av[5+i_l][0-i_l]=1;
										  var i_r=6-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(1<8)&&(cell[7][1]==0))
										  {//2 точка
										  cell_av[7][1]=1;
										  document.getElementById('td_b'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(1<8)&&(cell[7][1]*(cell[7][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2<8)&&(cell[6][2]==0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2<8)&&(cell[6][2]*(cell[6][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(-2>=0)&&(cell[6][-2]==0)) 	 
										  {
										  cell_av[6][-2]=1;
										  document.getElementById('td__'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(-2>=0)&&(cell[6][-2]*(cell[6][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][-2]=1;
										  document.getElementById('td__'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(-1>=0)&&(cell[7][-1]==0)) 	 
										  {
										  cell_av[7][-1]=1;
										  document.getElementById('td_`'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(-1>=0)&&(cell[7][-1]*(cell[7][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][-1]=1;
										  document.getElementById('td_`'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(1<8)&&(cell[3][1]==0))
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(1<8)&&(cell[3][1]*(cell[3][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2<8)&&(cell[4][2]==0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2<8)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(-2>=0)&&(cell[4][-2]==0)) 	 
										  {
										  cell_av[4][-2]=1;
										  document.getElementById('td__'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(-2>=0)&&(cell[4][-2]*(cell[4][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][-2]=1;
										  document.getElementById('td__'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(-1>=0)&&(cell[3][-1]==0)) 	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(-1>=0)&&(cell[3][-1]*(cell[3][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][-1]=1;
										  document.getElementById('td_`'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][0]==0) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][0]==0))	 
												  {
												  cell_av[3][0]=1;
												  document.getElementById('td_a'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][1]>0)&&(cell[4][1]<100)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][-1]>0)&&(cell[4][-1]<100)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_b6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][1]!=0)
								 {cur_i=5;cur_ii=1;
								 arm=cell[5][1];
								 cell[5][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][1]==0) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][1]==0))	 
											  {
											  cell_av[7][1]=1;
											  document.getElementById('td_b8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][2]>100) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][0]>100) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][1]>100))
											{cell_av[5+i_l][1]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][1]!=0))
											  break;
										  cell_av[5+i_l][1]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][1]>100))
											{cell_av[5-i_l][1]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][1]!=0))
											  break;
										  cell_av[5-i_l][1]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[5][1+i_l]>100))
											{cell_av[5][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[5][1+i_l]!=0))
											  break;
										  cell_av[5][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[5][1-i_l]>100))
											{cell_av[5][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[5][1-i_l]!=0))
											  break;
										  cell_av[5][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][1]>0)&&(cell[5+i_l][1]<100))
											{cell_av[5+i_l][1]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][1]!=0))
											  break;
										  cell_av[5+i_l][1]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][1]>0)&&(cell[5-i_l][1]<100))
											{cell_av[5-i_l][1]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][1]!=0))
											  break;
										  cell_av[5-i_l][1]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[5][1+i_l]>0)&&(cell[5][1+i_l]<100))
											{cell_av[5][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[5][1+i_l]!=0))
											  break;
										  cell_av[5][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[5][1-i_l]>0)&&(cell[5][1-i_l]<100))
											{cell_av[5][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[5][1-i_l]!=0))
											  break;
										  cell_av[5][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(1+i_l<8)&&(cell[5+i_l][1+i_l]>100))
											{cell_av[5+i_l][1+i_l]=1;
											 var i_r=6-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(1+i_l>7)||(cell[5+i_l][1+i_l]!=0))
											  break;
										  cell_av[5+i_l][1+i_l]=1;
										  var i_r=6-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(1-i_l>=0)&&(cell[5-i_l][1-i_l]>100))
											{cell_av[5-i_l][1-i_l]=1;
											 var i_r=6-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(1-i_l<0)||(cell[5-i_l][1-i_l]!=0))
											  break;
										  cell_av[5-i_l][1-i_l]=1;
										  var i_r=6-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(1+i_l<8)&&(cell[5-i_l][1+i_l]>100))
											{cell_av[5-i_l][1+i_l]=1;
											 var i_r=6-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(1+i_l>7)||(cell[5-i_l][1+i_l]!=0))
											  break;
										  cell_av[5-i_l][1+i_l]=1;
										  var i_r=6-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(1-i_l>=0)&&(cell[5+i_l][1-i_l]>100))
											{cell_av[5+i_l][1-i_l]=1;
											 var i_r=6-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(1-i_l<0)||(cell[5+i_l][1-i_l]!=0))
											  break;
										  cell_av[5+i_l][1-i_l]=1;
										  var i_r=6-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(1+i_l<8)&&(cell[5+i_l][1+i_l]>0)&&(cell[5+i_l][1+i_l]<100))
											{cell_av[5+i_l][1+i_l]=1;
											 var i_r=6-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(1+i_l>7)||(cell[5+i_l][1+i_l]!=0))
											  break;
										  cell_av[5+i_l][1+i_l]=1;
										  var i_r=6-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(1-i_l>=0)&&(cell[5-i_l][1-i_l]>0)&&(cell[5-i_l][1-i_l]<100))
											{cell_av[5-i_l][1-i_l]=1;
											 var i_r=6-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(1-i_l<0)||(cell[5-i_l][1-i_l]!=0))
											  break;
										  cell_av[5-i_l][1-i_l]=1;
										  var i_r=6-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(1+i_l<8)&&(cell[5-i_l][1+i_l]>0)&&(cell[5-i_l][1+i_l]<100))
											{cell_av[5-i_l][1+i_l]=1;
											 var i_r=6-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(1+i_l>7)||(cell[5-i_l][1+i_l]!=0))
											  break;
										  cell_av[5-i_l][1+i_l]=1;
										  var i_r=6-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(1-i_l>=0)&&(cell[5+i_l][1-i_l]>0)&&(cell[5+i_l][1-i_l]<100))
											{cell_av[5+i_l][1-i_l]=1;
											 var i_r=6-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(1-i_l<0)||(cell[5+i_l][1-i_l]!=0))
											  break;
										  cell_av[5+i_l][1-i_l]=1;
										  var i_r=6-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(2<8)&&(cell[7][2]==0))
										  {//2 точка
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2<8)&&(cell[7][2]*(cell[7][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3<8)&&(cell[6][3]==0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3<8)&&(cell[6][3]*(cell[6][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(-1>=0)&&(cell[6][-1]==0)) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(-1>=0)&&(cell[6][-1]*(cell[6][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(0>=0)&&(cell[7][0]==0)) 	 
										  {
										  cell_av[7][0]=1;
										  document.getElementById('td_a'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(0>=0)&&(cell[7][0]*(cell[7][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][0]=1;
										  document.getElementById('td_a'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(2<8)&&(cell[3][2]==0))
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2<8)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3<8)&&(cell[4][3]==0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3<8)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(-1>=0)&&(cell[4][-1]==0)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(-1>=0)&&(cell[4][-1]*(cell[4][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(0>=0)&&(cell[3][0]==0)) 	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(0>=0)&&(cell[3][0]*(cell[3][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][0]=1;
										  document.getElementById('td_a'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][1]==0) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][1]==0))	 
												  {
												  cell_av[3][1]=1;
												  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][2]>0)&&(cell[4][2]<100)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][0]>0)&&(cell[4][0]<100)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_c6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][2]!=0)
								 {cur_i=5;cur_ii=2;
								 arm=cell[5][2];
								 cell[5][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][2]==0) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][2]==0))	 
											  {
											  cell_av[7][2]=1;
											  document.getElementById('td_c8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][3]>100) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][1]>100) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][2]>100))
											{cell_av[5+i_l][2]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][2]!=0))
											  break;
										  cell_av[5+i_l][2]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][2]>100))
											{cell_av[5-i_l][2]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][2]!=0))
											  break;
										  cell_av[5-i_l][2]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[5][2+i_l]>100))
											{cell_av[5][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[5][2+i_l]!=0))
											  break;
										  cell_av[5][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[5][2-i_l]>100))
											{cell_av[5][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[5][2-i_l]!=0))
											  break;
										  cell_av[5][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][2]>0)&&(cell[5+i_l][2]<100))
											{cell_av[5+i_l][2]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][2]!=0))
											  break;
										  cell_av[5+i_l][2]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][2]>0)&&(cell[5-i_l][2]<100))
											{cell_av[5-i_l][2]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][2]!=0))
											  break;
										  cell_av[5-i_l][2]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[5][2+i_l]>0)&&(cell[5][2+i_l]<100))
											{cell_av[5][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[5][2+i_l]!=0))
											  break;
										  cell_av[5][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[5][2-i_l]>0)&&(cell[5][2-i_l]<100))
											{cell_av[5][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[5][2-i_l]!=0))
											  break;
										  cell_av[5][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(2+i_l<8)&&(cell[5+i_l][2+i_l]>100))
											{cell_av[5+i_l][2+i_l]=1;
											 var i_r=6-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(2+i_l>7)||(cell[5+i_l][2+i_l]!=0))
											  break;
										  cell_av[5+i_l][2+i_l]=1;
										  var i_r=6-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(2-i_l>=0)&&(cell[5-i_l][2-i_l]>100))
											{cell_av[5-i_l][2-i_l]=1;
											 var i_r=6-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(2-i_l<0)||(cell[5-i_l][2-i_l]!=0))
											  break;
										  cell_av[5-i_l][2-i_l]=1;
										  var i_r=6-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(2+i_l<8)&&(cell[5-i_l][2+i_l]>100))
											{cell_av[5-i_l][2+i_l]=1;
											 var i_r=6-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(2+i_l>7)||(cell[5-i_l][2+i_l]!=0))
											  break;
										  cell_av[5-i_l][2+i_l]=1;
										  var i_r=6-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(2-i_l>=0)&&(cell[5+i_l][2-i_l]>100))
											{cell_av[5+i_l][2-i_l]=1;
											 var i_r=6-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(2-i_l<0)||(cell[5+i_l][2-i_l]!=0))
											  break;
										  cell_av[5+i_l][2-i_l]=1;
										  var i_r=6-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(2+i_l<8)&&(cell[5+i_l][2+i_l]>0)&&(cell[5+i_l][2+i_l]<100))
											{cell_av[5+i_l][2+i_l]=1;
											 var i_r=6-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(2+i_l>7)||(cell[5+i_l][2+i_l]!=0))
											  break;
										  cell_av[5+i_l][2+i_l]=1;
										  var i_r=6-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(2-i_l>=0)&&(cell[5-i_l][2-i_l]>0)&&(cell[5-i_l][2-i_l]<100))
											{cell_av[5-i_l][2-i_l]=1;
											 var i_r=6-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(2-i_l<0)||(cell[5-i_l][2-i_l]!=0))
											  break;
										  cell_av[5-i_l][2-i_l]=1;
										  var i_r=6-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(2+i_l<8)&&(cell[5-i_l][2+i_l]>0)&&(cell[5-i_l][2+i_l]<100))
											{cell_av[5-i_l][2+i_l]=1;
											 var i_r=6-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(2+i_l>7)||(cell[5-i_l][2+i_l]!=0))
											  break;
										  cell_av[5-i_l][2+i_l]=1;
										  var i_r=6-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(2-i_l>=0)&&(cell[5+i_l][2-i_l]>0)&&(cell[5+i_l][2-i_l]<100))
											{cell_av[5+i_l][2-i_l]=1;
											 var i_r=6-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(2-i_l<0)||(cell[5+i_l][2-i_l]!=0))
											  break;
										  cell_av[5+i_l][2-i_l]=1;
										  var i_r=6-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(3<8)&&(cell[7][3]==0))
										  {//2 точка
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3<8)&&(cell[7][3]*(cell[7][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4<8)&&(cell[6][4]==0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4<8)&&(cell[6][4]*(cell[6][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(0>=0)&&(cell[6][0]==0)) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(0>=0)&&(cell[6][0]*(cell[6][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(1>=0)&&(cell[7][1]==0)) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(1>=0)&&(cell[7][1]*(cell[7][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(3<8)&&(cell[3][3]==0))
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3<8)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4<8)&&(cell[4][4]==0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4<8)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(0>=0)&&(cell[4][0]==0)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(0>=0)&&(cell[4][0]*(cell[4][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(1>=0)&&(cell[3][1]==0)) 	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(1>=0)&&(cell[3][1]*(cell[3][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][1]=1;
										  document.getElementById('td_b'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][2]==0) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][2]==0))	 
												  {
												  cell_av[3][2]=1;
												  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][3]>0)&&(cell[4][3]<100)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][1]>0)&&(cell[4][1]<100)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_d6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][3]!=0)
								 {cur_i=5;cur_ii=3;
								 arm=cell[5][3];
								 cell[5][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][3]==0) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][3]==0))	 
											  {
											  cell_av[7][3]=1;
											  document.getElementById('td_d8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][4]>100) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][2]>100) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][3]>100))
											{cell_av[5+i_l][3]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][3]!=0))
											  break;
										  cell_av[5+i_l][3]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][3]>100))
											{cell_av[5-i_l][3]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][3]!=0))
											  break;
										  cell_av[5-i_l][3]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[5][3+i_l]>100))
											{cell_av[5][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[5][3+i_l]!=0))
											  break;
										  cell_av[5][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[5][3-i_l]>100))
											{cell_av[5][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[5][3-i_l]!=0))
											  break;
										  cell_av[5][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][3]>0)&&(cell[5+i_l][3]<100))
											{cell_av[5+i_l][3]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][3]!=0))
											  break;
										  cell_av[5+i_l][3]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][3]>0)&&(cell[5-i_l][3]<100))
											{cell_av[5-i_l][3]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][3]!=0))
											  break;
										  cell_av[5-i_l][3]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[5][3+i_l]>0)&&(cell[5][3+i_l]<100))
											{cell_av[5][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[5][3+i_l]!=0))
											  break;
										  cell_av[5][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[5][3-i_l]>0)&&(cell[5][3-i_l]<100))
											{cell_av[5][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[5][3-i_l]!=0))
											  break;
										  cell_av[5][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(3+i_l<8)&&(cell[5+i_l][3+i_l]>100))
											{cell_av[5+i_l][3+i_l]=1;
											 var i_r=6-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(3+i_l>7)||(cell[5+i_l][3+i_l]!=0))
											  break;
										  cell_av[5+i_l][3+i_l]=1;
										  var i_r=6-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(3-i_l>=0)&&(cell[5-i_l][3-i_l]>100))
											{cell_av[5-i_l][3-i_l]=1;
											 var i_r=6-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(3-i_l<0)||(cell[5-i_l][3-i_l]!=0))
											  break;
										  cell_av[5-i_l][3-i_l]=1;
										  var i_r=6-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(3+i_l<8)&&(cell[5-i_l][3+i_l]>100))
											{cell_av[5-i_l][3+i_l]=1;
											 var i_r=6-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(3+i_l>7)||(cell[5-i_l][3+i_l]!=0))
											  break;
										  cell_av[5-i_l][3+i_l]=1;
										  var i_r=6-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(3-i_l>=0)&&(cell[5+i_l][3-i_l]>100))
											{cell_av[5+i_l][3-i_l]=1;
											 var i_r=6-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(3-i_l<0)||(cell[5+i_l][3-i_l]!=0))
											  break;
										  cell_av[5+i_l][3-i_l]=1;
										  var i_r=6-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(3+i_l<8)&&(cell[5+i_l][3+i_l]>0)&&(cell[5+i_l][3+i_l]<100))
											{cell_av[5+i_l][3+i_l]=1;
											 var i_r=6-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(3+i_l>7)||(cell[5+i_l][3+i_l]!=0))
											  break;
										  cell_av[5+i_l][3+i_l]=1;
										  var i_r=6-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(3-i_l>=0)&&(cell[5-i_l][3-i_l]>0)&&(cell[5-i_l][3-i_l]<100))
											{cell_av[5-i_l][3-i_l]=1;
											 var i_r=6-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(3-i_l<0)||(cell[5-i_l][3-i_l]!=0))
											  break;
										  cell_av[5-i_l][3-i_l]=1;
										  var i_r=6-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(3+i_l<8)&&(cell[5-i_l][3+i_l]>0)&&(cell[5-i_l][3+i_l]<100))
											{cell_av[5-i_l][3+i_l]=1;
											 var i_r=6-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(3+i_l>7)||(cell[5-i_l][3+i_l]!=0))
											  break;
										  cell_av[5-i_l][3+i_l]=1;
										  var i_r=6-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(3-i_l>=0)&&(cell[5+i_l][3-i_l]>0)&&(cell[5+i_l][3-i_l]<100))
											{cell_av[5+i_l][3-i_l]=1;
											 var i_r=6-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(3-i_l<0)||(cell[5+i_l][3-i_l]!=0))
											  break;
										  cell_av[5+i_l][3-i_l]=1;
										  var i_r=6-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(4<8)&&(cell[7][4]==0))
										  {//2 точка
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4<8)&&(cell[7][4]*(cell[7][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5<8)&&(cell[6][5]==0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5<8)&&(cell[6][5]*(cell[6][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(1>=0)&&(cell[6][1]==0)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(1>=0)&&(cell[6][1]*(cell[6][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2>=0)&&(cell[7][2]==0)) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2>=0)&&(cell[7][2]*(cell[7][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(4<8)&&(cell[3][4]==0))
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4<8)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5<8)&&(cell[4][5]==0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5<8)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(1>=0)&&(cell[4][1]==0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(1>=0)&&(cell[4][1]*(cell[4][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2>=0)&&(cell[3][2]==0)) 	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(2>=0)&&(cell[3][2]*(cell[3][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][2]=1;
										  document.getElementById('td_c'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][3]==0) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][3]==0))	 
												  {
												  cell_av[3][3]=1;
												  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][4]>0)&&(cell[4][4]<100)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][2]>0)&&(cell[4][2]<100)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_e6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][4]!=0)
								 {cur_i=5;cur_ii=4;
								 arm=cell[5][4];
								 cell[5][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][4]==0) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][4]==0))	 
											  {
											  cell_av[7][4]=1;
											  document.getElementById('td_e8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][5]>100) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][3]>100) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][4]>100))
											{cell_av[5+i_l][4]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][4]!=0))
											  break;
										  cell_av[5+i_l][4]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][4]>100))
											{cell_av[5-i_l][4]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][4]!=0))
											  break;
										  cell_av[5-i_l][4]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[5][4+i_l]>100))
											{cell_av[5][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[5][4+i_l]!=0))
											  break;
										  cell_av[5][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[5][4-i_l]>100))
											{cell_av[5][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[5][4-i_l]!=0))
											  break;
										  cell_av[5][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][4]>0)&&(cell[5+i_l][4]<100))
											{cell_av[5+i_l][4]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][4]!=0))
											  break;
										  cell_av[5+i_l][4]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][4]>0)&&(cell[5-i_l][4]<100))
											{cell_av[5-i_l][4]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][4]!=0))
											  break;
										  cell_av[5-i_l][4]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[5][4+i_l]>0)&&(cell[5][4+i_l]<100))
											{cell_av[5][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[5][4+i_l]!=0))
											  break;
										  cell_av[5][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[5][4-i_l]>0)&&(cell[5][4-i_l]<100))
											{cell_av[5][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[5][4-i_l]!=0))
											  break;
										  cell_av[5][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(4+i_l<8)&&(cell[5+i_l][4+i_l]>100))
											{cell_av[5+i_l][4+i_l]=1;
											 var i_r=6-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(4+i_l>7)||(cell[5+i_l][4+i_l]!=0))
											  break;
										  cell_av[5+i_l][4+i_l]=1;
										  var i_r=6-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(4-i_l>=0)&&(cell[5-i_l][4-i_l]>100))
											{cell_av[5-i_l][4-i_l]=1;
											 var i_r=6-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(4-i_l<0)||(cell[5-i_l][4-i_l]!=0))
											  break;
										  cell_av[5-i_l][4-i_l]=1;
										  var i_r=6-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(4+i_l<8)&&(cell[5-i_l][4+i_l]>100))
											{cell_av[5-i_l][4+i_l]=1;
											 var i_r=6-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(4+i_l>7)||(cell[5-i_l][4+i_l]!=0))
											  break;
										  cell_av[5-i_l][4+i_l]=1;
										  var i_r=6-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(4-i_l>=0)&&(cell[5+i_l][4-i_l]>100))
											{cell_av[5+i_l][4-i_l]=1;
											 var i_r=6-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(4-i_l<0)||(cell[5+i_l][4-i_l]!=0))
											  break;
										  cell_av[5+i_l][4-i_l]=1;
										  var i_r=6-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(4+i_l<8)&&(cell[5+i_l][4+i_l]>0)&&(cell[5+i_l][4+i_l]<100))
											{cell_av[5+i_l][4+i_l]=1;
											 var i_r=6-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(4+i_l>7)||(cell[5+i_l][4+i_l]!=0))
											  break;
										  cell_av[5+i_l][4+i_l]=1;
										  var i_r=6-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(4-i_l>=0)&&(cell[5-i_l][4-i_l]>0)&&(cell[5-i_l][4-i_l]<100))
											{cell_av[5-i_l][4-i_l]=1;
											 var i_r=6-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(4-i_l<0)||(cell[5-i_l][4-i_l]!=0))
											  break;
										  cell_av[5-i_l][4-i_l]=1;
										  var i_r=6-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(4+i_l<8)&&(cell[5-i_l][4+i_l]>0)&&(cell[5-i_l][4+i_l]<100))
											{cell_av[5-i_l][4+i_l]=1;
											 var i_r=6-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(4+i_l>7)||(cell[5-i_l][4+i_l]!=0))
											  break;
										  cell_av[5-i_l][4+i_l]=1;
										  var i_r=6-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(4-i_l>=0)&&(cell[5+i_l][4-i_l]>0)&&(cell[5+i_l][4-i_l]<100))
											{cell_av[5+i_l][4-i_l]=1;
											 var i_r=6-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(4-i_l<0)||(cell[5+i_l][4-i_l]!=0))
											  break;
										  cell_av[5+i_l][4-i_l]=1;
										  var i_r=6-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(5<8)&&(cell[7][5]==0))
										  {//2 точка
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5<8)&&(cell[7][5]*(cell[7][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(6<8)&&(cell[6][6]==0)) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(6<8)&&(cell[6][6]*(cell[6][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2>=0)&&(cell[6][2]==0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(2>=0)&&(cell[6][2]*(cell[6][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3>=0)&&(cell[7][3]==0)) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3>=0)&&(cell[7][3]*(cell[7][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(5<8)&&(cell[3][5]==0))
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5<8)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(6<8)&&(cell[4][6]==0)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(6<8)&&(cell[4][6]*(cell[4][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2>=0)&&(cell[4][2]==0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2>=0)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3>=0)&&(cell[3][3]==0)) 	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(3>=0)&&(cell[3][3]*(cell[3][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][3]=1;
										  document.getElementById('td_d'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][4]==0) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][4]==0))	 
												  {
												  cell_av[3][4]=1;
												  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][5]>0)&&(cell[4][5]<100)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][3]>0)&&(cell[4][3]<100)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_f6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][5]!=0)
								 {cur_i=5;cur_ii=5;
								 arm=cell[5][5];
								 cell[5][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][5]==0) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][5]==0))	 
											  {
											  cell_av[7][5]=1;
											  document.getElementById('td_f8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][6]>100) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][4]>100) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][5]>100))
											{cell_av[5+i_l][5]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][5]!=0))
											  break;
										  cell_av[5+i_l][5]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][5]>100))
											{cell_av[5-i_l][5]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][5]!=0))
											  break;
										  cell_av[5-i_l][5]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5][5+i_l]>100))
											{cell_av[5][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5][5+i_l]!=0))
											  break;
										  cell_av[5][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5][5-i_l]>100))
											{cell_av[5][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5][5-i_l]!=0))
											  break;
										  cell_av[5][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][5]>0)&&(cell[5+i_l][5]<100))
											{cell_av[5+i_l][5]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][5]!=0))
											  break;
										  cell_av[5+i_l][5]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][5]>0)&&(cell[5-i_l][5]<100))
											{cell_av[5-i_l][5]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][5]!=0))
											  break;
										  cell_av[5-i_l][5]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5][5+i_l]>0)&&(cell[5][5+i_l]<100))
											{cell_av[5][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5][5+i_l]!=0))
											  break;
										  cell_av[5][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5][5-i_l]>0)&&(cell[5][5-i_l]<100))
											{cell_av[5][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5][5-i_l]!=0))
											  break;
										  cell_av[5][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(5+i_l<8)&&(cell[5+i_l][5+i_l]>100))
											{cell_av[5+i_l][5+i_l]=1;
											 var i_r=6-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(5+i_l>7)||(cell[5+i_l][5+i_l]!=0))
											  break;
										  cell_av[5+i_l][5+i_l]=1;
										  var i_r=6-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(5-i_l>=0)&&(cell[5-i_l][5-i_l]>100))
											{cell_av[5-i_l][5-i_l]=1;
											 var i_r=6-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(5-i_l<0)||(cell[5-i_l][5-i_l]!=0))
											  break;
										  cell_av[5-i_l][5-i_l]=1;
										  var i_r=6-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(5+i_l<8)&&(cell[5-i_l][5+i_l]>100))
											{cell_av[5-i_l][5+i_l]=1;
											 var i_r=6-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(5+i_l>7)||(cell[5-i_l][5+i_l]!=0))
											  break;
										  cell_av[5-i_l][5+i_l]=1;
										  var i_r=6-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(5-i_l>=0)&&(cell[5+i_l][5-i_l]>100))
											{cell_av[5+i_l][5-i_l]=1;
											 var i_r=6-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(5-i_l<0)||(cell[5+i_l][5-i_l]!=0))
											  break;
										  cell_av[5+i_l][5-i_l]=1;
										  var i_r=6-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(5+i_l<8)&&(cell[5+i_l][5+i_l]>0)&&(cell[5+i_l][5+i_l]<100))
											{cell_av[5+i_l][5+i_l]=1;
											 var i_r=6-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(5+i_l>7)||(cell[5+i_l][5+i_l]!=0))
											  break;
										  cell_av[5+i_l][5+i_l]=1;
										  var i_r=6-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(5-i_l>=0)&&(cell[5-i_l][5-i_l]>0)&&(cell[5-i_l][5-i_l]<100))
											{cell_av[5-i_l][5-i_l]=1;
											 var i_r=6-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(5-i_l<0)||(cell[5-i_l][5-i_l]!=0))
											  break;
										  cell_av[5-i_l][5-i_l]=1;
										  var i_r=6-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(5+i_l<8)&&(cell[5-i_l][5+i_l]>0)&&(cell[5-i_l][5+i_l]<100))
											{cell_av[5-i_l][5+i_l]=1;
											 var i_r=6-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(5+i_l>7)||(cell[5-i_l][5+i_l]!=0))
											  break;
										  cell_av[5-i_l][5+i_l]=1;
										  var i_r=6-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(5-i_l>=0)&&(cell[5+i_l][5-i_l]>0)&&(cell[5+i_l][5-i_l]<100))
											{cell_av[5+i_l][5-i_l]=1;
											 var i_r=6-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(5-i_l<0)||(cell[5+i_l][5-i_l]!=0))
											  break;
										  cell_av[5+i_l][5-i_l]=1;
										  var i_r=6-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(6<8)&&(cell[7][6]==0))
										  {//2 точка
										  cell_av[7][6]=1;
										  document.getElementById('td_g'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(6<8)&&(cell[7][6]*(cell[7][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(7<8)&&(cell[6][7]==0)) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(7<8)&&(cell[6][7]*(cell[6][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3>=0)&&(cell[6][3]==0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(3>=0)&&(cell[6][3]*(cell[6][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4>=0)&&(cell[7][4]==0)) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4>=0)&&(cell[7][4]*(cell[7][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(6<8)&&(cell[3][6]==0))
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(6<8)&&(cell[3][6]*(cell[3][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(7<8)&&(cell[4][7]==0)) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(7<8)&&(cell[4][7]*(cell[4][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3>=0)&&(cell[4][3]==0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3>=0)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4>=0)&&(cell[3][4]==0)) 	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(4>=0)&&(cell[3][4]*(cell[3][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][4]=1;
										  document.getElementById('td_e'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][5]==0) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][5]==0))	 
												  {
												  cell_av[3][5]=1;
												  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][6]>0)&&(cell[4][6]<100)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][4]>0)&&(cell[4][4]<100)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_g6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][6]!=0)
								 {cur_i=5;cur_ii=6;
								 arm=cell[5][6];
								 cell[5][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][6]==0) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][6]==0))	 
											  {
											  cell_av[7][6]=1;
											  document.getElementById('td_g8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][7]>100) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][5]>100) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][6]>100))
											{cell_av[5+i_l][6]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][6]!=0))
											  break;
										  cell_av[5+i_l][6]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][6]>100))
											{cell_av[5-i_l][6]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][6]!=0))
											  break;
										  cell_av[5-i_l][6]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[5][6+i_l]>100))
											{cell_av[5][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[5][6+i_l]!=0))
											  break;
										  cell_av[5][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[5][6-i_l]>100))
											{cell_av[5][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[5][6-i_l]!=0))
											  break;
										  cell_av[5][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][6]>0)&&(cell[5+i_l][6]<100))
											{cell_av[5+i_l][6]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][6]!=0))
											  break;
										  cell_av[5+i_l][6]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][6]>0)&&(cell[5-i_l][6]<100))
											{cell_av[5-i_l][6]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][6]!=0))
											  break;
										  cell_av[5-i_l][6]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[5][6+i_l]>0)&&(cell[5][6+i_l]<100))
											{cell_av[5][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[5][6+i_l]!=0))
											  break;
										  cell_av[5][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[5][6-i_l]>0)&&(cell[5][6-i_l]<100))
											{cell_av[5][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[5][6-i_l]!=0))
											  break;
										  cell_av[5][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(6+i_l<8)&&(cell[5+i_l][6+i_l]>100))
											{cell_av[5+i_l][6+i_l]=1;
											 var i_r=6-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(6+i_l>7)||(cell[5+i_l][6+i_l]!=0))
											  break;
										  cell_av[5+i_l][6+i_l]=1;
										  var i_r=6-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(6-i_l>=0)&&(cell[5-i_l][6-i_l]>100))
											{cell_av[5-i_l][6-i_l]=1;
											 var i_r=6-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(6-i_l<0)||(cell[5-i_l][6-i_l]!=0))
											  break;
										  cell_av[5-i_l][6-i_l]=1;
										  var i_r=6-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(6+i_l<8)&&(cell[5-i_l][6+i_l]>100))
											{cell_av[5-i_l][6+i_l]=1;
											 var i_r=6-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(6+i_l>7)||(cell[5-i_l][6+i_l]!=0))
											  break;
										  cell_av[5-i_l][6+i_l]=1;
										  var i_r=6-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(6-i_l>=0)&&(cell[5+i_l][6-i_l]>100))
											{cell_av[5+i_l][6-i_l]=1;
											 var i_r=6-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(6-i_l<0)||(cell[5+i_l][6-i_l]!=0))
											  break;
										  cell_av[5+i_l][6-i_l]=1;
										  var i_r=6-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(6+i_l<8)&&(cell[5+i_l][6+i_l]>0)&&(cell[5+i_l][6+i_l]<100))
											{cell_av[5+i_l][6+i_l]=1;
											 var i_r=6-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(6+i_l>7)||(cell[5+i_l][6+i_l]!=0))
											  break;
										  cell_av[5+i_l][6+i_l]=1;
										  var i_r=6-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(6-i_l>=0)&&(cell[5-i_l][6-i_l]>0)&&(cell[5-i_l][6-i_l]<100))
											{cell_av[5-i_l][6-i_l]=1;
											 var i_r=6-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(6-i_l<0)||(cell[5-i_l][6-i_l]!=0))
											  break;
										  cell_av[5-i_l][6-i_l]=1;
										  var i_r=6-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(6+i_l<8)&&(cell[5-i_l][6+i_l]>0)&&(cell[5-i_l][6+i_l]<100))
											{cell_av[5-i_l][6+i_l]=1;
											 var i_r=6-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(6+i_l>7)||(cell[5-i_l][6+i_l]!=0))
											  break;
										  cell_av[5-i_l][6+i_l]=1;
										  var i_r=6-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(6-i_l>=0)&&(cell[5+i_l][6-i_l]>0)&&(cell[5+i_l][6-i_l]<100))
											{cell_av[5+i_l][6-i_l]=1;
											 var i_r=6-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(6-i_l<0)||(cell[5+i_l][6-i_l]!=0))
											  break;
										  cell_av[5+i_l][6-i_l]=1;
										  var i_r=6-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(7<8)&&(cell[7][7]==0))
										  {//2 точка
										  cell_av[7][7]=1;
										  document.getElementById('td_h'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(7<8)&&(cell[7][7]*(cell[7][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][7]=1;
										  document.getElementById('td_h'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(8<8)&&(cell[6][8]==0)) 	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(8<8)&&(cell[6][8]*(cell[6][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4>=0)&&(cell[6][4]==0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(4>=0)&&(cell[6][4]*(cell[6][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5>=0)&&(cell[7][5]==0)) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5>=0)&&(cell[7][5]*(cell[7][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(7<8)&&(cell[3][7]==0))
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(7<8)&&(cell[3][7]*(cell[3][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][7]=1;
										  document.getElementById('td_h'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(8<8)&&(cell[4][8]==0)) 	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(8<8)&&(cell[4][8]*(cell[4][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4>=0)&&(cell[4][4]==0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4>=0)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5>=0)&&(cell[3][5]==0)) 	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(5>=0)&&(cell[3][5]*(cell[3][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][5]=1;
										  document.getElementById('td_f'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][6]==0) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][6]==0))	 
												  {
												  cell_av[3][6]=1;
												  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][7]>0)&&(cell[4][7]<100)) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][5]>0)&&(cell[4][5]<100)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"></td><td id=td_h6 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[5][7]!=0)
								 {cur_i=5;cur_ii=7;
								 arm=cell[5][7];
								 cell[5][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[6][7]==0) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==2)&&(cell[7][7]==0))	 
											  {
											  cell_av[7][7]=1;
											  document.getElementById('td_h8').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[6][8]>100) 	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[6][6]>100) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][7]>100))
											{cell_av[5+i_l][7]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][7]!=0))
											  break;
										  cell_av[5+i_l][7]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][7]>100))
											{cell_av[5-i_l][7]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][7]!=0))
											  break;
										  cell_av[5-i_l][7]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[5][7+i_l]>100))
											{cell_av[5][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[5][7+i_l]!=0))
											  break;
										  cell_av[5][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[5][7-i_l]>100))
											{cell_av[5][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[5][7-i_l]!=0))
											  break;
										  cell_av[5][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[5+i_l][7]>0)&&(cell[5+i_l][7]<100))
											{cell_av[5+i_l][7]=1;
											 var i_r=6-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[5+i_l][7]!=0))
											  break;
										  cell_av[5+i_l][7]=1;
										  var i_r=6-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[5-i_l][7]>0)&&(cell[5-i_l][7]<100))
											{cell_av[5-i_l][7]=1;
											 var i_r=6-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[5-i_l][7]!=0))
											  break;
										  cell_av[5-i_l][7]=1;
										  var i_r=6-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[5][7+i_l]>0)&&(cell[5][7+i_l]<100))
											{cell_av[5][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[5][7+i_l]!=0))
											  break;
										  cell_av[5][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[5][7-i_l]>0)&&(cell[5][7-i_l]<100))
											{cell_av[5][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[5][7-i_l]!=0))
											  break;
										  cell_av[5][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(7+i_l<8)&&(cell[5+i_l][7+i_l]>100))
											{cell_av[5+i_l][7+i_l]=1;
											 var i_r=6-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(7+i_l>7)||(cell[5+i_l][7+i_l]!=0))
											  break;
										  cell_av[5+i_l][7+i_l]=1;
										  var i_r=6-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(7-i_l>=0)&&(cell[5-i_l][7-i_l]>100))
											{cell_av[5-i_l][7-i_l]=1;
											 var i_r=6-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(7-i_l<0)||(cell[5-i_l][7-i_l]!=0))
											  break;
										  cell_av[5-i_l][7-i_l]=1;
										  var i_r=6-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(7+i_l<8)&&(cell[5-i_l][7+i_l]>100))
											{cell_av[5-i_l][7+i_l]=1;
											 var i_r=6-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(7+i_l>7)||(cell[5-i_l][7+i_l]!=0))
											  break;
										  cell_av[5-i_l][7+i_l]=1;
										  var i_r=6-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(7-i_l>=0)&&(cell[5+i_l][7-i_l]>100))
											{cell_av[5+i_l][7-i_l]=1;
											 var i_r=6-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(7-i_l<0)||(cell[5+i_l][7-i_l]!=0))
											  break;
										  cell_av[5+i_l][7-i_l]=1;
										  var i_r=6-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(7+i_l<8)&&(cell[5+i_l][7+i_l]>0)&&(cell[5+i_l][7+i_l]<100))
											{cell_av[5+i_l][7+i_l]=1;
											 var i_r=6-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(7+i_l>7)||(cell[5+i_l][7+i_l]!=0))
											  break;
										  cell_av[5+i_l][7+i_l]=1;
										  var i_r=6-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(7-i_l>=0)&&(cell[5-i_l][7-i_l]>0)&&(cell[5-i_l][7-i_l]<100))
											{cell_av[5-i_l][7-i_l]=1;
											 var i_r=6-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(7-i_l<0)||(cell[5-i_l][7-i_l]!=0))
											  break;
										  cell_av[5-i_l][7-i_l]=1;
										  var i_r=6-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(7+i_l<8)&&(cell[5-i_l][7+i_l]>0)&&(cell[5-i_l][7+i_l]<100))
											{cell_av[5-i_l][7+i_l]=1;
											 var i_r=6-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(7+i_l>7)||(cell[5-i_l][7+i_l]!=0))
											  break;
										  cell_av[5-i_l][7+i_l]=1;
										  var i_r=6-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(7-i_l>=0)&&(cell[5+i_l][7-i_l]>0)&&(cell[5+i_l][7-i_l]<100))
											{cell_av[5+i_l][7-i_l]=1;
											 var i_r=6-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(7-i_l<0)||(cell[5+i_l][7-i_l]!=0))
											  break;
										  cell_av[5+i_l][7-i_l]=1;
										  var i_r=6-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((7<8)&&(8<8)&&(cell[7][8]==0))
										  {//2 точка
										  cell_av[7][8]=1;
										  document.getElementById('td_i'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(8<8)&&(cell[7][8]*(cell[7][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][8]=1;
										  document.getElementById('td_i'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(9<8)&&(cell[6][9]==0)) 	 
										  {
										  cell_av[6][9]=1;
										  document.getElementById('td_j'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(9<8)&&(cell[6][9]*(cell[6][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][9]=1;
										  document.getElementById('td_j'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5>=0)&&(cell[6][5]==0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6<8)&&(5>=0)&&(cell[6][5]*(cell[6][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(6>=0)&&(cell[7][6]==0)) 	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(6>=0)&&(cell[7][6]*(cell[7][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((3>=0)&&(8<8)&&(cell[3][8]==0))
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(8<8)&&(cell[3][8]*(cell[3][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[3][8]=1;
										  document.getElementById('td_i'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(9<8)&&(cell[4][9]==0)) 	 
										  {
										  cell_av[4][9]=1;
										  document.getElementById('td_j'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(9<8)&&(cell[4][9]*(cell[4][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][9]=1;
										  document.getElementById('td_j'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5>=0)&&(cell[4][5]==0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5>=0)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(6>=0)&&(cell[3][6]==0)) 	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((3>=0)&&(6>=0)&&(cell[3][6]*(cell[3][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[3][6]=1;
										  document.getElementById('td_g'+'4').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[4][7]==0) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((6==7)&&(cell[3][7]==0))	 
												  {
												  cell_av[3][7]=1;
												  document.getElementById('td_h'+'4').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[4][8]>0)&&(cell[4][8]<100)) 	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[4][6]>0)&&(cell[4][6]<100)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[5][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[5][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[5][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[5][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[5][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(6==8))arm=4;
										if((arm==111)&&(6==1))arm=104;
										cell[5][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+6;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[5][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[5][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"></td><td id=td_i6 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>6</h3></td></tr><tr><td id=td_`7 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>7</h3></td><td id=td_a7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][0]!=0)
								 {cur_i=6;cur_ii=0;
								 arm=cell[6][0];
								 cell[6][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][0]==0) 	 
										  {
										  cell_av[7][0]=1;
										  document.getElementById('td_a8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][0]==0))	 
											  {
											  cell_av[8][0]=1;
											  document.getElementById('td_a9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][1]>100) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][-1]>100) 	 
										  {
										  cell_av[7][-1]=1;
										  document.getElementById('td_`8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][0]>100))
											{cell_av[6+i_l][0]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][0]!=0))
											  break;
										  cell_av[6+i_l][0]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][0]>100))
											{cell_av[6-i_l][0]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][0]!=0))
											  break;
										  cell_av[6-i_l][0]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[6][0+i_l]>100))
											{cell_av[6][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[6][0+i_l]!=0))
											  break;
										  cell_av[6][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[6][0-i_l]>100))
											{cell_av[6][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[6][0-i_l]!=0))
											  break;
										  cell_av[6][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][0]>0)&&(cell[6+i_l][0]<100))
											{cell_av[6+i_l][0]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][0]!=0))
											  break;
										  cell_av[6+i_l][0]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][0]>0)&&(cell[6-i_l][0]<100))
											{cell_av[6-i_l][0]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][0]!=0))
											  break;
										  cell_av[6-i_l][0]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[6][0+i_l]>0)&&(cell[6][0+i_l]<100))
											{cell_av[6][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[6][0+i_l]!=0))
											  break;
										  cell_av[6][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[6][0-i_l]>0)&&(cell[6][0-i_l]<100))
											{cell_av[6][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[6][0-i_l]!=0))
											  break;
										  cell_av[6][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(0+i_l<8)&&(cell[6+i_l][0+i_l]>100))
											{cell_av[6+i_l][0+i_l]=1;
											 var i_r=7-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(0+i_l>7)||(cell[6+i_l][0+i_l]!=0))
											  break;
										  cell_av[6+i_l][0+i_l]=1;
										  var i_r=7-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(0-i_l>=0)&&(cell[6-i_l][0-i_l]>100))
											{cell_av[6-i_l][0-i_l]=1;
											 var i_r=7-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(0-i_l<0)||(cell[6-i_l][0-i_l]!=0))
											  break;
										  cell_av[6-i_l][0-i_l]=1;
										  var i_r=7-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(0+i_l<8)&&(cell[6-i_l][0+i_l]>100))
											{cell_av[6-i_l][0+i_l]=1;
											 var i_r=7-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(0+i_l>7)||(cell[6-i_l][0+i_l]!=0))
											  break;
										  cell_av[6-i_l][0+i_l]=1;
										  var i_r=7-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(0-i_l>=0)&&(cell[6+i_l][0-i_l]>100))
											{cell_av[6+i_l][0-i_l]=1;
											 var i_r=7-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(0-i_l<0)||(cell[6+i_l][0-i_l]!=0))
											  break;
										  cell_av[6+i_l][0-i_l]=1;
										  var i_r=7-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(0+i_l<8)&&(cell[6+i_l][0+i_l]>0)&&(cell[6+i_l][0+i_l]<100))
											{cell_av[6+i_l][0+i_l]=1;
											 var i_r=7-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(0+i_l>7)||(cell[6+i_l][0+i_l]!=0))
											  break;
										  cell_av[6+i_l][0+i_l]=1;
										  var i_r=7-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(0-i_l>=0)&&(cell[6-i_l][0-i_l]>0)&&(cell[6-i_l][0-i_l]<100))
											{cell_av[6-i_l][0-i_l]=1;
											 var i_r=7-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(0-i_l<0)||(cell[6-i_l][0-i_l]!=0))
											  break;
										  cell_av[6-i_l][0-i_l]=1;
										  var i_r=7-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(0+i_l<8)&&(cell[6-i_l][0+i_l]>0)&&(cell[6-i_l][0+i_l]<100))
											{cell_av[6-i_l][0+i_l]=1;
											 var i_r=7-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(0+i_l>7)||(cell[6-i_l][0+i_l]!=0))
											  break;
										  cell_av[6-i_l][0+i_l]=1;
										  var i_r=7-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(0-i_l>=0)&&(cell[6+i_l][0-i_l]>0)&&(cell[6+i_l][0-i_l]<100))
											{cell_av[6+i_l][0-i_l]=1;
											 var i_r=7-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(0-i_l<0)||(cell[6+i_l][0-i_l]!=0))
											  break;
										  cell_av[6+i_l][0-i_l]=1;
										  var i_r=7-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(1<8)&&(cell[8][1]==0))
										  {//2 точка
										  cell_av[8][1]=1;
										  document.getElementById('td_b'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(1<8)&&(cell[8][1]*(cell[8][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2<8)&&(cell[7][2]==0)) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2<8)&&(cell[7][2]*(cell[7][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(-2>=0)&&(cell[7][-2]==0)) 	 
										  {
										  cell_av[7][-2]=1;
										  document.getElementById('td__'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(-2>=0)&&(cell[7][-2]*(cell[7][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][-2]=1;
										  document.getElementById('td__'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(-1>=0)&&(cell[8][-1]==0)) 	 
										  {
										  cell_av[8][-1]=1;
										  document.getElementById('td_`'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(-1>=0)&&(cell[8][-1]*(cell[8][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][-1]=1;
										  document.getElementById('td_`'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(1<8)&&(cell[4][1]==0))
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(1<8)&&(cell[4][1]*(cell[4][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2<8)&&(cell[5][2]==0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2<8)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(-2>=0)&&(cell[5][-2]==0)) 	 
										  {
										  cell_av[5][-2]=1;
										  document.getElementById('td__'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(-2>=0)&&(cell[5][-2]*(cell[5][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][-2]=1;
										  document.getElementById('td__'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(-1>=0)&&(cell[4][-1]==0)) 	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(-1>=0)&&(cell[4][-1]*(cell[4][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][-1]=1;
										  document.getElementById('td_`'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][0]==0) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][0]==0))	 
												  {
												  cell_av[4][0]=1;
												  document.getElementById('td_a'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][1]>0)&&(cell[5][1]<100)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][-1]>0)&&(cell[5][-1]<100)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp111.png" height=45></td><td id=td_b7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][1]!=0)
								 {cur_i=6;cur_ii=1;
								 arm=cell[6][1];
								 cell[6][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][1]==0) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][1]==0))	 
											  {
											  cell_av[8][1]=1;
											  document.getElementById('td_b9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][2]>100) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][0]>100) 	 
										  {
										  cell_av[7][0]=1;
										  document.getElementById('td_a8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][1]>100))
											{cell_av[6+i_l][1]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][1]!=0))
											  break;
										  cell_av[6+i_l][1]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][1]>100))
											{cell_av[6-i_l][1]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][1]!=0))
											  break;
										  cell_av[6-i_l][1]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[6][1+i_l]>100))
											{cell_av[6][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[6][1+i_l]!=0))
											  break;
										  cell_av[6][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[6][1-i_l]>100))
											{cell_av[6][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[6][1-i_l]!=0))
											  break;
										  cell_av[6][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][1]>0)&&(cell[6+i_l][1]<100))
											{cell_av[6+i_l][1]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][1]!=0))
											  break;
										  cell_av[6+i_l][1]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][1]>0)&&(cell[6-i_l][1]<100))
											{cell_av[6-i_l][1]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][1]!=0))
											  break;
										  cell_av[6-i_l][1]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[6][1+i_l]>0)&&(cell[6][1+i_l]<100))
											{cell_av[6][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[6][1+i_l]!=0))
											  break;
										  cell_av[6][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[6][1-i_l]>0)&&(cell[6][1-i_l]<100))
											{cell_av[6][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[6][1-i_l]!=0))
											  break;
										  cell_av[6][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(1+i_l<8)&&(cell[6+i_l][1+i_l]>100))
											{cell_av[6+i_l][1+i_l]=1;
											 var i_r=7-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(1+i_l>7)||(cell[6+i_l][1+i_l]!=0))
											  break;
										  cell_av[6+i_l][1+i_l]=1;
										  var i_r=7-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(1-i_l>=0)&&(cell[6-i_l][1-i_l]>100))
											{cell_av[6-i_l][1-i_l]=1;
											 var i_r=7-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(1-i_l<0)||(cell[6-i_l][1-i_l]!=0))
											  break;
										  cell_av[6-i_l][1-i_l]=1;
										  var i_r=7-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(1+i_l<8)&&(cell[6-i_l][1+i_l]>100))
											{cell_av[6-i_l][1+i_l]=1;
											 var i_r=7-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(1+i_l>7)||(cell[6-i_l][1+i_l]!=0))
											  break;
										  cell_av[6-i_l][1+i_l]=1;
										  var i_r=7-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(1-i_l>=0)&&(cell[6+i_l][1-i_l]>100))
											{cell_av[6+i_l][1-i_l]=1;
											 var i_r=7-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(1-i_l<0)||(cell[6+i_l][1-i_l]!=0))
											  break;
										  cell_av[6+i_l][1-i_l]=1;
										  var i_r=7-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(1+i_l<8)&&(cell[6+i_l][1+i_l]>0)&&(cell[6+i_l][1+i_l]<100))
											{cell_av[6+i_l][1+i_l]=1;
											 var i_r=7-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(1+i_l>7)||(cell[6+i_l][1+i_l]!=0))
											  break;
										  cell_av[6+i_l][1+i_l]=1;
										  var i_r=7-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(1-i_l>=0)&&(cell[6-i_l][1-i_l]>0)&&(cell[6-i_l][1-i_l]<100))
											{cell_av[6-i_l][1-i_l]=1;
											 var i_r=7-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(1-i_l<0)||(cell[6-i_l][1-i_l]!=0))
											  break;
										  cell_av[6-i_l][1-i_l]=1;
										  var i_r=7-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(1+i_l<8)&&(cell[6-i_l][1+i_l]>0)&&(cell[6-i_l][1+i_l]<100))
											{cell_av[6-i_l][1+i_l]=1;
											 var i_r=7-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(1+i_l>7)||(cell[6-i_l][1+i_l]!=0))
											  break;
										  cell_av[6-i_l][1+i_l]=1;
										  var i_r=7-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(1-i_l>=0)&&(cell[6+i_l][1-i_l]>0)&&(cell[6+i_l][1-i_l]<100))
											{cell_av[6+i_l][1-i_l]=1;
											 var i_r=7-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(1-i_l<0)||(cell[6+i_l][1-i_l]!=0))
											  break;
										  cell_av[6+i_l][1-i_l]=1;
										  var i_r=7-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(2<8)&&(cell[8][2]==0))
										  {//2 точка
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2<8)&&(cell[8][2]*(cell[8][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3<8)&&(cell[7][3]==0)) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3<8)&&(cell[7][3]*(cell[7][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(-1>=0)&&(cell[7][-1]==0)) 	 
										  {
										  cell_av[7][-1]=1;
										  document.getElementById('td_`'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(-1>=0)&&(cell[7][-1]*(cell[7][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][-1]=1;
										  document.getElementById('td_`'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(0>=0)&&(cell[8][0]==0)) 	 
										  {
										  cell_av[8][0]=1;
										  document.getElementById('td_a'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(0>=0)&&(cell[8][0]*(cell[8][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][0]=1;
										  document.getElementById('td_a'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(2<8)&&(cell[4][2]==0))
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2<8)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3<8)&&(cell[5][3]==0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3<8)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(-1>=0)&&(cell[5][-1]==0)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(-1>=0)&&(cell[5][-1]*(cell[5][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(0>=0)&&(cell[4][0]==0)) 	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(0>=0)&&(cell[4][0]*(cell[4][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][0]=1;
										  document.getElementById('td_a'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][1]==0) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][1]==0))	 
												  {
												  cell_av[4][1]=1;
												  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][2]>0)&&(cell[5][2]<100)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][0]>0)&&(cell[5][0]<100)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp111.png" height=45></td><td id=td_c7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][2]!=0)
								 {cur_i=6;cur_ii=2;
								 arm=cell[6][2];
								 cell[6][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][2]==0) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][2]==0))	 
											  {
											  cell_av[8][2]=1;
											  document.getElementById('td_c9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][3]>100) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][1]>100) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][2]>100))
											{cell_av[6+i_l][2]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][2]!=0))
											  break;
										  cell_av[6+i_l][2]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][2]>100))
											{cell_av[6-i_l][2]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][2]!=0))
											  break;
										  cell_av[6-i_l][2]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[6][2+i_l]>100))
											{cell_av[6][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[6][2+i_l]!=0))
											  break;
										  cell_av[6][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[6][2-i_l]>100))
											{cell_av[6][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[6][2-i_l]!=0))
											  break;
										  cell_av[6][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][2]>0)&&(cell[6+i_l][2]<100))
											{cell_av[6+i_l][2]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][2]!=0))
											  break;
										  cell_av[6+i_l][2]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][2]>0)&&(cell[6-i_l][2]<100))
											{cell_av[6-i_l][2]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][2]!=0))
											  break;
										  cell_av[6-i_l][2]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[6][2+i_l]>0)&&(cell[6][2+i_l]<100))
											{cell_av[6][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[6][2+i_l]!=0))
											  break;
										  cell_av[6][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[6][2-i_l]>0)&&(cell[6][2-i_l]<100))
											{cell_av[6][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[6][2-i_l]!=0))
											  break;
										  cell_av[6][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(2+i_l<8)&&(cell[6+i_l][2+i_l]>100))
											{cell_av[6+i_l][2+i_l]=1;
											 var i_r=7-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(2+i_l>7)||(cell[6+i_l][2+i_l]!=0))
											  break;
										  cell_av[6+i_l][2+i_l]=1;
										  var i_r=7-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(2-i_l>=0)&&(cell[6-i_l][2-i_l]>100))
											{cell_av[6-i_l][2-i_l]=1;
											 var i_r=7-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(2-i_l<0)||(cell[6-i_l][2-i_l]!=0))
											  break;
										  cell_av[6-i_l][2-i_l]=1;
										  var i_r=7-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(2+i_l<8)&&(cell[6-i_l][2+i_l]>100))
											{cell_av[6-i_l][2+i_l]=1;
											 var i_r=7-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(2+i_l>7)||(cell[6-i_l][2+i_l]!=0))
											  break;
										  cell_av[6-i_l][2+i_l]=1;
										  var i_r=7-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(2-i_l>=0)&&(cell[6+i_l][2-i_l]>100))
											{cell_av[6+i_l][2-i_l]=1;
											 var i_r=7-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(2-i_l<0)||(cell[6+i_l][2-i_l]!=0))
											  break;
										  cell_av[6+i_l][2-i_l]=1;
										  var i_r=7-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(2+i_l<8)&&(cell[6+i_l][2+i_l]>0)&&(cell[6+i_l][2+i_l]<100))
											{cell_av[6+i_l][2+i_l]=1;
											 var i_r=7-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(2+i_l>7)||(cell[6+i_l][2+i_l]!=0))
											  break;
										  cell_av[6+i_l][2+i_l]=1;
										  var i_r=7-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(2-i_l>=0)&&(cell[6-i_l][2-i_l]>0)&&(cell[6-i_l][2-i_l]<100))
											{cell_av[6-i_l][2-i_l]=1;
											 var i_r=7-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(2-i_l<0)||(cell[6-i_l][2-i_l]!=0))
											  break;
										  cell_av[6-i_l][2-i_l]=1;
										  var i_r=7-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(2+i_l<8)&&(cell[6-i_l][2+i_l]>0)&&(cell[6-i_l][2+i_l]<100))
											{cell_av[6-i_l][2+i_l]=1;
											 var i_r=7-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(2+i_l>7)||(cell[6-i_l][2+i_l]!=0))
											  break;
										  cell_av[6-i_l][2+i_l]=1;
										  var i_r=7-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(2-i_l>=0)&&(cell[6+i_l][2-i_l]>0)&&(cell[6+i_l][2-i_l]<100))
											{cell_av[6+i_l][2-i_l]=1;
											 var i_r=7-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(2-i_l<0)||(cell[6+i_l][2-i_l]!=0))
											  break;
										  cell_av[6+i_l][2-i_l]=1;
										  var i_r=7-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(3<8)&&(cell[8][3]==0))
										  {//2 точка
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3<8)&&(cell[8][3]*(cell[8][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4<8)&&(cell[7][4]==0)) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4<8)&&(cell[7][4]*(cell[7][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(0>=0)&&(cell[7][0]==0)) 	 
										  {
										  cell_av[7][0]=1;
										  document.getElementById('td_a'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(0>=0)&&(cell[7][0]*(cell[7][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][0]=1;
										  document.getElementById('td_a'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(1>=0)&&(cell[8][1]==0)) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(1>=0)&&(cell[8][1]*(cell[8][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(3<8)&&(cell[4][3]==0))
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3<8)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4<8)&&(cell[5][4]==0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4<8)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(0>=0)&&(cell[5][0]==0)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(0>=0)&&(cell[5][0]*(cell[5][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(1>=0)&&(cell[4][1]==0)) 	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(1>=0)&&(cell[4][1]*(cell[4][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][1]=1;
										  document.getElementById('td_b'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][2]==0) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][2]==0))	 
												  {
												  cell_av[4][2]=1;
												  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][3]>0)&&(cell[5][3]<100)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][1]>0)&&(cell[5][1]<100)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp111.png" height=45></td><td id=td_d7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][3]!=0)
								 {cur_i=6;cur_ii=3;
								 arm=cell[6][3];
								 cell[6][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][3]==0) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][3]==0))	 
											  {
											  cell_av[8][3]=1;
											  document.getElementById('td_d9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][4]>100) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][2]>100) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][3]>100))
											{cell_av[6+i_l][3]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][3]!=0))
											  break;
										  cell_av[6+i_l][3]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][3]>100))
											{cell_av[6-i_l][3]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][3]!=0))
											  break;
										  cell_av[6-i_l][3]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[6][3+i_l]>100))
											{cell_av[6][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[6][3+i_l]!=0))
											  break;
										  cell_av[6][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[6][3-i_l]>100))
											{cell_av[6][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[6][3-i_l]!=0))
											  break;
										  cell_av[6][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][3]>0)&&(cell[6+i_l][3]<100))
											{cell_av[6+i_l][3]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][3]!=0))
											  break;
										  cell_av[6+i_l][3]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][3]>0)&&(cell[6-i_l][3]<100))
											{cell_av[6-i_l][3]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][3]!=0))
											  break;
										  cell_av[6-i_l][3]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[6][3+i_l]>0)&&(cell[6][3+i_l]<100))
											{cell_av[6][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[6][3+i_l]!=0))
											  break;
										  cell_av[6][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[6][3-i_l]>0)&&(cell[6][3-i_l]<100))
											{cell_av[6][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[6][3-i_l]!=0))
											  break;
										  cell_av[6][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(3+i_l<8)&&(cell[6+i_l][3+i_l]>100))
											{cell_av[6+i_l][3+i_l]=1;
											 var i_r=7-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(3+i_l>7)||(cell[6+i_l][3+i_l]!=0))
											  break;
										  cell_av[6+i_l][3+i_l]=1;
										  var i_r=7-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(3-i_l>=0)&&(cell[6-i_l][3-i_l]>100))
											{cell_av[6-i_l][3-i_l]=1;
											 var i_r=7-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(3-i_l<0)||(cell[6-i_l][3-i_l]!=0))
											  break;
										  cell_av[6-i_l][3-i_l]=1;
										  var i_r=7-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(3+i_l<8)&&(cell[6-i_l][3+i_l]>100))
											{cell_av[6-i_l][3+i_l]=1;
											 var i_r=7-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(3+i_l>7)||(cell[6-i_l][3+i_l]!=0))
											  break;
										  cell_av[6-i_l][3+i_l]=1;
										  var i_r=7-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(3-i_l>=0)&&(cell[6+i_l][3-i_l]>100))
											{cell_av[6+i_l][3-i_l]=1;
											 var i_r=7-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(3-i_l<0)||(cell[6+i_l][3-i_l]!=0))
											  break;
										  cell_av[6+i_l][3-i_l]=1;
										  var i_r=7-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(3+i_l<8)&&(cell[6+i_l][3+i_l]>0)&&(cell[6+i_l][3+i_l]<100))
											{cell_av[6+i_l][3+i_l]=1;
											 var i_r=7-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(3+i_l>7)||(cell[6+i_l][3+i_l]!=0))
											  break;
										  cell_av[6+i_l][3+i_l]=1;
										  var i_r=7-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(3-i_l>=0)&&(cell[6-i_l][3-i_l]>0)&&(cell[6-i_l][3-i_l]<100))
											{cell_av[6-i_l][3-i_l]=1;
											 var i_r=7-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(3-i_l<0)||(cell[6-i_l][3-i_l]!=0))
											  break;
										  cell_av[6-i_l][3-i_l]=1;
										  var i_r=7-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(3+i_l<8)&&(cell[6-i_l][3+i_l]>0)&&(cell[6-i_l][3+i_l]<100))
											{cell_av[6-i_l][3+i_l]=1;
											 var i_r=7-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(3+i_l>7)||(cell[6-i_l][3+i_l]!=0))
											  break;
										  cell_av[6-i_l][3+i_l]=1;
										  var i_r=7-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(3-i_l>=0)&&(cell[6+i_l][3-i_l]>0)&&(cell[6+i_l][3-i_l]<100))
											{cell_av[6+i_l][3-i_l]=1;
											 var i_r=7-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(3-i_l<0)||(cell[6+i_l][3-i_l]!=0))
											  break;
										  cell_av[6+i_l][3-i_l]=1;
										  var i_r=7-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(4<8)&&(cell[8][4]==0))
										  {//2 точка
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4<8)&&(cell[8][4]*(cell[8][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5<8)&&(cell[7][5]==0)) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5<8)&&(cell[7][5]*(cell[7][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(1>=0)&&(cell[7][1]==0)) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(1>=0)&&(cell[7][1]*(cell[7][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][1]=1;
										  document.getElementById('td_b'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2>=0)&&(cell[8][2]==0)) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2>=0)&&(cell[8][2]*(cell[8][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(4<8)&&(cell[4][4]==0))
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4<8)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5<8)&&(cell[5][5]==0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5<8)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(1>=0)&&(cell[5][1]==0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(1>=0)&&(cell[5][1]*(cell[5][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2>=0)&&(cell[4][2]==0)) 	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(2>=0)&&(cell[4][2]*(cell[4][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][2]=1;
										  document.getElementById('td_c'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][3]==0) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][3]==0))	 
												  {
												  cell_av[4][3]=1;
												  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][4]>0)&&(cell[5][4]<100)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][2]>0)&&(cell[5][2]<100)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp111.png" height=45></td><td id=td_e7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][4]!=0)
								 {cur_i=6;cur_ii=4;
								 arm=cell[6][4];
								 cell[6][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][4]==0) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][4]==0))	 
											  {
											  cell_av[8][4]=1;
											  document.getElementById('td_e9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][5]>100) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][3]>100) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][4]>100))
											{cell_av[6+i_l][4]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][4]!=0))
											  break;
										  cell_av[6+i_l][4]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][4]>100))
											{cell_av[6-i_l][4]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][4]!=0))
											  break;
										  cell_av[6-i_l][4]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[6][4+i_l]>100))
											{cell_av[6][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[6][4+i_l]!=0))
											  break;
										  cell_av[6][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[6][4-i_l]>100))
											{cell_av[6][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[6][4-i_l]!=0))
											  break;
										  cell_av[6][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][4]>0)&&(cell[6+i_l][4]<100))
											{cell_av[6+i_l][4]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][4]!=0))
											  break;
										  cell_av[6+i_l][4]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][4]>0)&&(cell[6-i_l][4]<100))
											{cell_av[6-i_l][4]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][4]!=0))
											  break;
										  cell_av[6-i_l][4]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[6][4+i_l]>0)&&(cell[6][4+i_l]<100))
											{cell_av[6][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[6][4+i_l]!=0))
											  break;
										  cell_av[6][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[6][4-i_l]>0)&&(cell[6][4-i_l]<100))
											{cell_av[6][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[6][4-i_l]!=0))
											  break;
										  cell_av[6][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(4+i_l<8)&&(cell[6+i_l][4+i_l]>100))
											{cell_av[6+i_l][4+i_l]=1;
											 var i_r=7-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(4+i_l>7)||(cell[6+i_l][4+i_l]!=0))
											  break;
										  cell_av[6+i_l][4+i_l]=1;
										  var i_r=7-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(4-i_l>=0)&&(cell[6-i_l][4-i_l]>100))
											{cell_av[6-i_l][4-i_l]=1;
											 var i_r=7-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(4-i_l<0)||(cell[6-i_l][4-i_l]!=0))
											  break;
										  cell_av[6-i_l][4-i_l]=1;
										  var i_r=7-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(4+i_l<8)&&(cell[6-i_l][4+i_l]>100))
											{cell_av[6-i_l][4+i_l]=1;
											 var i_r=7-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(4+i_l>7)||(cell[6-i_l][4+i_l]!=0))
											  break;
										  cell_av[6-i_l][4+i_l]=1;
										  var i_r=7-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(4-i_l>=0)&&(cell[6+i_l][4-i_l]>100))
											{cell_av[6+i_l][4-i_l]=1;
											 var i_r=7-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(4-i_l<0)||(cell[6+i_l][4-i_l]!=0))
											  break;
										  cell_av[6+i_l][4-i_l]=1;
										  var i_r=7-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(4+i_l<8)&&(cell[6+i_l][4+i_l]>0)&&(cell[6+i_l][4+i_l]<100))
											{cell_av[6+i_l][4+i_l]=1;
											 var i_r=7-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(4+i_l>7)||(cell[6+i_l][4+i_l]!=0))
											  break;
										  cell_av[6+i_l][4+i_l]=1;
										  var i_r=7-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(4-i_l>=0)&&(cell[6-i_l][4-i_l]>0)&&(cell[6-i_l][4-i_l]<100))
											{cell_av[6-i_l][4-i_l]=1;
											 var i_r=7-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(4-i_l<0)||(cell[6-i_l][4-i_l]!=0))
											  break;
										  cell_av[6-i_l][4-i_l]=1;
										  var i_r=7-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(4+i_l<8)&&(cell[6-i_l][4+i_l]>0)&&(cell[6-i_l][4+i_l]<100))
											{cell_av[6-i_l][4+i_l]=1;
											 var i_r=7-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(4+i_l>7)||(cell[6-i_l][4+i_l]!=0))
											  break;
										  cell_av[6-i_l][4+i_l]=1;
										  var i_r=7-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(4-i_l>=0)&&(cell[6+i_l][4-i_l]>0)&&(cell[6+i_l][4-i_l]<100))
											{cell_av[6+i_l][4-i_l]=1;
											 var i_r=7-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(4-i_l<0)||(cell[6+i_l][4-i_l]!=0))
											  break;
										  cell_av[6+i_l][4-i_l]=1;
										  var i_r=7-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(5<8)&&(cell[8][5]==0))
										  {//2 точка
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5<8)&&(cell[8][5]*(cell[8][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(6<8)&&(cell[7][6]==0)) 	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(6<8)&&(cell[7][6]*(cell[7][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2>=0)&&(cell[7][2]==0)) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(2>=0)&&(cell[7][2]*(cell[7][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][2]=1;
										  document.getElementById('td_c'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3>=0)&&(cell[8][3]==0)) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3>=0)&&(cell[8][3]*(cell[8][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(5<8)&&(cell[4][5]==0))
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5<8)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(6<8)&&(cell[5][6]==0)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(6<8)&&(cell[5][6]*(cell[5][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2>=0)&&(cell[5][2]==0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2>=0)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3>=0)&&(cell[4][3]==0)) 	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(3>=0)&&(cell[4][3]*(cell[4][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][3]=1;
										  document.getElementById('td_d'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][4]==0) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][4]==0))	 
												  {
												  cell_av[4][4]=1;
												  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][5]>0)&&(cell[5][5]<100)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][3]>0)&&(cell[5][3]<100)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp111.png" height=45></td><td id=td_f7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][5]!=0)
								 {cur_i=6;cur_ii=5;
								 arm=cell[6][5];
								 cell[6][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][5]==0) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][5]==0))	 
											  {
											  cell_av[8][5]=1;
											  document.getElementById('td_f9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][6]>100) 	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][4]>100) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][5]>100))
											{cell_av[6+i_l][5]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][5]!=0))
											  break;
										  cell_av[6+i_l][5]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][5]>100))
											{cell_av[6-i_l][5]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][5]!=0))
											  break;
										  cell_av[6-i_l][5]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[6][5+i_l]>100))
											{cell_av[6][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[6][5+i_l]!=0))
											  break;
										  cell_av[6][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[6][5-i_l]>100))
											{cell_av[6][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[6][5-i_l]!=0))
											  break;
										  cell_av[6][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][5]>0)&&(cell[6+i_l][5]<100))
											{cell_av[6+i_l][5]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][5]!=0))
											  break;
										  cell_av[6+i_l][5]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][5]>0)&&(cell[6-i_l][5]<100))
											{cell_av[6-i_l][5]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][5]!=0))
											  break;
										  cell_av[6-i_l][5]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[6][5+i_l]>0)&&(cell[6][5+i_l]<100))
											{cell_av[6][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[6][5+i_l]!=0))
											  break;
										  cell_av[6][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[6][5-i_l]>0)&&(cell[6][5-i_l]<100))
											{cell_av[6][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[6][5-i_l]!=0))
											  break;
										  cell_av[6][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(5+i_l<8)&&(cell[6+i_l][5+i_l]>100))
											{cell_av[6+i_l][5+i_l]=1;
											 var i_r=7-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(5+i_l>7)||(cell[6+i_l][5+i_l]!=0))
											  break;
										  cell_av[6+i_l][5+i_l]=1;
										  var i_r=7-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(5-i_l>=0)&&(cell[6-i_l][5-i_l]>100))
											{cell_av[6-i_l][5-i_l]=1;
											 var i_r=7-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(5-i_l<0)||(cell[6-i_l][5-i_l]!=0))
											  break;
										  cell_av[6-i_l][5-i_l]=1;
										  var i_r=7-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(5+i_l<8)&&(cell[6-i_l][5+i_l]>100))
											{cell_av[6-i_l][5+i_l]=1;
											 var i_r=7-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(5+i_l>7)||(cell[6-i_l][5+i_l]!=0))
											  break;
										  cell_av[6-i_l][5+i_l]=1;
										  var i_r=7-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(5-i_l>=0)&&(cell[6+i_l][5-i_l]>100))
											{cell_av[6+i_l][5-i_l]=1;
											 var i_r=7-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(5-i_l<0)||(cell[6+i_l][5-i_l]!=0))
											  break;
										  cell_av[6+i_l][5-i_l]=1;
										  var i_r=7-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(5+i_l<8)&&(cell[6+i_l][5+i_l]>0)&&(cell[6+i_l][5+i_l]<100))
											{cell_av[6+i_l][5+i_l]=1;
											 var i_r=7-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(5+i_l>7)||(cell[6+i_l][5+i_l]!=0))
											  break;
										  cell_av[6+i_l][5+i_l]=1;
										  var i_r=7-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(5-i_l>=0)&&(cell[6-i_l][5-i_l]>0)&&(cell[6-i_l][5-i_l]<100))
											{cell_av[6-i_l][5-i_l]=1;
											 var i_r=7-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(5-i_l<0)||(cell[6-i_l][5-i_l]!=0))
											  break;
										  cell_av[6-i_l][5-i_l]=1;
										  var i_r=7-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(5+i_l<8)&&(cell[6-i_l][5+i_l]>0)&&(cell[6-i_l][5+i_l]<100))
											{cell_av[6-i_l][5+i_l]=1;
											 var i_r=7-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(5+i_l>7)||(cell[6-i_l][5+i_l]!=0))
											  break;
										  cell_av[6-i_l][5+i_l]=1;
										  var i_r=7-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(5-i_l>=0)&&(cell[6+i_l][5-i_l]>0)&&(cell[6+i_l][5-i_l]<100))
											{cell_av[6+i_l][5-i_l]=1;
											 var i_r=7-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(5-i_l<0)||(cell[6+i_l][5-i_l]!=0))
											  break;
										  cell_av[6+i_l][5-i_l]=1;
										  var i_r=7-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(6<8)&&(cell[8][6]==0))
										  {//2 точка
										  cell_av[8][6]=1;
										  document.getElementById('td_g'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(6<8)&&(cell[8][6]*(cell[8][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(7<8)&&(cell[7][7]==0)) 	 
										  {
										  cell_av[7][7]=1;
										  document.getElementById('td_h'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(7<8)&&(cell[7][7]*(cell[7][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][7]=1;
										  document.getElementById('td_h'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3>=0)&&(cell[7][3]==0)) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(3>=0)&&(cell[7][3]*(cell[7][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][3]=1;
										  document.getElementById('td_d'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4>=0)&&(cell[8][4]==0)) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4>=0)&&(cell[8][4]*(cell[8][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(6<8)&&(cell[4][6]==0))
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(6<8)&&(cell[4][6]*(cell[4][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(7<8)&&(cell[5][7]==0)) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(7<8)&&(cell[5][7]*(cell[5][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3>=0)&&(cell[5][3]==0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3>=0)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4>=0)&&(cell[4][4]==0)) 	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(4>=0)&&(cell[4][4]*(cell[4][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][4]=1;
										  document.getElementById('td_e'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][5]==0) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][5]==0))	 
												  {
												  cell_av[4][5]=1;
												  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][6]>0)&&(cell[5][6]<100)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][4]>0)&&(cell[5][4]<100)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp111.png" height=45></td><td id=td_g7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][6]!=0)
								 {cur_i=6;cur_ii=6;
								 arm=cell[6][6];
								 cell[6][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][6]==0) 	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][6]==0))	 
											  {
											  cell_av[8][6]=1;
											  document.getElementById('td_g9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][7]>100) 	 
										  {
										  cell_av[7][7]=1;
										  document.getElementById('td_h8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][5]>100) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][6]>100))
											{cell_av[6+i_l][6]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][6]!=0))
											  break;
										  cell_av[6+i_l][6]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][6]>100))
											{cell_av[6-i_l][6]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][6]!=0))
											  break;
										  cell_av[6-i_l][6]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6][6+i_l]>100))
											{cell_av[6][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6][6+i_l]!=0))
											  break;
										  cell_av[6][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6][6-i_l]>100))
											{cell_av[6][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6][6-i_l]!=0))
											  break;
										  cell_av[6][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][6]>0)&&(cell[6+i_l][6]<100))
											{cell_av[6+i_l][6]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][6]!=0))
											  break;
										  cell_av[6+i_l][6]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][6]>0)&&(cell[6-i_l][6]<100))
											{cell_av[6-i_l][6]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][6]!=0))
											  break;
										  cell_av[6-i_l][6]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6][6+i_l]>0)&&(cell[6][6+i_l]<100))
											{cell_av[6][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6][6+i_l]!=0))
											  break;
										  cell_av[6][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6][6-i_l]>0)&&(cell[6][6-i_l]<100))
											{cell_av[6][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6][6-i_l]!=0))
											  break;
										  cell_av[6][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(6+i_l<8)&&(cell[6+i_l][6+i_l]>100))
											{cell_av[6+i_l][6+i_l]=1;
											 var i_r=7-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(6+i_l>7)||(cell[6+i_l][6+i_l]!=0))
											  break;
										  cell_av[6+i_l][6+i_l]=1;
										  var i_r=7-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(6-i_l>=0)&&(cell[6-i_l][6-i_l]>100))
											{cell_av[6-i_l][6-i_l]=1;
											 var i_r=7-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(6-i_l<0)||(cell[6-i_l][6-i_l]!=0))
											  break;
										  cell_av[6-i_l][6-i_l]=1;
										  var i_r=7-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(6+i_l<8)&&(cell[6-i_l][6+i_l]>100))
											{cell_av[6-i_l][6+i_l]=1;
											 var i_r=7-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(6+i_l>7)||(cell[6-i_l][6+i_l]!=0))
											  break;
										  cell_av[6-i_l][6+i_l]=1;
										  var i_r=7-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(6-i_l>=0)&&(cell[6+i_l][6-i_l]>100))
											{cell_av[6+i_l][6-i_l]=1;
											 var i_r=7-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(6-i_l<0)||(cell[6+i_l][6-i_l]!=0))
											  break;
										  cell_av[6+i_l][6-i_l]=1;
										  var i_r=7-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(6+i_l<8)&&(cell[6+i_l][6+i_l]>0)&&(cell[6+i_l][6+i_l]<100))
											{cell_av[6+i_l][6+i_l]=1;
											 var i_r=7-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(6+i_l>7)||(cell[6+i_l][6+i_l]!=0))
											  break;
										  cell_av[6+i_l][6+i_l]=1;
										  var i_r=7-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(6-i_l>=0)&&(cell[6-i_l][6-i_l]>0)&&(cell[6-i_l][6-i_l]<100))
											{cell_av[6-i_l][6-i_l]=1;
											 var i_r=7-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(6-i_l<0)||(cell[6-i_l][6-i_l]!=0))
											  break;
										  cell_av[6-i_l][6-i_l]=1;
										  var i_r=7-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(6+i_l<8)&&(cell[6-i_l][6+i_l]>0)&&(cell[6-i_l][6+i_l]<100))
											{cell_av[6-i_l][6+i_l]=1;
											 var i_r=7-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(6+i_l>7)||(cell[6-i_l][6+i_l]!=0))
											  break;
										  cell_av[6-i_l][6+i_l]=1;
										  var i_r=7-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(6-i_l>=0)&&(cell[6+i_l][6-i_l]>0)&&(cell[6+i_l][6-i_l]<100))
											{cell_av[6+i_l][6-i_l]=1;
											 var i_r=7-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(6-i_l<0)||(cell[6+i_l][6-i_l]!=0))
											  break;
										  cell_av[6+i_l][6-i_l]=1;
										  var i_r=7-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(7<8)&&(cell[8][7]==0))
										  {//2 точка
										  cell_av[8][7]=1;
										  document.getElementById('td_h'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(7<8)&&(cell[8][7]*(cell[8][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][7]=1;
										  document.getElementById('td_h'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(8<8)&&(cell[7][8]==0)) 	 
										  {
										  cell_av[7][8]=1;
										  document.getElementById('td_i'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(8<8)&&(cell[7][8]*(cell[7][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][8]=1;
										  document.getElementById('td_i'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4>=0)&&(cell[7][4]==0)) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(4>=0)&&(cell[7][4]*(cell[7][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][4]=1;
										  document.getElementById('td_e'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5>=0)&&(cell[8][5]==0)) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5>=0)&&(cell[8][5]*(cell[8][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(7<8)&&(cell[4][7]==0))
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(7<8)&&(cell[4][7]*(cell[4][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][7]=1;
										  document.getElementById('td_h'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(8<8)&&(cell[5][8]==0)) 	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(8<8)&&(cell[5][8]*(cell[5][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4>=0)&&(cell[5][4]==0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4>=0)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5>=0)&&(cell[4][5]==0)) 	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(5>=0)&&(cell[4][5]*(cell[4][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][5]=1;
										  document.getElementById('td_f'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][6]==0) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][6]==0))	 
												  {
												  cell_av[4][6]=1;
												  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][7]>0)&&(cell[5][7]<100)) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][5]>0)&&(cell[5][5]<100)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp111.png" height=45></td><td id=td_h7 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[6][7]!=0)
								 {cur_i=6;cur_ii=7;
								 arm=cell[6][7];
								 cell[6][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[7][7]==0) 	 
										  {
										  cell_av[7][7]=1;
										  document.getElementById('td_h8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==2)&&(cell[8][7]==0))	 
											  {
											  cell_av[8][7]=1;
											  document.getElementById('td_h9').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[7][8]>100) 	 
										  {
										  cell_av[7][8]=1;
										  document.getElementById('td_i8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[7][6]>100) 	 
										  {
										  cell_av[7][6]=1;
										  document.getElementById('td_g8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][7]>100))
											{cell_av[6+i_l][7]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][7]!=0))
											  break;
										  cell_av[6+i_l][7]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][7]>100))
											{cell_av[6-i_l][7]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][7]!=0))
											  break;
										  cell_av[6-i_l][7]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[6][7+i_l]>100))
											{cell_av[6][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[6][7+i_l]!=0))
											  break;
										  cell_av[6][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[6][7-i_l]>100))
											{cell_av[6][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[6][7-i_l]!=0))
											  break;
										  cell_av[6][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[6+i_l][7]>0)&&(cell[6+i_l][7]<100))
											{cell_av[6+i_l][7]=1;
											 var i_r=7-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[6+i_l][7]!=0))
											  break;
										  cell_av[6+i_l][7]=1;
										  var i_r=7-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[6-i_l][7]>0)&&(cell[6-i_l][7]<100))
											{cell_av[6-i_l][7]=1;
											 var i_r=7-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[6-i_l][7]!=0))
											  break;
										  cell_av[6-i_l][7]=1;
										  var i_r=7-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[6][7+i_l]>0)&&(cell[6][7+i_l]<100))
											{cell_av[6][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[6][7+i_l]!=0))
											  break;
										  cell_av[6][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[6][7-i_l]>0)&&(cell[6][7-i_l]<100))
											{cell_av[6][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[6][7-i_l]!=0))
											  break;
										  cell_av[6][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(7+i_l<8)&&(cell[6+i_l][7+i_l]>100))
											{cell_av[6+i_l][7+i_l]=1;
											 var i_r=7-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(7+i_l>7)||(cell[6+i_l][7+i_l]!=0))
											  break;
										  cell_av[6+i_l][7+i_l]=1;
										  var i_r=7-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(7-i_l>=0)&&(cell[6-i_l][7-i_l]>100))
											{cell_av[6-i_l][7-i_l]=1;
											 var i_r=7-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(7-i_l<0)||(cell[6-i_l][7-i_l]!=0))
											  break;
										  cell_av[6-i_l][7-i_l]=1;
										  var i_r=7-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(7+i_l<8)&&(cell[6-i_l][7+i_l]>100))
											{cell_av[6-i_l][7+i_l]=1;
											 var i_r=7-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(7+i_l>7)||(cell[6-i_l][7+i_l]!=0))
											  break;
										  cell_av[6-i_l][7+i_l]=1;
										  var i_r=7-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(7-i_l>=0)&&(cell[6+i_l][7-i_l]>100))
											{cell_av[6+i_l][7-i_l]=1;
											 var i_r=7-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(7-i_l<0)||(cell[6+i_l][7-i_l]!=0))
											  break;
										  cell_av[6+i_l][7-i_l]=1;
										  var i_r=7-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(7+i_l<8)&&(cell[6+i_l][7+i_l]>0)&&(cell[6+i_l][7+i_l]<100))
											{cell_av[6+i_l][7+i_l]=1;
											 var i_r=7-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(7+i_l>7)||(cell[6+i_l][7+i_l]!=0))
											  break;
										  cell_av[6+i_l][7+i_l]=1;
										  var i_r=7-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(7-i_l>=0)&&(cell[6-i_l][7-i_l]>0)&&(cell[6-i_l][7-i_l]<100))
											{cell_av[6-i_l][7-i_l]=1;
											 var i_r=7-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(7-i_l<0)||(cell[6-i_l][7-i_l]!=0))
											  break;
										  cell_av[6-i_l][7-i_l]=1;
										  var i_r=7-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(7+i_l<8)&&(cell[6-i_l][7+i_l]>0)&&(cell[6-i_l][7+i_l]<100))
											{cell_av[6-i_l][7+i_l]=1;
											 var i_r=7-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(7+i_l>7)||(cell[6-i_l][7+i_l]!=0))
											  break;
										  cell_av[6-i_l][7+i_l]=1;
										  var i_r=7-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(7-i_l>=0)&&(cell[6+i_l][7-i_l]>0)&&(cell[6+i_l][7-i_l]<100))
											{cell_av[6+i_l][7-i_l]=1;
											 var i_r=7-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(7-i_l<0)||(cell[6+i_l][7-i_l]!=0))
											  break;
										  cell_av[6+i_l][7-i_l]=1;
										  var i_r=7-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((8<8)&&(8<8)&&(cell[8][8]==0))
										  {//2 точка
										  cell_av[8][8]=1;
										  document.getElementById('td_i'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(8<8)&&(cell[8][8]*(cell[8][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][8]=1;
										  document.getElementById('td_i'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(9<8)&&(cell[7][9]==0)) 	 
										  {
										  cell_av[7][9]=1;
										  document.getElementById('td_j'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(9<8)&&(cell[7][9]*(cell[7][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[7][9]=1;
										  document.getElementById('td_j'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5>=0)&&(cell[7][5]==0)) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((7<8)&&(5>=0)&&(cell[7][5]*(cell[7][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[7][5]=1;
										  document.getElementById('td_f'+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(6>=0)&&(cell[8][6]==0)) 	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(6>=0)&&(cell[8][6]*(cell[8][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((4>=0)&&(8<8)&&(cell[4][8]==0))
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(8<8)&&(cell[4][8]*(cell[4][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[4][8]=1;
										  document.getElementById('td_i'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(9<8)&&(cell[5][9]==0)) 	 
										  {
										  cell_av[5][9]=1;
										  document.getElementById('td_j'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(9<8)&&(cell[5][9]*(cell[5][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][9]=1;
										  document.getElementById('td_j'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5>=0)&&(cell[5][5]==0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5>=0)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(6>=0)&&(cell[4][6]==0)) 	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((4>=0)&&(6>=0)&&(cell[4][6]*(cell[4][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[4][6]=1;
										  document.getElementById('td_g'+'5').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[5][7]==0) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((7==7)&&(cell[4][7]==0))	 
												  {
												  cell_av[4][7]=1;
												  document.getElementById('td_h'+'5').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[5][8]>0)&&(cell[5][8]<100)) 	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[5][6]>0)&&(cell[5][6]<100)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[6][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[6][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[6][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[6][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[6][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(7==8))arm=4;
										if((arm==111)&&(7==1))arm=104;
										cell[6][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+7;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[6][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[6][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp111.png" height=45></td><td id=td_i7 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>7</h3></td></tr><tr><td id=td_`8 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>8</h3></td><td id=td_a8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][0]!=0)
								 {cur_i=7;cur_ii=0;
								 arm=cell[7][0];
								 cell[7][0]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][0]==0) 	 
										  {
										  cell_av[8][0]=1;
										  document.getElementById('td_a9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][0]==0))	 
											  {
											  cell_av[9][0]=1;
											  document.getElementById('td_a10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][1]>100) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][-1]>100) 	 
										  {
										  cell_av[8][-1]=1;
										  document.getElementById('td_`9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][0]>100))
											{cell_av[7+i_l][0]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][0]!=0))
											  break;
										  cell_av[7+i_l][0]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][0]>100))
											{cell_av[7-i_l][0]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][0]!=0))
											  break;
										  cell_av[7-i_l][0]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[7][0+i_l]>100))
											{cell_av[7][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[7][0+i_l]!=0))
											  break;
										  cell_av[7][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[7][0-i_l]>100))
											{cell_av[7][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[7][0-i_l]!=0))
											  break;
										  cell_av[7][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][0]>0)&&(cell[7+i_l][0]<100))
											{cell_av[7+i_l][0]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][0]!=0))
											  break;
										  cell_av[7+i_l][0]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][0]>0)&&(cell[7-i_l][0]<100))
											{cell_av[7-i_l][0]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_a'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][0]!=0))
											  break;
										  cell_av[7-i_l][0]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_a'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0+i_l<8)&&(cell[7][0+i_l]>0)&&(cell[7][0+i_l]<100))
											{cell_av[7][0+i_l]=1;
											 var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0+i_l>7)||(cell[7][0+i_l]!=0))
											  break;
										  cell_av[7][0+i_l]=1;
										  var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((0-i_l>=0)&&(cell[7][0-i_l]>0)&&(cell[7][0-i_l]<100))
											{cell_av[7][0-i_l]=1;
											 var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((0-i_l<0)||(cell[7][0-i_l]!=0))
											  break;
										  cell_av[7][0-i_l]=1;
										  var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(0+i_l<8)&&(cell[7+i_l][0+i_l]>100))
											{cell_av[7+i_l][0+i_l]=1;
											 var i_r=8-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(0+i_l>7)||(cell[7+i_l][0+i_l]!=0))
											  break;
										  cell_av[7+i_l][0+i_l]=1;
										  var i_r=8-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(0-i_l>=0)&&(cell[7-i_l][0-i_l]>100))
											{cell_av[7-i_l][0-i_l]=1;
											 var i_r=8-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(0-i_l<0)||(cell[7-i_l][0-i_l]!=0))
											  break;
										  cell_av[7-i_l][0-i_l]=1;
										  var i_r=8-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(0+i_l<8)&&(cell[7-i_l][0+i_l]>100))
											{cell_av[7-i_l][0+i_l]=1;
											 var i_r=8-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(0+i_l>7)||(cell[7-i_l][0+i_l]!=0))
											  break;
										  cell_av[7-i_l][0+i_l]=1;
										  var i_r=8-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(0-i_l>=0)&&(cell[7+i_l][0-i_l]>100))
											{cell_av[7+i_l][0-i_l]=1;
											 var i_r=8-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(0-i_l<0)||(cell[7+i_l][0-i_l]!=0))
											  break;
										  cell_av[7+i_l][0-i_l]=1;
										  var i_r=8-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(0+i_l<8)&&(cell[7+i_l][0+i_l]>0)&&(cell[7+i_l][0+i_l]<100))
											{cell_av[7+i_l][0+i_l]=1;
											 var i_r=8-0+i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(0+i_l>7)||(cell[7+i_l][0+i_l]!=0))
											  break;
										  cell_av[7+i_l][0+i_l]=1;
										  var i_r=8-0+i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(0-i_l>=0)&&(cell[7-i_l][0-i_l]>0)&&(cell[7-i_l][0-i_l]<100))
											{cell_av[7-i_l][0-i_l]=1;
											 var i_r=8-0-i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(0-i_l<0)||(cell[7-i_l][0-i_l]!=0))
											  break;
										  cell_av[7-i_l][0-i_l]=1;
										  var i_r=8-0-i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(0+i_l<8)&&(cell[7-i_l][0+i_l]>0)&&(cell[7-i_l][0+i_l]<100))
											{cell_av[7-i_l][0+i_l]=1;
											 var i_r=8-0-i_l;var i_c=1-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(0+i_l>7)||(cell[7-i_l][0+i_l]!=0))
											  break;
										  cell_av[7-i_l][0+i_l]=1;
										  var i_r=8-0-i_l;var i_c=1-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(0-i_l>=0)&&(cell[7+i_l][0-i_l]>0)&&(cell[7+i_l][0-i_l]<100))
											{cell_av[7+i_l][0-i_l]=1;
											 var i_r=8-0+i_l;var i_c=1-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(0-i_l<0)||(cell[7+i_l][0-i_l]!=0))
											  break;
										  cell_av[7+i_l][0-i_l]=1;
										  var i_r=8-0+i_l;var i_c=1-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(1<8)&&(cell[9][1]==0))
										  {//2 точка
										  cell_av[9][1]=1;
										  document.getElementById('td_b'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(1<8)&&(cell[9][1]*(cell[9][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][1]=1;
										  document.getElementById('td_b'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2<8)&&(cell[8][2]==0)) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2<8)&&(cell[8][2]*(cell[8][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(-2>=0)&&(cell[8][-2]==0)) 	 
										  {
										  cell_av[8][-2]=1;
										  document.getElementById('td__'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(-2>=0)&&(cell[8][-2]*(cell[8][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][-2]=1;
										  document.getElementById('td__'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(-1>=0)&&(cell[9][-1]==0)) 	 
										  {
										  cell_av[9][-1]=1;
										  document.getElementById('td_`'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(-1>=0)&&(cell[9][-1]*(cell[9][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][-1]=1;
										  document.getElementById('td_`'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(1<8)&&(cell[5][1]==0))
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(1<8)&&(cell[5][1]*(cell[5][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(2<8)&&(cell[6][2]==0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(2<8)&&(cell[6][2]*(cell[6][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(-2>=0)&&(cell[6][-2]==0)) 	 
										  {
										  cell_av[6][-2]=1;
										  document.getElementById('td__'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(-2>=0)&&(cell[6][-2]*(cell[6][-2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][-2]=1;
										  document.getElementById('td__'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(-1>=0)&&(cell[5][-1]==0)) 	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(-1>=0)&&(cell[5][-1]*(cell[5][-1]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][-1]=1;
										  document.getElementById('td_`'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][0]==0) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][0]==0))	 
												  {
												  cell_av[5][0]=1;
												  document.getElementById('td_a'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][1]>0)&&(cell[6][1]<100)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][-1]>0)&&(cell[6][-1]<100)) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][0]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][0]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][0]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][0]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][0]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][0]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='a'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][0]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][0]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp101.png" height=45></td><td id=td_b8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][1]!=0)
								 {cur_i=7;cur_ii=1;
								 arm=cell[7][1];
								 cell[7][1]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][1]==0) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][1]==0))	 
											  {
											  cell_av[9][1]=1;
											  document.getElementById('td_b10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][2]>100) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][0]>100) 	 
										  {
										  cell_av[8][0]=1;
										  document.getElementById('td_a9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][1]>100))
											{cell_av[7+i_l][1]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][1]!=0))
											  break;
										  cell_av[7+i_l][1]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][1]>100))
											{cell_av[7-i_l][1]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][1]!=0))
											  break;
										  cell_av[7-i_l][1]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[7][1+i_l]>100))
											{cell_av[7][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[7][1+i_l]!=0))
											  break;
										  cell_av[7][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[7][1-i_l]>100))
											{cell_av[7][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[7][1-i_l]!=0))
											  break;
										  cell_av[7][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][1]>0)&&(cell[7+i_l][1]<100))
											{cell_av[7+i_l][1]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][1]!=0))
											  break;
										  cell_av[7+i_l][1]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][1]>0)&&(cell[7-i_l][1]<100))
											{cell_av[7-i_l][1]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_b'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][1]!=0))
											  break;
										  cell_av[7-i_l][1]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_b'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1+i_l<8)&&(cell[7][1+i_l]>0)&&(cell[7][1+i_l]<100))
											{cell_av[7][1+i_l]=1;
											 var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1+i_l>7)||(cell[7][1+i_l]!=0))
											  break;
										  cell_av[7][1+i_l]=1;
										  var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((1-i_l>=0)&&(cell[7][1-i_l]>0)&&(cell[7][1-i_l]<100))
											{cell_av[7][1-i_l]=1;
											 var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((1-i_l<0)||(cell[7][1-i_l]!=0))
											  break;
										  cell_av[7][1-i_l]=1;
										  var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(1+i_l<8)&&(cell[7+i_l][1+i_l]>100))
											{cell_av[7+i_l][1+i_l]=1;
											 var i_r=8-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(1+i_l>7)||(cell[7+i_l][1+i_l]!=0))
											  break;
										  cell_av[7+i_l][1+i_l]=1;
										  var i_r=8-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(1-i_l>=0)&&(cell[7-i_l][1-i_l]>100))
											{cell_av[7-i_l][1-i_l]=1;
											 var i_r=8-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(1-i_l<0)||(cell[7-i_l][1-i_l]!=0))
											  break;
										  cell_av[7-i_l][1-i_l]=1;
										  var i_r=8-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(1+i_l<8)&&(cell[7-i_l][1+i_l]>100))
											{cell_av[7-i_l][1+i_l]=1;
											 var i_r=8-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(1+i_l>7)||(cell[7-i_l][1+i_l]!=0))
											  break;
										  cell_av[7-i_l][1+i_l]=1;
										  var i_r=8-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(1-i_l>=0)&&(cell[7+i_l][1-i_l]>100))
											{cell_av[7+i_l][1-i_l]=1;
											 var i_r=8-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(1-i_l<0)||(cell[7+i_l][1-i_l]!=0))
											  break;
										  cell_av[7+i_l][1-i_l]=1;
										  var i_r=8-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(1+i_l<8)&&(cell[7+i_l][1+i_l]>0)&&(cell[7+i_l][1+i_l]<100))
											{cell_av[7+i_l][1+i_l]=1;
											 var i_r=8-0+i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(1+i_l>7)||(cell[7+i_l][1+i_l]!=0))
											  break;
										  cell_av[7+i_l][1+i_l]=1;
										  var i_r=8-0+i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(1-i_l>=0)&&(cell[7-i_l][1-i_l]>0)&&(cell[7-i_l][1-i_l]<100))
											{cell_av[7-i_l][1-i_l]=1;
											 var i_r=8-0-i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(1-i_l<0)||(cell[7-i_l][1-i_l]!=0))
											  break;
										  cell_av[7-i_l][1-i_l]=1;
										  var i_r=8-0-i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(1+i_l<8)&&(cell[7-i_l][1+i_l]>0)&&(cell[7-i_l][1+i_l]<100))
											{cell_av[7-i_l][1+i_l]=1;
											 var i_r=8-0-i_l;var i_c=2-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(1+i_l>7)||(cell[7-i_l][1+i_l]!=0))
											  break;
										  cell_av[7-i_l][1+i_l]=1;
										  var i_r=8-0-i_l;var i_c=2-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(1-i_l>=0)&&(cell[7+i_l][1-i_l]>0)&&(cell[7+i_l][1-i_l]<100))
											{cell_av[7+i_l][1-i_l]=1;
											 var i_r=8-0+i_l;var i_c=2-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(1-i_l<0)||(cell[7+i_l][1-i_l]!=0))
											  break;
										  cell_av[7+i_l][1-i_l]=1;
										  var i_r=8-0+i_l;var i_c=2-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(2<8)&&(cell[9][2]==0))
										  {//2 точка
										  cell_av[9][2]=1;
										  document.getElementById('td_c'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(2<8)&&(cell[9][2]*(cell[9][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][2]=1;
										  document.getElementById('td_c'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3<8)&&(cell[8][3]==0)) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3<8)&&(cell[8][3]*(cell[8][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(-1>=0)&&(cell[8][-1]==0)) 	 
										  {
										  cell_av[8][-1]=1;
										  document.getElementById('td_`'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(-1>=0)&&(cell[8][-1]*(cell[8][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][-1]=1;
										  document.getElementById('td_`'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(0>=0)&&(cell[9][0]==0)) 	 
										  {
										  cell_av[9][0]=1;
										  document.getElementById('td_a'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(0>=0)&&(cell[9][0]*(cell[9][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][0]=1;
										  document.getElementById('td_a'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(2<8)&&(cell[5][2]==0))
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2<8)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(3<8)&&(cell[6][3]==0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(3<8)&&(cell[6][3]*(cell[6][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(-1>=0)&&(cell[6][-1]==0)) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(-1>=0)&&(cell[6][-1]*(cell[6][-1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][-1]=1;
										  document.getElementById('td_`'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(0>=0)&&(cell[5][0]==0)) 	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(0>=0)&&(cell[5][0]*(cell[5][0]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][0]=1;
										  document.getElementById('td_a'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][1]==0) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][1]==0))	 
												  {
												  cell_av[5][1]=1;
												  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][2]>0)&&(cell[6][2]<100)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][0]>0)&&(cell[6][0]<100)) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][1]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][1]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][1]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][1]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][1]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][1]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='b'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][1]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][1]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp102.png" height=45></td><td id=td_c8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][2]!=0)
								 {cur_i=7;cur_ii=2;
								 arm=cell[7][2];
								 cell[7][2]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][2]==0) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][2]==0))	 
											  {
											  cell_av[9][2]=1;
											  document.getElementById('td_c10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][3]>100) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][1]>100) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][2]>100))
											{cell_av[7+i_l][2]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][2]!=0))
											  break;
										  cell_av[7+i_l][2]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][2]>100))
											{cell_av[7-i_l][2]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][2]!=0))
											  break;
										  cell_av[7-i_l][2]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[7][2+i_l]>100))
											{cell_av[7][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[7][2+i_l]!=0))
											  break;
										  cell_av[7][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[7][2-i_l]>100))
											{cell_av[7][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[7][2-i_l]!=0))
											  break;
										  cell_av[7][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][2]>0)&&(cell[7+i_l][2]<100))
											{cell_av[7+i_l][2]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][2]!=0))
											  break;
										  cell_av[7+i_l][2]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][2]>0)&&(cell[7-i_l][2]<100))
											{cell_av[7-i_l][2]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_c'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][2]!=0))
											  break;
										  cell_av[7-i_l][2]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_c'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2+i_l<8)&&(cell[7][2+i_l]>0)&&(cell[7][2+i_l]<100))
											{cell_av[7][2+i_l]=1;
											 var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2+i_l>7)||(cell[7][2+i_l]!=0))
											  break;
										  cell_av[7][2+i_l]=1;
										  var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((2-i_l>=0)&&(cell[7][2-i_l]>0)&&(cell[7][2-i_l]<100))
											{cell_av[7][2-i_l]=1;
											 var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((2-i_l<0)||(cell[7][2-i_l]!=0))
											  break;
										  cell_av[7][2-i_l]=1;
										  var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(2+i_l<8)&&(cell[7+i_l][2+i_l]>100))
											{cell_av[7+i_l][2+i_l]=1;
											 var i_r=8-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(2+i_l>7)||(cell[7+i_l][2+i_l]!=0))
											  break;
										  cell_av[7+i_l][2+i_l]=1;
										  var i_r=8-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(2-i_l>=0)&&(cell[7-i_l][2-i_l]>100))
											{cell_av[7-i_l][2-i_l]=1;
											 var i_r=8-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(2-i_l<0)||(cell[7-i_l][2-i_l]!=0))
											  break;
										  cell_av[7-i_l][2-i_l]=1;
										  var i_r=8-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(2+i_l<8)&&(cell[7-i_l][2+i_l]>100))
											{cell_av[7-i_l][2+i_l]=1;
											 var i_r=8-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(2+i_l>7)||(cell[7-i_l][2+i_l]!=0))
											  break;
										  cell_av[7-i_l][2+i_l]=1;
										  var i_r=8-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(2-i_l>=0)&&(cell[7+i_l][2-i_l]>100))
											{cell_av[7+i_l][2-i_l]=1;
											 var i_r=8-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(2-i_l<0)||(cell[7+i_l][2-i_l]!=0))
											  break;
										  cell_av[7+i_l][2-i_l]=1;
										  var i_r=8-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(2+i_l<8)&&(cell[7+i_l][2+i_l]>0)&&(cell[7+i_l][2+i_l]<100))
											{cell_av[7+i_l][2+i_l]=1;
											 var i_r=8-0+i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(2+i_l>7)||(cell[7+i_l][2+i_l]!=0))
											  break;
										  cell_av[7+i_l][2+i_l]=1;
										  var i_r=8-0+i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(2-i_l>=0)&&(cell[7-i_l][2-i_l]>0)&&(cell[7-i_l][2-i_l]<100))
											{cell_av[7-i_l][2-i_l]=1;
											 var i_r=8-0-i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(2-i_l<0)||(cell[7-i_l][2-i_l]!=0))
											  break;
										  cell_av[7-i_l][2-i_l]=1;
										  var i_r=8-0-i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(2+i_l<8)&&(cell[7-i_l][2+i_l]>0)&&(cell[7-i_l][2+i_l]<100))
											{cell_av[7-i_l][2+i_l]=1;
											 var i_r=8-0-i_l;var i_c=3-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(2+i_l>7)||(cell[7-i_l][2+i_l]!=0))
											  break;
										  cell_av[7-i_l][2+i_l]=1;
										  var i_r=8-0-i_l;var i_c=3-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(2-i_l>=0)&&(cell[7+i_l][2-i_l]>0)&&(cell[7+i_l][2-i_l]<100))
											{cell_av[7+i_l][2-i_l]=1;
											 var i_r=8-0+i_l;var i_c=3-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(2-i_l<0)||(cell[7+i_l][2-i_l]!=0))
											  break;
										  cell_av[7+i_l][2-i_l]=1;
										  var i_r=8-0+i_l;var i_c=3-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(3<8)&&(cell[9][3]==0))
										  {//2 точка
										  cell_av[9][3]=1;
										  document.getElementById('td_d'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(3<8)&&(cell[9][3]*(cell[9][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][3]=1;
										  document.getElementById('td_d'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4<8)&&(cell[8][4]==0)) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4<8)&&(cell[8][4]*(cell[8][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(0>=0)&&(cell[8][0]==0)) 	 
										  {
										  cell_av[8][0]=1;
										  document.getElementById('td_a'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(0>=0)&&(cell[8][0]*(cell[8][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][0]=1;
										  document.getElementById('td_a'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(1>=0)&&(cell[9][1]==0)) 	 
										  {
										  cell_av[9][1]=1;
										  document.getElementById('td_b'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(1>=0)&&(cell[9][1]*(cell[9][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][1]=1;
										  document.getElementById('td_b'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(3<8)&&(cell[5][3]==0))
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3<8)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(4<8)&&(cell[6][4]==0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(4<8)&&(cell[6][4]*(cell[6][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(0>=0)&&(cell[6][0]==0)) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(0>=0)&&(cell[6][0]*(cell[6][0]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][0]=1;
										  document.getElementById('td_a'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(1>=0)&&(cell[5][1]==0)) 	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(1>=0)&&(cell[5][1]*(cell[5][1]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][1]=1;
										  document.getElementById('td_b'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][2]==0) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][2]==0))	 
												  {
												  cell_av[5][2]=1;
												  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][3]>0)&&(cell[6][3]<100)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][1]>0)&&(cell[6][1]<100)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][2]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][2]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][2]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][2]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][2]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][2]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='c'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][2]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][2]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp103.png" height=45></td><td id=td_d8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][3]!=0)
								 {cur_i=7;cur_ii=3;
								 arm=cell[7][3];
								 cell[7][3]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][3]==0) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][3]==0))	 
											  {
											  cell_av[9][3]=1;
											  document.getElementById('td_d10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][4]>100) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][2]>100) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][3]>100))
											{cell_av[7+i_l][3]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][3]!=0))
											  break;
										  cell_av[7+i_l][3]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][3]>100))
											{cell_av[7-i_l][3]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][3]!=0))
											  break;
										  cell_av[7-i_l][3]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[7][3+i_l]>100))
											{cell_av[7][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[7][3+i_l]!=0))
											  break;
										  cell_av[7][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[7][3-i_l]>100))
											{cell_av[7][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[7][3-i_l]!=0))
											  break;
										  cell_av[7][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][3]>0)&&(cell[7+i_l][3]<100))
											{cell_av[7+i_l][3]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][3]!=0))
											  break;
										  cell_av[7+i_l][3]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][3]>0)&&(cell[7-i_l][3]<100))
											{cell_av[7-i_l][3]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_d'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][3]!=0))
											  break;
										  cell_av[7-i_l][3]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_d'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3+i_l<8)&&(cell[7][3+i_l]>0)&&(cell[7][3+i_l]<100))
											{cell_av[7][3+i_l]=1;
											 var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3+i_l>7)||(cell[7][3+i_l]!=0))
											  break;
										  cell_av[7][3+i_l]=1;
										  var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((3-i_l>=0)&&(cell[7][3-i_l]>0)&&(cell[7][3-i_l]<100))
											{cell_av[7][3-i_l]=1;
											 var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((3-i_l<0)||(cell[7][3-i_l]!=0))
											  break;
										  cell_av[7][3-i_l]=1;
										  var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(3+i_l<8)&&(cell[7+i_l][3+i_l]>100))
											{cell_av[7+i_l][3+i_l]=1;
											 var i_r=8-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(3+i_l>7)||(cell[7+i_l][3+i_l]!=0))
											  break;
										  cell_av[7+i_l][3+i_l]=1;
										  var i_r=8-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(3-i_l>=0)&&(cell[7-i_l][3-i_l]>100))
											{cell_av[7-i_l][3-i_l]=1;
											 var i_r=8-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(3-i_l<0)||(cell[7-i_l][3-i_l]!=0))
											  break;
										  cell_av[7-i_l][3-i_l]=1;
										  var i_r=8-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(3+i_l<8)&&(cell[7-i_l][3+i_l]>100))
											{cell_av[7-i_l][3+i_l]=1;
											 var i_r=8-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(3+i_l>7)||(cell[7-i_l][3+i_l]!=0))
											  break;
										  cell_av[7-i_l][3+i_l]=1;
										  var i_r=8-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(3-i_l>=0)&&(cell[7+i_l][3-i_l]>100))
											{cell_av[7+i_l][3-i_l]=1;
											 var i_r=8-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(3-i_l<0)||(cell[7+i_l][3-i_l]!=0))
											  break;
										  cell_av[7+i_l][3-i_l]=1;
										  var i_r=8-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(3+i_l<8)&&(cell[7+i_l][3+i_l]>0)&&(cell[7+i_l][3+i_l]<100))
											{cell_av[7+i_l][3+i_l]=1;
											 var i_r=8-0+i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(3+i_l>7)||(cell[7+i_l][3+i_l]!=0))
											  break;
										  cell_av[7+i_l][3+i_l]=1;
										  var i_r=8-0+i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(3-i_l>=0)&&(cell[7-i_l][3-i_l]>0)&&(cell[7-i_l][3-i_l]<100))
											{cell_av[7-i_l][3-i_l]=1;
											 var i_r=8-0-i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(3-i_l<0)||(cell[7-i_l][3-i_l]!=0))
											  break;
										  cell_av[7-i_l][3-i_l]=1;
										  var i_r=8-0-i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(3+i_l<8)&&(cell[7-i_l][3+i_l]>0)&&(cell[7-i_l][3+i_l]<100))
											{cell_av[7-i_l][3+i_l]=1;
											 var i_r=8-0-i_l;var i_c=4-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(3+i_l>7)||(cell[7-i_l][3+i_l]!=0))
											  break;
										  cell_av[7-i_l][3+i_l]=1;
										  var i_r=8-0-i_l;var i_c=4-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(3-i_l>=0)&&(cell[7+i_l][3-i_l]>0)&&(cell[7+i_l][3-i_l]<100))
											{cell_av[7+i_l][3-i_l]=1;
											 var i_r=8-0+i_l;var i_c=4-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(3-i_l<0)||(cell[7+i_l][3-i_l]!=0))
											  break;
										  cell_av[7+i_l][3-i_l]=1;
										  var i_r=8-0+i_l;var i_c=4-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(4<8)&&(cell[9][4]==0))
										  {//2 точка
										  cell_av[9][4]=1;
										  document.getElementById('td_e'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(4<8)&&(cell[9][4]*(cell[9][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][4]=1;
										  document.getElementById('td_e'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5<8)&&(cell[8][5]==0)) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5<8)&&(cell[8][5]*(cell[8][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(1>=0)&&(cell[8][1]==0)) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(1>=0)&&(cell[8][1]*(cell[8][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][1]=1;
										  document.getElementById('td_b'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(2>=0)&&(cell[9][2]==0)) 	 
										  {
										  cell_av[9][2]=1;
										  document.getElementById('td_c'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(2>=0)&&(cell[9][2]*(cell[9][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][2]=1;
										  document.getElementById('td_c'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(4<8)&&(cell[5][4]==0))
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4<8)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(5<8)&&(cell[6][5]==0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(5<8)&&(cell[6][5]*(cell[6][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(1>=0)&&(cell[6][1]==0)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(1>=0)&&(cell[6][1]*(cell[6][1]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][1]=1;
										  document.getElementById('td_b'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2>=0)&&(cell[5][2]==0)) 	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(2>=0)&&(cell[5][2]*(cell[5][2]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][2]=1;
										  document.getElementById('td_c'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][3]==0) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][3]==0))	 
												  {
												  cell_av[5][3]=1;
												  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][4]>0)&&(cell[6][4]<100)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][2]>0)&&(cell[6][2]<100)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][3]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][3]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][3]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][3]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][3]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][3]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='d'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][3]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][3]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp104.png" height=45></td><td id=td_e8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][4]!=0)
								 {cur_i=7;cur_ii=4;
								 arm=cell[7][4];
								 cell[7][4]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][4]==0) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][4]==0))	 
											  {
											  cell_av[9][4]=1;
											  document.getElementById('td_e10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][5]>100) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][3]>100) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][4]>100))
											{cell_av[7+i_l][4]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][4]!=0))
											  break;
										  cell_av[7+i_l][4]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][4]>100))
											{cell_av[7-i_l][4]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][4]!=0))
											  break;
										  cell_av[7-i_l][4]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[7][4+i_l]>100))
											{cell_av[7][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[7][4+i_l]!=0))
											  break;
										  cell_av[7][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[7][4-i_l]>100))
											{cell_av[7][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[7][4-i_l]!=0))
											  break;
										  cell_av[7][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][4]>0)&&(cell[7+i_l][4]<100))
											{cell_av[7+i_l][4]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][4]!=0))
											  break;
										  cell_av[7+i_l][4]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][4]>0)&&(cell[7-i_l][4]<100))
											{cell_av[7-i_l][4]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_e'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][4]!=0))
											  break;
										  cell_av[7-i_l][4]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_e'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4+i_l<8)&&(cell[7][4+i_l]>0)&&(cell[7][4+i_l]<100))
											{cell_av[7][4+i_l]=1;
											 var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4+i_l>7)||(cell[7][4+i_l]!=0))
											  break;
										  cell_av[7][4+i_l]=1;
										  var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((4-i_l>=0)&&(cell[7][4-i_l]>0)&&(cell[7][4-i_l]<100))
											{cell_av[7][4-i_l]=1;
											 var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((4-i_l<0)||(cell[7][4-i_l]!=0))
											  break;
										  cell_av[7][4-i_l]=1;
										  var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(4+i_l<8)&&(cell[7+i_l][4+i_l]>100))
											{cell_av[7+i_l][4+i_l]=1;
											 var i_r=8-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(4+i_l>7)||(cell[7+i_l][4+i_l]!=0))
											  break;
										  cell_av[7+i_l][4+i_l]=1;
										  var i_r=8-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(4-i_l>=0)&&(cell[7-i_l][4-i_l]>100))
											{cell_av[7-i_l][4-i_l]=1;
											 var i_r=8-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(4-i_l<0)||(cell[7-i_l][4-i_l]!=0))
											  break;
										  cell_av[7-i_l][4-i_l]=1;
										  var i_r=8-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(4+i_l<8)&&(cell[7-i_l][4+i_l]>100))
											{cell_av[7-i_l][4+i_l]=1;
											 var i_r=8-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(4+i_l>7)||(cell[7-i_l][4+i_l]!=0))
											  break;
										  cell_av[7-i_l][4+i_l]=1;
										  var i_r=8-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(4-i_l>=0)&&(cell[7+i_l][4-i_l]>100))
											{cell_av[7+i_l][4-i_l]=1;
											 var i_r=8-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(4-i_l<0)||(cell[7+i_l][4-i_l]!=0))
											  break;
										  cell_av[7+i_l][4-i_l]=1;
										  var i_r=8-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(4+i_l<8)&&(cell[7+i_l][4+i_l]>0)&&(cell[7+i_l][4+i_l]<100))
											{cell_av[7+i_l][4+i_l]=1;
											 var i_r=8-0+i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(4+i_l>7)||(cell[7+i_l][4+i_l]!=0))
											  break;
										  cell_av[7+i_l][4+i_l]=1;
										  var i_r=8-0+i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(4-i_l>=0)&&(cell[7-i_l][4-i_l]>0)&&(cell[7-i_l][4-i_l]<100))
											{cell_av[7-i_l][4-i_l]=1;
											 var i_r=8-0-i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(4-i_l<0)||(cell[7-i_l][4-i_l]!=0))
											  break;
										  cell_av[7-i_l][4-i_l]=1;
										  var i_r=8-0-i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(4+i_l<8)&&(cell[7-i_l][4+i_l]>0)&&(cell[7-i_l][4+i_l]<100))
											{cell_av[7-i_l][4+i_l]=1;
											 var i_r=8-0-i_l;var i_c=5-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(4+i_l>7)||(cell[7-i_l][4+i_l]!=0))
											  break;
										  cell_av[7-i_l][4+i_l]=1;
										  var i_r=8-0-i_l;var i_c=5-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(4-i_l>=0)&&(cell[7+i_l][4-i_l]>0)&&(cell[7+i_l][4-i_l]<100))
											{cell_av[7+i_l][4-i_l]=1;
											 var i_r=8-0+i_l;var i_c=5-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(4-i_l<0)||(cell[7+i_l][4-i_l]!=0))
											  break;
										  cell_av[7+i_l][4-i_l]=1;
										  var i_r=8-0+i_l;var i_c=5-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(5<8)&&(cell[9][5]==0))
										  {//2 точка
										  cell_av[9][5]=1;
										  document.getElementById('td_f'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(5<8)&&(cell[9][5]*(cell[9][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][5]=1;
										  document.getElementById('td_f'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(6<8)&&(cell[8][6]==0)) 	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(6<8)&&(cell[8][6]*(cell[8][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2>=0)&&(cell[8][2]==0)) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(2>=0)&&(cell[8][2]*(cell[8][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][2]=1;
										  document.getElementById('td_c'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(3>=0)&&(cell[9][3]==0)) 	 
										  {
										  cell_av[9][3]=1;
										  document.getElementById('td_d'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(3>=0)&&(cell[9][3]*(cell[9][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][3]=1;
										  document.getElementById('td_d'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(5<8)&&(cell[5][5]==0))
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5<8)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(6<8)&&(cell[6][6]==0)) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(6<8)&&(cell[6][6]*(cell[6][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(2>=0)&&(cell[6][2]==0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(2>=0)&&(cell[6][2]*(cell[6][2]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][2]=1;
										  document.getElementById('td_c'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3>=0)&&(cell[5][3]==0)) 	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(3>=0)&&(cell[5][3]*(cell[5][3]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][3]=1;
										  document.getElementById('td_d'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][4]==0) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][4]==0))	 
												  {
												  cell_av[5][4]=1;
												  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][5]>0)&&(cell[6][5]<100)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][3]>0)&&(cell[6][3]<100)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][4]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][4]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][4]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][4]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][4]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][4]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='e'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][4]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][4]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp105.png" height=45></td><td id=td_f8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][5]!=0)
								 {cur_i=7;cur_ii=5;
								 arm=cell[7][5];
								 cell[7][5]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][5]==0) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][5]==0))	 
											  {
											  cell_av[9][5]=1;
											  document.getElementById('td_f10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][6]>100) 	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][4]>100) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][5]>100))
											{cell_av[7+i_l][5]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][5]!=0))
											  break;
										  cell_av[7+i_l][5]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][5]>100))
											{cell_av[7-i_l][5]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][5]!=0))
											  break;
										  cell_av[7-i_l][5]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[7][5+i_l]>100))
											{cell_av[7][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[7][5+i_l]!=0))
											  break;
										  cell_av[7][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[7][5-i_l]>100))
											{cell_av[7][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[7][5-i_l]!=0))
											  break;
										  cell_av[7][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][5]>0)&&(cell[7+i_l][5]<100))
											{cell_av[7+i_l][5]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][5]!=0))
											  break;
										  cell_av[7+i_l][5]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][5]>0)&&(cell[7-i_l][5]<100))
											{cell_av[7-i_l][5]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_f'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][5]!=0))
											  break;
										  cell_av[7-i_l][5]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_f'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5+i_l<8)&&(cell[7][5+i_l]>0)&&(cell[7][5+i_l]<100))
											{cell_av[7][5+i_l]=1;
											 var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5+i_l>7)||(cell[7][5+i_l]!=0))
											  break;
										  cell_av[7][5+i_l]=1;
										  var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((5-i_l>=0)&&(cell[7][5-i_l]>0)&&(cell[7][5-i_l]<100))
											{cell_av[7][5-i_l]=1;
											 var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((5-i_l<0)||(cell[7][5-i_l]!=0))
											  break;
										  cell_av[7][5-i_l]=1;
										  var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(5+i_l<8)&&(cell[7+i_l][5+i_l]>100))
											{cell_av[7+i_l][5+i_l]=1;
											 var i_r=8-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(5+i_l>7)||(cell[7+i_l][5+i_l]!=0))
											  break;
										  cell_av[7+i_l][5+i_l]=1;
										  var i_r=8-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(5-i_l>=0)&&(cell[7-i_l][5-i_l]>100))
											{cell_av[7-i_l][5-i_l]=1;
											 var i_r=8-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(5-i_l<0)||(cell[7-i_l][5-i_l]!=0))
											  break;
										  cell_av[7-i_l][5-i_l]=1;
										  var i_r=8-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(5+i_l<8)&&(cell[7-i_l][5+i_l]>100))
											{cell_av[7-i_l][5+i_l]=1;
											 var i_r=8-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(5+i_l>7)||(cell[7-i_l][5+i_l]!=0))
											  break;
										  cell_av[7-i_l][5+i_l]=1;
										  var i_r=8-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(5-i_l>=0)&&(cell[7+i_l][5-i_l]>100))
											{cell_av[7+i_l][5-i_l]=1;
											 var i_r=8-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(5-i_l<0)||(cell[7+i_l][5-i_l]!=0))
											  break;
										  cell_av[7+i_l][5-i_l]=1;
										  var i_r=8-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(5+i_l<8)&&(cell[7+i_l][5+i_l]>0)&&(cell[7+i_l][5+i_l]<100))
											{cell_av[7+i_l][5+i_l]=1;
											 var i_r=8-0+i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(5+i_l>7)||(cell[7+i_l][5+i_l]!=0))
											  break;
										  cell_av[7+i_l][5+i_l]=1;
										  var i_r=8-0+i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(5-i_l>=0)&&(cell[7-i_l][5-i_l]>0)&&(cell[7-i_l][5-i_l]<100))
											{cell_av[7-i_l][5-i_l]=1;
											 var i_r=8-0-i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(5-i_l<0)||(cell[7-i_l][5-i_l]!=0))
											  break;
										  cell_av[7-i_l][5-i_l]=1;
										  var i_r=8-0-i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(5+i_l<8)&&(cell[7-i_l][5+i_l]>0)&&(cell[7-i_l][5+i_l]<100))
											{cell_av[7-i_l][5+i_l]=1;
											 var i_r=8-0-i_l;var i_c=6-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(5+i_l>7)||(cell[7-i_l][5+i_l]!=0))
											  break;
										  cell_av[7-i_l][5+i_l]=1;
										  var i_r=8-0-i_l;var i_c=6-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(5-i_l>=0)&&(cell[7+i_l][5-i_l]>0)&&(cell[7+i_l][5-i_l]<100))
											{cell_av[7+i_l][5-i_l]=1;
											 var i_r=8-0+i_l;var i_c=6-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(5-i_l<0)||(cell[7+i_l][5-i_l]!=0))
											  break;
										  cell_av[7+i_l][5-i_l]=1;
										  var i_r=8-0+i_l;var i_c=6-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(6<8)&&(cell[9][6]==0))
										  {//2 точка
										  cell_av[9][6]=1;
										  document.getElementById('td_g'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(6<8)&&(cell[9][6]*(cell[9][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][6]=1;
										  document.getElementById('td_g'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(7<8)&&(cell[8][7]==0)) 	 
										  {
										  cell_av[8][7]=1;
										  document.getElementById('td_h'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(7<8)&&(cell[8][7]*(cell[8][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][7]=1;
										  document.getElementById('td_h'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3>=0)&&(cell[8][3]==0)) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(3>=0)&&(cell[8][3]*(cell[8][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][3]=1;
										  document.getElementById('td_d'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(4>=0)&&(cell[9][4]==0)) 	 
										  {
										  cell_av[9][4]=1;
										  document.getElementById('td_e'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(4>=0)&&(cell[9][4]*(cell[9][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][4]=1;
										  document.getElementById('td_e'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(6<8)&&(cell[5][6]==0))
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(6<8)&&(cell[5][6]*(cell[5][6]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(7<8)&&(cell[6][7]==0)) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(7<8)&&(cell[6][7]*(cell[6][7]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(3>=0)&&(cell[6][3]==0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(3>=0)&&(cell[6][3]*(cell[6][3]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][3]=1;
										  document.getElementById('td_d'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4>=0)&&(cell[5][4]==0)) 	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(4>=0)&&(cell[5][4]*(cell[5][4]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][4]=1;
										  document.getElementById('td_e'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][5]==0) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][5]==0))	 
												  {
												  cell_av[5][5]=1;
												  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][6]>0)&&(cell[6][6]<100)) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][4]>0)&&(cell[6][4]<100)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][5]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][5]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][5]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][5]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][5]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][5]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='f'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][5]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][5]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp103.png" height=45></td><td id=td_g8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][6]!=0)
								 {cur_i=7;cur_ii=6;
								 arm=cell[7][6];
								 cell[7][6]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][6]==0) 	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][6]==0))	 
											  {
											  cell_av[9][6]=1;
											  document.getElementById('td_g10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][7]>100) 	 
										  {
										  cell_av[8][7]=1;
										  document.getElementById('td_h9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][5]>100) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][6]>100))
											{cell_av[7+i_l][6]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][6]!=0))
											  break;
										  cell_av[7+i_l][6]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][6]>100))
											{cell_av[7-i_l][6]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][6]!=0))
											  break;
										  cell_av[7-i_l][6]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[7][6+i_l]>100))
											{cell_av[7][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[7][6+i_l]!=0))
											  break;
										  cell_av[7][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[7][6-i_l]>100))
											{cell_av[7][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[7][6-i_l]!=0))
											  break;
										  cell_av[7][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][6]>0)&&(cell[7+i_l][6]<100))
											{cell_av[7+i_l][6]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][6]!=0))
											  break;
										  cell_av[7+i_l][6]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][6]>0)&&(cell[7-i_l][6]<100))
											{cell_av[7-i_l][6]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_g'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][6]!=0))
											  break;
										  cell_av[7-i_l][6]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_g'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6+i_l<8)&&(cell[7][6+i_l]>0)&&(cell[7][6+i_l]<100))
											{cell_av[7][6+i_l]=1;
											 var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6+i_l>7)||(cell[7][6+i_l]!=0))
											  break;
										  cell_av[7][6+i_l]=1;
										  var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((6-i_l>=0)&&(cell[7][6-i_l]>0)&&(cell[7][6-i_l]<100))
											{cell_av[7][6-i_l]=1;
											 var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((6-i_l<0)||(cell[7][6-i_l]!=0))
											  break;
										  cell_av[7][6-i_l]=1;
										  var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(6+i_l<8)&&(cell[7+i_l][6+i_l]>100))
											{cell_av[7+i_l][6+i_l]=1;
											 var i_r=8-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(6+i_l>7)||(cell[7+i_l][6+i_l]!=0))
											  break;
										  cell_av[7+i_l][6+i_l]=1;
										  var i_r=8-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(6-i_l>=0)&&(cell[7-i_l][6-i_l]>100))
											{cell_av[7-i_l][6-i_l]=1;
											 var i_r=8-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(6-i_l<0)||(cell[7-i_l][6-i_l]!=0))
											  break;
										  cell_av[7-i_l][6-i_l]=1;
										  var i_r=8-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(6+i_l<8)&&(cell[7-i_l][6+i_l]>100))
											{cell_av[7-i_l][6+i_l]=1;
											 var i_r=8-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(6+i_l>7)||(cell[7-i_l][6+i_l]!=0))
											  break;
										  cell_av[7-i_l][6+i_l]=1;
										  var i_r=8-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(6-i_l>=0)&&(cell[7+i_l][6-i_l]>100))
											{cell_av[7+i_l][6-i_l]=1;
											 var i_r=8-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(6-i_l<0)||(cell[7+i_l][6-i_l]!=0))
											  break;
										  cell_av[7+i_l][6-i_l]=1;
										  var i_r=8-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(6+i_l<8)&&(cell[7+i_l][6+i_l]>0)&&(cell[7+i_l][6+i_l]<100))
											{cell_av[7+i_l][6+i_l]=1;
											 var i_r=8-0+i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(6+i_l>7)||(cell[7+i_l][6+i_l]!=0))
											  break;
										  cell_av[7+i_l][6+i_l]=1;
										  var i_r=8-0+i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(6-i_l>=0)&&(cell[7-i_l][6-i_l]>0)&&(cell[7-i_l][6-i_l]<100))
											{cell_av[7-i_l][6-i_l]=1;
											 var i_r=8-0-i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(6-i_l<0)||(cell[7-i_l][6-i_l]!=0))
											  break;
										  cell_av[7-i_l][6-i_l]=1;
										  var i_r=8-0-i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(6+i_l<8)&&(cell[7-i_l][6+i_l]>0)&&(cell[7-i_l][6+i_l]<100))
											{cell_av[7-i_l][6+i_l]=1;
											 var i_r=8-0-i_l;var i_c=7-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(6+i_l>7)||(cell[7-i_l][6+i_l]!=0))
											  break;
										  cell_av[7-i_l][6+i_l]=1;
										  var i_r=8-0-i_l;var i_c=7-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(6-i_l>=0)&&(cell[7+i_l][6-i_l]>0)&&(cell[7+i_l][6-i_l]<100))
											{cell_av[7+i_l][6-i_l]=1;
											 var i_r=8-0+i_l;var i_c=7-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(6-i_l<0)||(cell[7+i_l][6-i_l]!=0))
											  break;
										  cell_av[7+i_l][6-i_l]=1;
										  var i_r=8-0+i_l;var i_c=7-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(7<8)&&(cell[9][7]==0))
										  {//2 точка
										  cell_av[9][7]=1;
										  document.getElementById('td_h'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(7<8)&&(cell[9][7]*(cell[9][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][7]=1;
										  document.getElementById('td_h'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(8<8)&&(cell[8][8]==0)) 	 
										  {
										  cell_av[8][8]=1;
										  document.getElementById('td_i'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(8<8)&&(cell[8][8]*(cell[8][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][8]=1;
										  document.getElementById('td_i'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4>=0)&&(cell[8][4]==0)) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(4>=0)&&(cell[8][4]*(cell[8][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][4]=1;
										  document.getElementById('td_e'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(5>=0)&&(cell[9][5]==0)) 	 
										  {
										  cell_av[9][5]=1;
										  document.getElementById('td_f'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(5>=0)&&(cell[9][5]*(cell[9][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][5]=1;
										  document.getElementById('td_f'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(7<8)&&(cell[5][7]==0))
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(7<8)&&(cell[5][7]*(cell[5][7]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][7]=1;
										  document.getElementById('td_h'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(8<8)&&(cell[6][8]==0)) 	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(8<8)&&(cell[6][8]*(cell[6][8]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(4>=0)&&(cell[6][4]==0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(4>=0)&&(cell[6][4]*(cell[6][4]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][4]=1;
										  document.getElementById('td_e'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5>=0)&&(cell[5][5]==0)) 	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(5>=0)&&(cell[5][5]*(cell[5][5]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][5]=1;
										  document.getElementById('td_f'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][6]==0) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][6]==0))	 
												  {
												  cell_av[5][6]=1;
												  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][7]>0)&&(cell[6][7]<100)) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][5]>0)&&(cell[6][5]<100)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][6]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][6]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][6]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][6]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][6]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][6]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='g'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][6]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][6]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#704C5E;"><img src="chess11_img/cp102.png" height=45></td><td id=td_h8 onclick="
							if(arm==0)
								{//берём фигуру в руку
								 if(cell[7][7]!=0)
								 {cur_i=7;cur_ii=7;
								 arm=cell[7][7];
								 cell[7][7]=0;
								 this.innerHTML='<img id=cp_arm src=chess11_img/cp'+arm+'.png height=45>';
								 document.getElementById('cp_arm').style.opacity=0.3;
								 if(arm==11)//белая пешка
									 {
									  if(cell[8][7]==0) 	 
										  {
										  cell_av[8][7]=1;
										  document.getElementById('td_h9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==2)&&(cell[9][7]==0))	 
											  {
											  cell_av[9][7]=1;
											  document.getElementById('td_h10').innerHTML='<img src=chess11_img/dot.png height=15> ';
											  
											  
											  }
										  }
									  if(cell[8][8]>100) 	 
										  {
										  cell_av[8][8]=1;
										  document.getElementById('td_i9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if(cell[8][6]>100) 	 
										  {
										  cell_av[8][6]=1;
										  document.getElementById('td_g9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								if((arm==1)||(arm==4)||(arm==5))//белая ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][7]>100))
											{cell_av[7+i_l][7]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][7]!=0))
											  break;
										  cell_av[7+i_l][7]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][7]>100))
											{cell_av[7-i_l][7]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][7]!=0))
											  break;
										  cell_av[7-i_l][7]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7][7+i_l]>100))
											{cell_av[7][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7][7+i_l]!=0))
											  break;
										  cell_av[7][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7][7-i_l]>100))
											{cell_av[7][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7][7-i_l]!=0))
											  break;
										  cell_av[7][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==101)||(arm==104)||(arm==105))//чёрная ладья или ферзь или король
									{//вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7+i_l][7]>0)&&(cell[7+i_l][7]<100))
											{cell_av[7+i_l][7]=1;
											 var i_r=8-0+i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7+i_l][7]!=0))
											  break;
										  cell_av[7+i_l][7]=1;
										  var i_r=8-0+i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7-i_l][7]>0)&&(cell[7-i_l][7]<100))
											{cell_av[7-i_l][7]=1;
											 var i_r=8-0-i_l;
											 document.getElementById('td_h'+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7-i_l][7]!=0))
											  break;
										  cell_av[7-i_l][7]=1;
										  var i_r=8-0-i_l;
										  document.getElementById('td_h'+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(cell[7][7+i_l]>0)&&(cell[7][7+i_l]<100))
											{cell_av[7][7+i_l]=1;
											 var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(cell[7][7+i_l]!=0))
											  break;
										  cell_av[7][7+i_l]=1;
										  var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(cell[7][7-i_l]>0)&&(cell[7][7-i_l]<100))
											{cell_av[7][7-i_l]=1;
											 var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(cell[7][7-i_l]!=0))
											  break;
										  cell_av[7][7-i_l]=1;
										  var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+'8').innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==3)||(arm==4)||(arm==5))//белый слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(7+i_l<8)&&(cell[7+i_l][7+i_l]>100))
											{cell_av[7+i_l][7+i_l]=1;
											 var i_r=8-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(7+i_l>7)||(cell[7+i_l][7+i_l]!=0))
											  break;
										  cell_av[7+i_l][7+i_l]=1;
										  var i_r=8-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(7-i_l>=0)&&(cell[7-i_l][7-i_l]>100))
											{cell_av[7-i_l][7-i_l]=1;
											 var i_r=8-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(7-i_l<0)||(cell[7-i_l][7-i_l]!=0))
											  break;
										  cell_av[7-i_l][7-i_l]=1;
										  var i_r=8-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(7+i_l<8)&&(cell[7-i_l][7+i_l]>100))
											{cell_av[7-i_l][7+i_l]=1;
											 var i_r=8-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(7+i_l>7)||(cell[7-i_l][7+i_l]!=0))
											  break;
										  cell_av[7-i_l][7+i_l]=1;
										  var i_r=8-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(7-i_l>=0)&&(cell[7+i_l][7-i_l]>100))
											{cell_av[7+i_l][7-i_l]=1;
											 var i_r=8-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(7-i_l<0)||(cell[7+i_l][7-i_l]!=0))
											  break;
										  cell_av[7+i_l][7-i_l]=1;
										  var i_r=8-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==5)break;
										 }
									}
								if((arm==103)||(arm==104)||(arm==105))//чёрный слон или ферзь или король
									{//вниз и вперёд
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(7+i_l<8)&&(cell[7+i_l][7+i_l]>0)&&(cell[7+i_l][7+i_l]<100))
											{cell_av[7+i_l][7+i_l]=1;
											 var i_r=8-0+i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(7+i_l>7)||(cell[7+i_l][7+i_l]!=0))
											  break;
										  cell_av[7+i_l][7+i_l]=1;
										  var i_r=8-0+i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вверх и назад
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(7-i_l>=0)&&(cell[7-i_l][7-i_l]>0)&&(cell[7-i_l][7-i_l]<100))
											{cell_av[7-i_l][7-i_l]=1;
											 var i_r=8-0-i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(7-i_l<0)||(cell[7-i_l][7-i_l]!=0))
											  break;
										  cell_av[7-i_l][7-i_l]=1;
										  var i_r=8-0-i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//вперёд и вверх
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7-i_l>=0)&&(7+i_l<8)&&(cell[7-i_l][7+i_l]>0)&&(cell[7-i_l][7+i_l]<100))
											{cell_av[7-i_l][7+i_l]=1;
											 var i_r=8-0-i_l;var i_c=8-0+i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7-i_l<0)||(7+i_l>7)||(cell[7-i_l][7+i_l]!=0))
											  break;
										  cell_av[7-i_l][7+i_l]=1;
										  var i_r=8-0-i_l;var i_c=8-0+i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									//назад и вниз
									 for(var i_l=1;i_l<8;i_l++)
										 {
										  if((7+i_l<8)&&(7-i_l>=0)&&(cell[7+i_l][7-i_l]>0)&&(cell[7+i_l][7-i_l]<100))
											{cell_av[7+i_l][7-i_l]=1;
											 var i_r=8-0+i_l;var i_c=8-0-i_l;
											 document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML+='<img src=chess11_img/dot.png height=15> ';
											}
										  if((7+i_l>7)||(7-i_l<0)||(cell[7+i_l][7-i_l]!=0))
											  break;
										  cell_av[7+i_l][7-i_l]=1;
										  var i_r=8-0+i_l;var i_c=8-0-i_l;
										  document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/dot.png height=15> ';
										 if(arm==105)break;
										 }
									}
								if((arm==2)||(arm==102))//конь
									 {
										if((9<8)&&(8<8)&&(cell[9][8]==0))
										  {//2 точка
										  cell_av[9][8]=1;
										  document.getElementById('td_i'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(8<8)&&(cell[9][8]*(cell[9][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[9][8]=1;
										  document.getElementById('td_i'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(9<8)&&(cell[8][9]==0)) 	 
										  {
										  cell_av[8][9]=1;
										  document.getElementById('td_j'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(9<8)&&(cell[8][9]*(cell[8][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[8][9]=1;
										  document.getElementById('td_j'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5>=0)&&(cell[8][5]==0)) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((8<8)&&(5>=0)&&(cell[8][5]*(cell[8][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[8][5]=1;
										  document.getElementById('td_f'+'9').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(6>=0)&&(cell[9][6]==0)) 	 
										  {
										  cell_av[9][6]=1;
										  document.getElementById('td_g'+'10').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((9<8)&&(6>=0)&&(cell[9][6]*(cell[9][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[9][6]=1;
										  document.getElementById('td_g'+'10').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 
										if((5>=0)&&(8<8)&&(cell[5][8]==0))
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(8<8)&&(cell[5][8]*(cell[5][8]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[5][8]=1;
										  document.getElementById('td_i'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(9<8)&&(cell[6][9]==0)) 	 
										  {
										  cell_av[6][9]=1;
										  document.getElementById('td_j'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(9<8)&&(cell[6][9]*(cell[6][9]-100)*(arm-100)<0))	 
										  {
										  cell_av[6][9]=1;
										  document.getElementById('td_j'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(5>=0)&&(cell[6][5]==0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((6>=0)&&(5>=0)&&(cell[6][5]*(cell[6][5]-100)*(arm-100)<0)) 	 
										  {
										  cell_av[6][5]=1;
										  document.getElementById('td_f'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(6>=0)&&(cell[5][6]==0)) 	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  }
										if((5>=0)&&(6>=0)&&(cell[5][6]*(cell[5][6]-100)*(arm-100)<0))	 
										  {
										  cell_av[5][6]=1;
										  document.getElementById('td_g'+'6').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
									 
								 if(arm==111)//чёрная пешка
									 {if(cell[6][7]==0) 	 
										  {
										  cell_av[6][7]=1;
										  document.getElementById('td_h'+'7').innerHTML='<img src=chess11_img/dot.png height=15> ';
										  
										  if((8==7)&&(cell[5][7]==0))	 
												  {
												  cell_av[5][7]=1;
												  document.getElementById('td_h'+'6').innerHTML='<img src=chess11_img/dot.png height=15> ';
												  
												  
												  }	
											}  
									 if((cell[6][8]>0)&&(cell[6][8]<100)) 	 
										  {
										  cell_av[6][8]=1;
										  document.getElementById('td_i'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									  if((cell[6][6]>0)&&(cell[6][6]<100)) 	 
										  {
										  cell_av[6][6]=1;
										  document.getElementById('td_g'+'7').innerHTML+='<img src=chess11_img/dot.png height=15> ';
										  }
									 }
								
								 }
								}
								else{//ставим фигуру в ячейку поля
									if(cell_av[7][7]==1)
										{
										
										if(document.getElementById('ch_col').value == 0)
										{
											if(cell[7][7]==5)
												document.getElementById('ch_res').innerHTML='Победа';
											if(cell[7][7]==105)
												document.getElementById('ch_res').innerHTML='Поражение';
										}
										if(document.getElementById('ch_col').value == 100)
										{
											if(cell[7][7]==5)
												document.getElementById('ch_res').innerHTML='Поражение';
											if(cell[7][7]==105)
												document.getElementById('ch_res').innerHTML='Победа';
										}
										if((arm==11)&&(8==8))arm=4;
										if((arm==111)&&(8==1))arm=104;
										cell[7][7]=arm;
										this.innerHTML='<img src=chess11_img/cp'+arm+'.png height=45> ';
										var cur_ir=cur_i+1;
										document.getElementById('c_from').value=String.fromCharCode('a'.charCodeAt()+cur_ii)+cur_ir;
										document.getElementById('c_to').value='h'+8;
										arm=0;
										for(var i=0;i<8;i++)
											for(var ii=0;ii<8;ii++)
											{cell_av[i][ii]=0;
											var i_r=i-0+1;var i_c=ii-0+1;
											if(cell[i][ii]==0)
												document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='';
												else document.getElementById('td_'+String.fromCharCode('a'.charCodeAt()+i_c-1)+i_r).innerHTML='<img src=chess11_img/cp'+cell[i][ii]+'.png height=45>';
											}
										cur_i=-1;cur_ii=-1;	
										
										if((document.getElementById('ch_ai').checked)
											&&!(((cell[7][7]-0>document.getElementById('ch_col').value-0)
											   &&(cell[7][7]-0<document.getElementById('ch_col').value-0+100))))
											document.getElementById('btn_next_move').onclick();
										}
									}
									
									
									
									
									
									
									
								" align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#EDDDD4;"><img src="chess11_img/cp101.png" height=45></td><td id=td_i8 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>8</h3></td></tr><tr><td id=td_`9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"></td><td id=td_a9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>a</h3></td><td id=td_b9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>b</h3></td><td id=td_c9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>c</h3></td><td id=td_d9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>d</h3></td><td id=td_e9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>e</h3></td><td id=td_f9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>f</h3></td><td id=td_g9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>g</h3></td><td id=td_h9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"><h3>h</h3></td><td id=td_i9 align=center style="width:50;height:50;border-style:solid;border-width:1;background-color:#568259;"></td></tr></table>

